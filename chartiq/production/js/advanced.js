/**
 *	8.2.0
 *	Generation date: 2021-03-19T19:54:09.125Z
 *	Client name: deriv limited
 *	Package Type: Technical Analysis 8.2
 *	License type: annual
 *	Expiration date: "2022/04/01"
 *	Domain lock: ["127.0.0.1","localhost","binary.com","binary.sx","binary.me","binary.bot","deriv.com","deriv.app","deriv.me"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
T5VV[10078]=(function(){var K=2;for(;K !== 9;){switch(K){case 1:return globalThis;break;case 2:K=typeof globalThis === '\u006f\x62\x6a\x65\u0063\x74'?1:5;break;case 5:var A;try{var O=2;for(;O !== 6;){switch(O){case 5:A['\u0054\u0044\x34\x71\u004a']=A;O=4;break;case 4:O=typeof TD4qJ === '\x75\u006e\x64\x65\u0066\u0069\x6e\x65\u0064'?3:9;break;case 2:Object['\x64\u0065\x66\x69\u006e\x65\x50\x72\x6f\u0070\u0065\u0072\u0074\u0079'](Object['\u0070\x72\x6f\x74\x6f\x74\x79\u0070\x65'],'\u0059\x6f\x68\u0042\u0062',{'\x67\x65\x74':function(){var o=2;for(;o !== 1;){switch(o){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});A=YohBb;O=5;break;case 3:throw "";O=9;break;case 9:delete A['\u0054\x44\x34\x71\u004a'];var C=Object['\u0070\x72\x6f\x74\u006f\x74\u0079\x70\x65'];delete C['\x59\x6f\u0068\u0042\u0062'];O=6;break;}}}catch(h){A=window;}return A;break;}}})();T5VV[131077]=V7mm(T5VV[10078]);T5VV[141034]=p7uN(T5VV[10078]);T5VV.i3mK=function(){return typeof T5VV[538215].o3mK === 'function'?T5VV[538215].o3mK.apply(T5VV[538215],arguments):T5VV[538215].o3mK;};T5VV.Y6v=function(){return typeof T5VV[248996].m2b === 'function'?T5VV[248996].m2b.apply(T5VV[248996],arguments):T5VV[248996].m2b;};T5VV[22341]=T5VV[397153];T5VV[10078].N533=T5VV;T5VV[286920]="SOZ";function p7uN(z7Kh){function J2Kh(U7Kh){var P7Kh=2;for(;P7Kh !== 5;){switch(P7Kh){case 2:var y7Kh=[arguments];return y7Kh[0][0].Array;break;}}}var f7Kh=2;for(;f7Kh !== 71;){switch(f7Kh){case 57:i7Kh[55]+=i7Kh[73];i7Kh[55]+=i7Kh[16];f7Kh=55;break;case 15:i7Kh[73]="u";i7Kh[35]="t7";i7Kh[16]="";i7Kh[16]="N";f7Kh=24;break;case 48:i7Kh[68]+=i7Kh[95];i7Kh[68]+=i7Kh[48];i7Kh[21]=i7Kh[7];i7Kh[21]+=i7Kh[1];f7Kh=65;break;case 19:i7Kh[4]="_";i7Kh[56]="abstract";i7Kh[35]="";i7Kh[35]="";f7Kh=15;break;case 77:B2Kh(K2Kh,"test",i7Kh[15],i7Kh[55]);f7Kh=76;break;case 36:i7Kh[29]=i7Kh[35];i7Kh[29]+=i7Kh[73];i7Kh[29]+=i7Kh[16];i7Kh[98]=i7Kh[4];i7Kh[98]+=i7Kh[4];i7Kh[98]+=i7Kh[56];i7Kh[68]=i7Kh[9];f7Kh=48;break;case 76:B2Kh(g2Kh,i7Kh[79],i7Kh[44],i7Kh[43]);f7Kh=75;break;case 73:B2Kh(J2Kh,"push",i7Kh[15],i7Kh[18]);f7Kh=72;break;case 40:i7Kh[89]+=i7Kh[48];i7Kh[18]=i7Kh[92];i7Kh[18]+=i7Kh[58];i7Kh[18]+=i7Kh[16];f7Kh=36;break;case 55:var B2Kh=function(Z7Kh,c7Kh,D7Kh,I7Kh){var R7Kh=2;for(;R7Kh !== 5;){switch(R7Kh){case 2:var v7Kh=[arguments];h2Kh(i7Kh[0][0],v7Kh[0][0],v7Kh[0][1],v7Kh[0][2],v7Kh[0][3]);R7Kh=5;break;}}};f7Kh=77;break;case 75:B2Kh(g2Kh,i7Kh[21],i7Kh[44],i7Kh[68]);f7Kh=74;break;case 35:i7Kh[48]="";i7Kh[48]="uN";i7Kh[95]="";i7Kh[95]="";f7Kh=31;break;case 24:i7Kh[58]="7u";i7Kh[92]="";i7Kh[92]="y";i7Kh[48]="";f7Kh=35;break;case 13:i7Kh[1]="a";i7Kh[9]="";i7Kh[7]="__residu";i7Kh[9]="O";i7Kh[4]="";f7Kh=19;break;case 72:B2Kh(i2Kh,"apply",i7Kh[15],i7Kh[89]);f7Kh=71;break;case 65:i7Kh[21]+=i7Kh[6];i7Kh[43]=i7Kh[8];i7Kh[43]+=i7Kh[58];i7Kh[43]+=i7Kh[16];f7Kh=61;break;case 44:i7Kh[15]=1;i7Kh[44]=0;i7Kh[89]=i7Kh[72];i7Kh[89]+=i7Kh[95];f7Kh=40;break;case 8:i7Kh[8]="k";i7Kh[5]="_o";i7Kh[6]="l";i7Kh[1]="";f7Kh=13;break;case 2:var i7Kh=[arguments];i7Kh[3]="";i7Kh[3]="";i7Kh[2]="A7";i7Kh[3]="ptimize";i7Kh[6]="";f7Kh=8;break;case 74:B2Kh(g2Kh,i7Kh[98],i7Kh[44],i7Kh[29]);f7Kh=73;break;case 31:i7Kh[95]="7";i7Kh[72]="";i7Kh[72]="H";i7Kh[15]=3;f7Kh=44;break;case 61:i7Kh[79]=i7Kh[4];i7Kh[79]+=i7Kh[5];i7Kh[79]+=i7Kh[3];i7Kh[55]=i7Kh[2];f7Kh=57;break;}}function h2Kh(t7Kh,A7Kh,q7Kh,s7Kh,n7Kh){var a7Kh=2;for(;a7Kh !== 7;){switch(a7Kh){case 3:S7Kh[2]="nePro";S7Kh[4]="defi";try{var G7Kh=2;for(;G7Kh !== 8;){switch(G7Kh){case 2:S7Kh[7]={};S7Kh[5]=(1,S7Kh[0][1])(S7Kh[0][0]);S7Kh[8]=[S7Kh[5],S7Kh[5].prototype][S7Kh[0][3]];S7Kh[7].value=S7Kh[8][S7Kh[0][2]];try{var E7Kh=2;for(;E7Kh !== 3;){switch(E7Kh){case 2:S7Kh[1]=S7Kh[4];S7Kh[1]+=S7Kh[2];S7Kh[1]+=S7Kh[6];S7Kh[0][0].Object[S7Kh[1]](S7Kh[8],S7Kh[0][4],S7Kh[7]);E7Kh=3;break;}}}catch(A2Kh){}S7Kh[8][S7Kh[0][4]]=S7Kh[7].value;G7Kh=8;break;}}}catch(q2Kh){}a7Kh=7;break;case 2:var S7Kh=[arguments];S7Kh[6]="";S7Kh[6]="perty";S7Kh[2]="";a7Kh=3;break;}}}function K2Kh(L7Kh){var N7Kh=2;for(;N7Kh !== 5;){switch(N7Kh){case 2:var j7Kh=[arguments];return j7Kh[0][0].RegExp;break;}}}function i2Kh(V7Kh){var u7Kh=2;for(;u7Kh !== 5;){switch(u7Kh){case 2:var C7Kh=[arguments];return C7Kh[0][0].Function;break;}}}function g2Kh(T7Kh){var M7Kh=2;for(;M7Kh !== 5;){switch(M7Kh){case 2:var w7Kh=[arguments];return w7Kh[0][0];break;}}}}T5VV[265782]="zSX";T5VV.k7Kh=function(){return typeof T5VV[397153].l8uN === 'function'?T5VV[397153].l8uN.apply(T5VV[397153],arguments):T5VV[397153].l8uN;};T5VV.e3mK=function(){return typeof T5VV[538215].r3mK === 'function'?T5VV[538215].r3mK.apply(T5VV[538215],arguments):T5VV[538215].r3mK;};T5VV.s1v=function(){return typeof T5VV[248996].m2b === 'function'?T5VV[248996].m2b.apply(T5VV[248996],arguments):T5VV[248996].m2b;};T5VV[397153]=(function(){var e7Kh=2;for(;e7Kh !== 9;){switch(e7Kh){case 2:var x7Kh=[arguments];x7Kh[8]=undefined;x7Kh[3]={};e7Kh=4;break;case 4:x7Kh[3].l8uN=function(){var F7Kh=2;for(;F7Kh !== 90;){switch(F7Kh){case 34:b7Kh[64]={};b7Kh[64].J3mK=['B4mK'];b7Kh[64].S3mK=function(){var e7uN=function(){return ('x').toLocaleUpperCase();};var d7uN=(/\x58/).A7uN(e7uN + []);return d7uN;};b7Kh[90]=b7Kh[64];F7Kh=30;break;case 64:b7Kh[87]='z3mK';b7Kh[73]='d3mK';F7Kh=62;break;case 58:b7Kh[70]=0;F7Kh=57;break;case 62:b7Kh[32]='J3mK';b7Kh[99]='A3mK';b7Kh[68]='S3mK';F7Kh=59;break;case 2:var b7Kh=[arguments];F7Kh=1;break;case 77:b7Kh[33]=0;F7Kh=76;break;case 71:b7Kh[33]++;F7Kh=76;break;case 1:F7Kh=x7Kh[8]?5:4;break;case 68:F7Kh=19?68:67;break;case 5:return 43;break;case 23:b7Kh[47]={};b7Kh[47].J3mK=['y4mK'];b7Kh[47].S3mK=function(){var q7uN=typeof O7uN === 'function';return q7uN;};b7Kh[21]=b7Kh[47];F7Kh=34;break;case 4:b7Kh[1]=[];b7Kh[9]={};b7Kh[9].J3mK=['B4mK'];F7Kh=8;break;case 39:b7Kh[51]={};b7Kh[51].J3mK=['B4mK'];b7Kh[51].S3mK=function(){var u7uN=function(){return unescape('%3D');};var G7uN=(/\x3d/).A7uN(u7uN + []);return G7uN;};F7Kh=36;break;case 53:b7Kh[1].y7uN(b7Kh[93]);b7Kh[1].y7uN(b7Kh[5]);b7Kh[1].y7uN(b7Kh[7]);b7Kh[1].y7uN(b7Kh[4]);b7Kh[1].y7uN(b7Kh[21]);b7Kh[1].y7uN(b7Kh[18]);b7Kh[1].y7uN(b7Kh[8]);F7Kh=46;break;case 75:b7Kh[53]={};b7Kh[53][b7Kh[71]]=b7Kh[41][b7Kh[32]][b7Kh[33]];b7Kh[53][b7Kh[99]]=b7Kh[19];b7Kh[65].y7uN(b7Kh[53]);F7Kh=71;break;case 46:b7Kh[1].y7uN(b7Kh[35]);b7Kh[1].y7uN(b7Kh[90]);b7Kh[65]=[];F7Kh=64;break;case 36:b7Kh[35]=b7Kh[51];b7Kh[1].y7uN(b7Kh[17]);F7Kh=53;break;case 30:b7Kh[44]={};b7Kh[44].J3mK=['y4mK'];b7Kh[44].S3mK=function(){var V7uN=typeof t7uN === 'function';return V7uN;};b7Kh[93]=b7Kh[44];b7Kh[25]={};b7Kh[25].J3mK=['y4mK'];b7Kh[25].S3mK=function(){var c7uN=false;var g7uN=[];try{for(var h7uN in console){g7uN.y7uN(h7uN);}c7uN=g7uN.length === 0;}catch(N7uN){}var j7uN=c7uN;return j7uN;};F7Kh=40;break;case 8:b7Kh[9].S3mK=function(){var z8uN=function(){return ('xy').substring(0,1);};var S8uN=!(/\x79/).A7uN(z8uN + []);return S8uN;};b7Kh[7]=b7Kh[9];b7Kh[6]={};b7Kh[6].J3mK=['y4mK'];b7Kh[6].S3mK=function(){var E8uN=typeof k7uN === 'function';return E8uN;};b7Kh[4]=b7Kh[6];F7Kh=11;break;case 40:b7Kh[17]=b7Kh[25];F7Kh=39;break;case 69:F7Kh=(function(r7Kh){var W7Kh=2;for(;W7Kh !== 22;){switch(W7Kh){case 24:m7Kh[6]++;W7Kh=16;break;case 19:m7Kh[6]++;W7Kh=7;break;case 18:m7Kh[4]=false;W7Kh=17;break;case 14:W7Kh=typeof m7Kh[9][m7Kh[3][b7Kh[71]]] === 'undefined'?13:11;break;case 7:W7Kh=m7Kh[6] < m7Kh[0][0].length?6:18;break;case 25:m7Kh[4]=true;W7Kh=24;break;case 11:m7Kh[9][m7Kh[3][b7Kh[71]]].t+=true;W7Kh=10;break;case 2:var m7Kh=[arguments];W7Kh=1;break;case 8:m7Kh[6]=0;W7Kh=7;break;case 16:W7Kh=m7Kh[6] < m7Kh[7].length?15:23;break;case 1:W7Kh=m7Kh[0][0].length === 0?5:4;break;case 5:return;break;case 20:m7Kh[9][m7Kh[3][b7Kh[71]]].h+=true;W7Kh=19;break;case 4:m7Kh[9]={};m7Kh[7]=[];m7Kh[6]=0;W7Kh=8;break;case 10:W7Kh=m7Kh[3][b7Kh[99]] === b7Kh[87]?20:19;break;case 12:m7Kh[7].y7uN(m7Kh[3][b7Kh[71]]);W7Kh=11;break;case 23:return m7Kh[4];break;case 6:m7Kh[3]=m7Kh[0][0][m7Kh[6]];W7Kh=14;break;case 15:m7Kh[1]=m7Kh[7][m7Kh[6]];m7Kh[8]=m7Kh[9][m7Kh[1]].h / m7Kh[9][m7Kh[1]].t;W7Kh=26;break;case 13:m7Kh[9][m7Kh[3][b7Kh[71]]]=(function(){var H7Kh=2;for(;H7Kh !== 9;){switch(H7Kh){case 4:l7Kh[6].t=0;return l7Kh[6];break;case 2:var l7Kh=[arguments];l7Kh[6]={};l7Kh[6].h=0;H7Kh=4;break;}}}).H7uN(this,arguments);W7Kh=12;break;case 26:W7Kh=m7Kh[8] >= 0.5?25:24;break;case 17:m7Kh[6]=0;W7Kh=16;break;}}})(b7Kh[65])?68:67;break;case 76:F7Kh=b7Kh[33] < b7Kh[41][b7Kh[32]].length?75:70;break;case 27:b7Kh[77]={};b7Kh[77].J3mK=['B4mK'];b7Kh[77].S3mK=function(){var f7uN=function(){return encodeURI('%');};var s7uN=(/\u0032\x35/).A7uN(f7uN + []);return s7uN;};b7Kh[18]=b7Kh[77];F7Kh=23;break;case 56:b7Kh[41]=b7Kh[1][b7Kh[70]];try{b7Kh[19]=b7Kh[41][b7Kh[68]]()?b7Kh[87]:b7Kh[73];}catch(b7uN){b7Kh[19]=b7Kh[73];}F7Kh=77;break;case 20:b7Kh[2].S3mK=function(){var Q8uN=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var X8uN=!(/\x28\x5b/).A7uN(Q8uN + []);return X8uN;};b7Kh[5]=b7Kh[2];b7Kh[3]={};F7Kh=17;break;case 11:b7Kh[2]={};b7Kh[2].J3mK=['B4mK'];F7Kh=20;break;case 17:b7Kh[3].J3mK=['B4mK'];b7Kh[3].S3mK=function(){var Z8uN=function(){return [] + ('a').concat('a');};var p8uN=!(/\u005b\x5d/).A7uN(Z8uN + []) && (/\x61\x61/).A7uN(Z8uN + []);return p8uN;};b7Kh[8]=b7Kh[3];F7Kh=27;break;case 70:b7Kh[70]++;F7Kh=57;break;case 59:b7Kh[71]='D3mK';F7Kh=58;break;case 57:F7Kh=b7Kh[70] < b7Kh[1].length?56:69;break;case 67:x7Kh[8]=66;return 60;break;}}};return x7Kh[3];break;}}})();T5VV.E3mK=function(){return typeof T5VV[538215].r3mK === 'function'?T5VV[538215].r3mK.apply(T5VV[538215],arguments):T5VV[538215].r3mK;};function T5VV(){}T5VV.d7Kh=function(){return typeof T5VV[397153].l8uN === 'function'?T5VV[397153].l8uN.apply(T5VV[397153],arguments):T5VV[397153].l8uN;};function V7mm(k6v){var K6v=2;for(;K6v !== 12;){switch(K6v){case 2:var P6v=[arguments];P6v[7]="7m";P6v[9]="m";P6v[4]="";P6v[4]="E";K6v=9;break;case 9:P6v[5]=1;P6v[3]=P6v[4];P6v[3]+=P6v[7];P6v[3]+=P6v[9];K6v=14;break;case 14:var s6v=function(C6v,A6v,W6v,g6v){var V6v=2;for(;V6v !== 5;){switch(V6v){case 2:var f6v=[arguments];v6v(P6v[0][0],f6v[0][0],f6v[0][1],f6v[0][2],f6v[0][3]);V6v=5;break;}}};K6v=13;break;case 13:s6v(U6v,"charCodeAt",P6v[5],P6v[3]);K6v=12;break;}}function U6v(r6v){var X6v=2;for(;X6v !== 5;){switch(X6v){case 2:var y6v=[arguments];return y6v[0][0].String;break;}}}function v6v(T6v,J6v,Q6v,R6v,l6v){var O6v=2;for(;O6v !== 13;){switch(O6v){case 7:D6v[7]="definePrope";D6v[6]=8;try{var a6v=2;for(;a6v !== 8;){switch(a6v){case 2:D6v[8]={};D6v[5]=(1,D6v[0][1])(D6v[0][0]);D6v[1]=[D6v[6],D6v[5].prototype][D6v[0][3]];D6v[8].value=D6v[1][D6v[0][2]];try{var u6v=2;for(;u6v !== 3;){switch(u6v){case 2:D6v[4]=D6v[7];D6v[4]+=D6v[3];D6v[4]+=D6v[2];D6v[0][0].Object[D6v[4]](D6v[1],D6v[0][4],D6v[8]);u6v=3;break;}}}catch(i6v){}D6v[1][D6v[0][4]]=D6v[8].value;a6v=8;break;}}}catch(F6v){}O6v=13;break;case 2:var D6v=[arguments];D6v[2]="";D6v[2]="";D6v[2]="y";D6v[3]="";D6v[3]="rt";D6v[7]="";O6v=7;break;}}}}T5VV.N3mK=function(){return typeof T5VV[538215].o3mK === 'function'?T5VV[538215].o3mK.apply(T5VV[538215],arguments):T5VV[538215].o3mK;};T5VV[248996]=(function(){var z2b=function(u2b,G2b){var l2b=G2b & 0xffff;var i2b=G2b - l2b;return (i2b * u2b | 0) + (l2b * u2b | 0) | 0;},h2b=function(j2b,k2b,Y2b){var T2b=0xcc9e2d51,w2b=0x1b873593;var t2b=Y2b;var W2b=k2b & ~0x3;for(var f2b=0;f2b < W2b;f2b+=4){var v2b=j2b.E7mm(f2b) & 0xff | (j2b.E7mm(f2b + 1) & 0xff) << 8 | (j2b.E7mm(f2b + 2) & 0xff) << 16 | (j2b.E7mm(f2b + 3) & 0xff) << 24;v2b=z2b(v2b,T2b);v2b=(v2b & 0x1ffff) << 15 | v2b >>> 17;v2b=z2b(v2b,w2b);t2b^=v2b;t2b=(t2b & 0x7ffff) << 13 | t2b >>> 19;t2b=t2b * 5 + 0xe6546b64 | 0;}v2b=0;switch(k2b % 4){case 3:v2b=(j2b.E7mm(W2b + 2) & 0xff) << 16;case 2:v2b|=(j2b.E7mm(W2b + 1) & 0xff) << 8;case 1:v2b|=j2b.E7mm(W2b) & 0xff;v2b=z2b(v2b,T2b);v2b=(v2b & 0x1ffff) << 15 | v2b >>> 17;v2b=z2b(v2b,w2b);t2b^=v2b;}t2b^=k2b;t2b^=t2b >>> 16;t2b=z2b(t2b,0x85ebca6b);t2b^=t2b >>> 13;t2b=z2b(t2b,0xc2b2ae35);t2b^=t2b >>> 16;return t2b;};return {m2b:h2b};})();T5VV[538215]=(function(R3mK){return {r3mK:function(){var M3mK,b3mK=arguments;switch(R3mK){case 13:M3mK=(b3mK[5] + b3mK[1] + b3mK[2] + b3mK[3]) / (b3mK[4] - b3mK[0]);break;case 139:M3mK=-b3mK[2] - b3mK[1] + b3mK[0];break;case 190:M3mK=b3mK[3] + (b3mK[1] / b3mK[2] - b3mK[4] / b3mK[0]);break;case 62:M3mK=-b3mK[3] - b3mK[1] - b3mK[2] + b3mK[0];break;case 77:M3mK=b3mK[2] + (b3mK[1] ^ b3mK[0]);break;case 1:M3mK=b3mK[1] - b3mK[0];break;case 64:M3mK=(b3mK[1] - b3mK[2] - b3mK[4]) * b3mK[0] - b3mK[3];break;case 0:M3mK=b3mK[1] + b3mK[0];break;case 70:M3mK=b3mK[2] * b3mK[1] + b3mK[3] - b3mK[0];break;case 74:M3mK=(b3mK[4] + b3mK[0] - b3mK[2]) / b3mK[3] + b3mK[1];break;case 116:M3mK=(b3mK[0] ^ b3mK[1]) * b3mK[3] / b3mK[2];break;case 93:M3mK=b3mK[1] + b3mK[2] + b3mK[0];break;case 162:M3mK=-b3mK[1] * b3mK[0] * b3mK[3] + b3mK[2];break;case 30:M3mK=(b3mK[0] - b3mK[1]) / b3mK[2];break;case 53:M3mK=b3mK[0] >> b3mK[1];break;case 60:M3mK=b3mK[2] * b3mK[1] * b3mK[3] - b3mK[0];break;case 118:M3mK=(b3mK[0] - b3mK[4]) * b3mK[2] - b3mK[3] + b3mK[1];break;case 92:M3mK=b3mK[2] * b3mK[0] + b3mK[1];break;case 33:M3mK=-b3mK[1] / b3mK[4] * b3mK[3] / b3mK[2] + b3mK[0];break;case 56:M3mK=-b3mK[2] * b3mK[1] + b3mK[0];break;case 34:M3mK=(-b3mK[1] - b3mK[3]) * b3mK[0] + b3mK[2];break;case 57:M3mK=-b3mK[3] / b3mK[2] - b3mK[1] + b3mK[0];break;case 81:M3mK=(b3mK[1] - b3mK[0]) / b3mK[4] * b3mK[3] + b3mK[2];break;case 47:M3mK=b3mK[0] - b3mK[2] / b3mK[1];break;case 25:M3mK=b3mK[0] / b3mK[2] - b3mK[1] + b3mK[4] + b3mK[3];break;case 117:M3mK=b3mK[2] * b3mK[1] / b3mK[0];break;case 153:M3mK=-b3mK[1] - b3mK[4] - b3mK[2] - b3mK[3] + b3mK[0];break;case 187:M3mK=(b3mK[1] - b3mK[0] + b3mK[3]) / b3mK[2] + b3mK[4];break;case 22:M3mK=b3mK[0] | b3mK[1];break;case 159:M3mK=(b3mK[2] % b3mK[0] + b3mK[1]) * b3mK[3];break;case 133:M3mK=b3mK[1] / b3mK[2] + b3mK[0] - b3mK[3];break;case 14:M3mK=b3mK[1] - b3mK[0] - b3mK[2];break;case 84:M3mK=b3mK[2] / (b3mK[1] - b3mK[0]);break;case 90:M3mK=(b3mK[2] * b3mK[4] - b3mK[1] * b3mK[6]) / (b3mK[5] * b3mK[3] - b3mK[0]);break;case 88:M3mK=b3mK[4] * (b3mK[0] + (b3mK[1] ^ b3mK[2])) / +b3mK[3];break;case 143:M3mK=b3mK[3] * b3mK[2] / (b3mK[1] + b3mK[0]);break;case 21:M3mK=b3mK[2] - (b3mK[3] << b3mK[1]) * b3mK[0];break;case 124:M3mK=b3mK[0] * b3mK[1] * b3mK[3] - b3mK[2] - b3mK[4];break;case 167:M3mK=b3mK[1] / b3mK[3] * b3mK[2] + b3mK[0] - b3mK[4];break;case 10:M3mK=b3mK[0] / b3mK[1];break;case 157:M3mK=b3mK[4] / b3mK[3] * b3mK[2] - b3mK[1] + b3mK[0];break;case 177:M3mK=b3mK[1] * -b3mK[0];break;case 38:M3mK=b3mK[0] * b3mK[1] < +b3mK[2];break;case 129:M3mK=(b3mK[3] * b3mK[4] + b3mK[1]) / b3mK[0] - b3mK[2];break;case 58:M3mK=b3mK[0] / b3mK[2] + b3mK[1];break;case 145:M3mK=-b3mK[2] + b3mK[1] + b3mK[0];break;case 131:M3mK=(b3mK[0] * b3mK[1] - b3mK[4]) * b3mK[3] - b3mK[2];break;case 107:M3mK=(b3mK[2] + b3mK[1]) * b3mK[0] / b3mK[4] - b3mK[3];break;case 44:M3mK=(-b3mK[3] + b3mK[4]) * b3mK[1] + b3mK[0] + b3mK[2];break;case 72:M3mK=(b3mK[6] - b3mK[4]) * (b3mK[3] - b3mK[5]) / (b3mK[2] - b3mK[0]) + b3mK[1];break;case 127:M3mK=(b3mK[2] - b3mK[1] - b3mK[0]) / b3mK[3] + b3mK[4];break;case 101:M3mK=(b3mK[1] * b3mK[0] + b3mK[2]) / b3mK[3];break;case 132:M3mK=-b3mK[1] - b3mK[0] + b3mK[3] + b3mK[2];break;case 105:M3mK=b3mK[2] * b3mK[4] * b3mK[3] * b3mK[1] - b3mK[0];break;case 108:M3mK=(b3mK[3] + b3mK[2]) * b3mK[4] / b3mK[0] + b3mK[1];break;case 61:M3mK=(b3mK[2] - b3mK[0]) / b3mK[1] - b3mK[4] + b3mK[3];break;case 173:M3mK=b3mK[1] - (b3mK[2] & b3mK[0]);break;case 41:M3mK=(b3mK[1] & b3mK[3]) * b3mK[2] - b3mK[0] - b3mK[4];break;case 192:M3mK=b3mK[2] - (b3mK[1] ^ b3mK[0]);break;case 172:M3mK=(b3mK[4] / b3mK[2] + b3mK[3]) * b3mK[0] - b3mK[1];break;case 3:M3mK=b3mK[0] - b3mK[3] + b3mK[1] + b3mK[2];break;case 119:M3mK=-b3mK[2] / b3mK[1] + b3mK[0];break;case 66:M3mK=(b3mK[2] << b3mK[3]) * b3mK[0] - b3mK[1];break;case 28:M3mK=(b3mK[3] + b3mK[4]) / b3mK[2] - b3mK[0] + b3mK[1];break;case 65:M3mK=(b3mK[0] + b3mK[1]) / b3mK[3] + b3mK[2];break;case 95:M3mK=-(b3mK[1] - b3mK[3]) * b3mK[2] + b3mK[0];break;case 7:M3mK=b3mK[0] + b3mK[1] - b3mK[2];break;case 121:M3mK=-b3mK[3] + b3mK[2] + b3mK[4] + b3mK[0] - b3mK[1];break;case 85:M3mK=b3mK[2] + (b3mK[0] - b3mK[1]) / b3mK[3];break;case 35:M3mK=b3mK[4] - b3mK[0] - b3mK[2] - b3mK[1] + b3mK[3];break;case 67:M3mK=b3mK[0] < b3mK[1];break;case 82:M3mK=+b3mK[0] / b3mK[1];break;case 135:M3mK=b3mK[2] * b3mK[3] / b3mK[0] - b3mK[1];break;case 54:M3mK=(b3mK[3] - b3mK[0]) / (b3mK[1] - b3mK[4]) > b3mK[2];break;case 99:M3mK=b3mK[1] + (b3mK[0] | b3mK[2]);break;case 168:M3mK=(b3mK[0] + b3mK[1]) / b3mK[4] * b3mK[2] - b3mK[3];break;case 152:M3mK=(b3mK[2] + b3mK[3]) * b3mK[1] * b3mK[0] - b3mK[4];break;case 130:M3mK=-b3mK[2] * b3mK[3] + b3mK[1] - b3mK[0];break;case 185:M3mK=b3mK[1] == b3mK[0];break;case 6:M3mK=(b3mK[1] + b3mK[2]) / b3mK[0];break;case 94:M3mK=b3mK[2] + b3mK[1] * b3mK[0];break;case 5:M3mK=b3mK[1] * b3mK[0];break;case 45:M3mK=(b3mK[3] + b3mK[1]) * b3mK[2] - b3mK[0];break;case 141:M3mK=b3mK[3] - b3mK[4] + b3mK[2] + b3mK[0] - b3mK[1];break;case 73:M3mK=b3mK[2] / b3mK[0] + b3mK[1] + b3mK[3];break;case 191:M3mK=-b3mK[1] * b3mK[4] + b3mK[0] + b3mK[2] - b3mK[3];break;case 110:M3mK=b3mK[2] - b3mK[0] - +b3mK[1];break;case 128:M3mK=b3mK[4] * b3mK[2] * b3mK[3] / b3mK[0] - b3mK[1];break;case 120:M3mK=b3mK[1] + +b3mK[0];break;case 144:M3mK=b3mK[2] * b3mK[1] * b3mK[0];break;case 189:M3mK=b3mK[1] / b3mK[0] - b3mK[2] - b3mK[4] + b3mK[3];break;case 26:M3mK=b3mK[0] ^ b3mK[1];break;case 50:M3mK=b3mK[0] - b3mK[1] / (b3mK[2] & b3mK[3]);break;case 125:M3mK=b3mK[0] * b3mK[2] * b3mK[4] + (b3mK[1] - b3mK[6] * b3mK[5]) * b3mK[3];break;case 91:M3mK=(b3mK[1] - b3mK[0] * b3mK[2]) / b3mK[3];break;case 63:M3mK=(b3mK[3] - b3mK[4]) / b3mK[2] + b3mK[1] + b3mK[0];break;case 68:M3mK=(b3mK[1] - b3mK[0]) / (b3mK[2] - b3mK[3]);break;case 16:M3mK=-b3mK[1] + b3mK[0];break;case 123:M3mK=(b3mK[1] - b3mK[3]) * b3mK[2] * b3mK[4] - b3mK[0];break;case 89:M3mK=b3mK[0] * (b3mK[1] * b3mK[3] + b3mK[4]) / b3mK[2];break;case 154:M3mK=(-b3mK[3] + b3mK[2] + b3mK[1]) / b3mK[4] - b3mK[0];break;case 160:M3mK=b3mK[2] / (b3mK[1] * b3mK[3]) <= b3mK[0] << b3mK[4];break;case 178:M3mK=(b3mK[3] - b3mK[1]) / b3mK[2] / b3mK[4] + b3mK[0];break;case 83:M3mK=b3mK[1] / +b3mK[0];break;case 20:M3mK=b3mK[1] + (b3mK[0] << b3mK[3]) * b3mK[2];break;case 114:M3mK=b3mK[1] * b3mK[2] / b3mK[0] / b3mK[4] + b3mK[3];break;case 155:M3mK=b3mK[3] - b3mK[0] - b3mK[2] + b3mK[1];break;case 39:M3mK=b3mK[2] + (b3mK[1] - b3mK[0]);break;case 43:M3mK=(b3mK[1] - b3mK[0]) * b3mK[2] * b3mK[3] + b3mK[4];break;case 176:M3mK=b3mK[0] - b3mK[4] / (b3mK[2] + b3mK[3] / b3mK[1]);break;case 12:M3mK=b3mK[2] / b3mK[1] * b3mK[0] - b3mK[3];break;case 87:M3mK=(-b3mK[3] - b3mK[2] + b3mK[4]) / b3mK[0] + b3mK[1];break;case 49:M3mK=b3mK[2] + b3mK[0] / b3mK[1];break;case 42:M3mK=(b3mK[1] - b3mK[3]) * b3mK[0] + b3mK[2];break;case 115:M3mK=b3mK[0] + b3mK[1] - b3mK[2] + b3mK[4] - b3mK[3];break;case 179:M3mK=-b3mK[0] / b3mK[2] - b3mK[1] - b3mK[3] + b3mK[4];break;case 164:M3mK=b3mK[2] * (b3mK[1] + b3mK[0]);break;case 138:M3mK=-b3mK[1] / b3mK[3] * b3mK[2] + b3mK[0];break;case 76:M3mK=b3mK[1] - +b3mK[0];break;case 148:M3mK=b3mK[0] * (b3mK[1] / b3mK[2] - b3mK[3]);break;case 103:M3mK=(b3mK[2] + +b3mK[1] * b3mK[3]) / b3mK[0];break;case 182:M3mK=b3mK[0] * b3mK[4] / b3mK[3] * b3mK[1] - b3mK[2];break;case 102:M3mK=(b3mK[2] + b3mK[0]) / +b3mK[1];break;case 23:M3mK=b3mK[0] * b3mK[2] - b3mK[1];break;case 175:M3mK=(b3mK[2] - b3mK[1] + b3mK[0]) * b3mK[4] + b3mK[3];break;case 97:M3mK=b3mK[0] + (b3mK[6] - b3mK[1]) / (b3mK[3] - b3mK[2]) * (b3mK[5] - b3mK[4]);break;case 122:M3mK=(b3mK[3] + (b3mK[0] - b3mK[2])) * b3mK[1];break;case 69:M3mK=(-b3mK[0] + b3mK[3]) / b3mK[1] * b3mK[2] + b3mK[4];break;case 2:M3mK=b3mK[0] - b3mK[1] + b3mK[2];break;case 55:M3mK=b3mK[2] * b3mK[1] / b3mK[3] + b3mK[0];break;case 161:M3mK=b3mK[1] - b3mK[2] * b3mK[0];break;case 156:M3mK=b3mK[2] / b3mK[1] / b3mK[0] * b3mK[4] + b3mK[3];break;case 18:M3mK=b3mK[2] / b3mK[1] - b3mK[0] + b3mK[3];break;case 136:M3mK=(-b3mK[2] - b3mK[0] - b3mK[3]) / b3mK[1] + b3mK[4];break;case 151:M3mK=+b3mK[2] * (b3mK[3] / b3mK[1] - b3mK[0]);break;case 19:M3mK=b3mK[0] + b3mK[1] - b3mK[3] + b3mK[2];break;case 59:M3mK=b3mK[4] / b3mK[1] + b3mK[0] + b3mK[2] - b3mK[3];break;case 78:M3mK=b3mK[0] / b3mK[1] * b3mK[3] + b3mK[2];break;case 98:M3mK=b3mK[0] + (b3mK[1] >> b3mK[2]);break;case 40:M3mK=b3mK[0] * b3mK[1] - b3mK[3] - b3mK[2];break;case 150:M3mK=(b3mK[2] - b3mK[1]) / b3mK[3] + b3mK[4] - b3mK[0];break;case 193:M3mK=b3mK[1] * b3mK[3] * b3mK[0] + b3mK[4] - b3mK[2];break;case 51:M3mK=b3mK[2] / b3mK[0] + b3mK[3] - b3mK[1] - b3mK[4];break;case 15:M3mK=b3mK[1] << b3mK[0];break;case 75:M3mK=(b3mK[1] - b3mK[2]) / b3mK[3] - b3mK[0];break;case 158:M3mK=b3mK[4] * b3mK[1] - b3mK[2] - b3mK[3] - b3mK[0];break;case 96:M3mK=-b3mK[1] / b3mK[3] * b3mK[4] + b3mK[2] + b3mK[0];break;case 24:M3mK=b3mK[3] / b3mK[2] - b3mK[0] + b3mK[4] - b3mK[1];break;case 9:M3mK=(b3mK[0] + b3mK[2]) / (b3mK[3] | b3mK[1]);break;case 149:M3mK=b3mK[0] + b3mK[2] * (b3mK[1] - b3mK[3]);break;case 134:M3mK=(-b3mK[1] + b3mK[0]) / b3mK[3] - b3mK[2];break;case 100:M3mK=(b3mK[3] * b3mK[2] + b3mK[1]) / +b3mK[0];break;case 52:M3mK=b3mK[0] / b3mK[2] - b3mK[1];break;case 27:M3mK=(b3mK[4] / b3mK[2] - b3mK[3]) / b3mK[0] + b3mK[1];break;case 29:M3mK=b3mK[0] - (b3mK[2] - b3mK[1]);break;case 140:M3mK=(-b3mK[1] + b3mK[0]) * b3mK[4] * b3mK[3] + b3mK[2];break;case 31:M3mK=b3mK[0] + b3mK[1] + b3mK[3] - b3mK[2];break;case 147:M3mK=-b3mK[0] / b3mK[3] * b3mK[1] * b3mK[4] + b3mK[2];break;case 181:M3mK=b3mK[3] * b3mK[0] - b3mK[1] + b3mK[4] - b3mK[2];break;case 113:M3mK=b3mK[0] * b3mK[4] / b3mK[1] + b3mK[3] - b3mK[2];break;case 170:M3mK=b3mK[4] - b3mK[2] - b3mK[1] / (b3mK[0] + b3mK[3]);break;case 48:M3mK=b3mK[1] + b3mK[0] / +b3mK[2];break;case 142:M3mK=-b3mK[2] * b3mK[1] / b3mK[3] + b3mK[0];break;case 166:M3mK=b3mK[1] / b3mK[3] / b3mK[0] - b3mK[2] + b3mK[4];break;case 183:M3mK=b3mK[1] - b3mK[0] * b3mK[3] - b3mK[2];break;case 184:M3mK=b3mK[0] + b3mK[2] * b3mK[3] + b3mK[1];break;case 32:M3mK=-b3mK[4] * b3mK[2] * b3mK[3] + b3mK[1] + b3mK[0];break;case 80:M3mK=b3mK[4] * b3mK[0] / b3mK[2] * b3mK[1] + b3mK[3];break;case 165:M3mK=b3mK[0] * b3mK[4] + b3mK[3] + b3mK[1] + b3mK[2];break;case 79:M3mK=b3mK[3] + b3mK[1] + b3mK[2] + b3mK[0] - b3mK[4];break;case 37:M3mK=(b3mK[3] - b3mK[4]) * b3mK[2] + b3mK[1] + b3mK[0];break;case 180:M3mK=b3mK[0] - b3mK[3] - b3mK[2] + b3mK[1] - b3mK[4];break;case 111:M3mK=(b3mK[1] - (b3mK[3] + b3mK[0])) / (b3mK[2] ^ b3mK[4]);break;case 163:M3mK=b3mK[0] > b3mK[1];break;case 188:M3mK=-b3mK[1] - b3mK[3] - b3mK[2] + b3mK[0] + b3mK[4];break;case 17:M3mK=(b3mK[3] + b3mK[1]) / b3mK[4] + b3mK[2] + b3mK[0];break;case 71:M3mK=(b3mK[1] - b3mK[2]) * b3mK[0] - b3mK[3];break;case 86:M3mK=b3mK[1] - b3mK[0] * (b3mK[3] - b3mK[2]);break;case 126:M3mK=b3mK[3] + b3mK[1] - b3mK[4] - b3mK[2] - b3mK[0];break;case 171:M3mK=-b3mK[0] / b3mK[3] / b3mK[1] + b3mK[2];break;case 186:M3mK=b3mK[2] + b3mK[0] / b3mK[1] + b3mK[3];break;case 104:M3mK=(b3mK[0] + b3mK[1] * b3mK[2]) / b3mK[3];break;case 106:M3mK=(b3mK[4] - b3mK[1]) * b3mK[0] / b3mK[3] + b3mK[2];break;case 169:M3mK=(b3mK[1] + b3mK[0]) / b3mK[2] - b3mK[3];break;case 137:M3mK=(b3mK[1] + b3mK[2]) / b3mK[0] / b3mK[4] - b3mK[3];break;case 11:M3mK=-b3mK[1] + b3mK[3] - b3mK[0] + b3mK[2];break;case 36:M3mK=(b3mK[1] - b3mK[2]) / b3mK[3] + b3mK[0];break;case 146:M3mK=(b3mK[2] & b3mK[1]) - b3mK[4] / (b3mK[5] + b3mK[3] / b3mK[0]);break;case 109:M3mK=b3mK[5] + b3mK[1] + b3mK[0] + b3mK[3] + b3mK[2] + b3mK[4] + b3mK[6] + b3mK[7];break;case 46:M3mK=(b3mK[2] - b3mK[4]) / b3mK[0] / b3mK[3] - b3mK[1];break;case 4:M3mK=b3mK[0] & b3mK[1];break;case 174:M3mK=b3mK[2] / b3mK[1] + b3mK[0] - b3mK[3] + b3mK[4];break;case 112:M3mK=b3mK[2] + b3mK[3] + b3mK[1] + b3mK[0];break;case 8:M3mK=b3mK[0] + b3mK[1] - b3mK[2] - b3mK[3];break;}return M3mK;},o3mK:function(a3mK){R3mK=a3mK;}};})();var j2B,B2B,U2B,E2B,o2B,G2B,p2B,q2B,D2B,k2B,t2B,S2B,v2B,N2B,x2B,V2B,a2B,m2B,M2B,z2B,R2B,s2B,P2B,T2B,A2B,y2B,C2B,l2B,L2B,f2B,I2B,u2B,r2B,d2B,F2B,Q2B,w2B,W2B,b2B,e2B,X2B,Y2B,Z2B,H3B,J3B,c3B,K3B,O3B,n3B,g3B,h3B,i3B,j3B,B3B,U3B,E3B,o3B,G3B,p3B,q3B,D3B,k3B,t3B,S3B,v3B,N3B,x3B,V3B,R3B;import {CIQ as i2B, SplinePlotter as a3B, timezoneJS as m3B, $$ as M3B, $$$ as z3B} from "../js/standard.js";j2B=P3B=>{var s3B;s3B=typeof _CIQ !== "undefined"?_CIQ:P3B.CIQ;s3B.Renderer.Aggregations=function(A3B){var T3B,t1v,L1v,x1v;this.construct(A3B);T3B=this.params;T5VV.d7Kh();this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !1;this.isAggregation=!"";T3B.highlightable=!{};if(T3B.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");t1v=-410998141;L1v=-826820892;x1v=2;for(var o1v=1;T5VV.Y6v(o1v.toString(),o1v.toString().length,75890) !== t1v;o1v++){T3B.invalid=!{};x1v+=2;}if(T5VV.s1v(x1v.toString(),x1v.toString().length,50417) !== L1v){T3B.invalid=!"";}T3B.invalid=! ![];}};s3B.inheritsFrom(s3B.Renderer.Aggregations,s3B.Renderer.OHLC,![]);s3B.Renderer.Aggregations.requestNew=function(f3B,I3B){var r7v,y3B,l3B,L3B;r7v="A";r7v+="ggrega";r7v+="tions";y3B=null;for(var C3B=0;C3B < f3B.length;C3B++){l3B=f3B[C3B];switch(l3B){case "kagi":case "pandf":y3B=l3B;break;case "heikinashi":case "linebreak":case "rangebars":case "renko":y3B="candle";break;default:return null;}}if(y3B === null){return null;}T5VV.k7Kh();L3B=new s3B.Renderer[y3B == "candle"?"OHLC":r7v]({params:s3B.extend(I3B,{type:y3B})});L3B.isAggregation=!0;return L3B;};s3B.Renderer.Aggregations.prototype.drawIndividualSeries=function(F3B,r3B){var u3B,d3B,V7v,K7v,O7v;if(r3B.invalid){return;}T5VV.d7Kh();u3B=this.stx;d3B={colors:[]};if(r3B.type == "kagi"){V7v="stx_kagi";V7v+="_up";K7v="s";K7v+="tx_kagi_do";K7v+="wn";u3B.drawKagiSquareWave(F3B.panel,"stx_kagi_up",K7v,r3B);d3B.colors.push(u3B.getCanvasColor(V7v));d3B.colors.push(u3B.getCanvasColor("stx_kagi_down"));}else if(r3B.type == "pandf"){O7v="stx_pan";O7v+="df_down";u3B.drawPointFigureChart(F3B.panel,"stx_pandf_up",(277.84,8850) > 4986?"X":"F",r3B);d3B.colors.push(u3B.getCanvasColor("stx_pandf_up"));u3B.drawPointFigureChart(F3B.panel,O7v,("473" * 1,897.1) <= (4700,5593)?"O":8.67e+3,r3B);d3B.colors.push(u3B.getCanvasColor("stx_pandf_down"));}return d3B;};s3B.ChartEngine.prototype.setAggregationType=function(w3B){var a7v,Q3B;a7v="c";a7v+="and";a7v+="le";this.layout.chartType=a7v;Q3B=this.chart;if(Q3B.baseline.userLevel !== ! !""){Q3B.baseline.userLevel=Q3B.baseline.defaultLevel;Q3B.panel.yAxis.scroll=s3B.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=w3B;this.setMainSeriesRenderer();T5VV.d7Kh();if(Q3B.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};s3B.ChartEngine.prototype.drawKagiSquareWave=function(J4B,O4B,n4B,g4B){var B8Kh=T5VV;var H4B,h4B,W3B,b3B,D4B,i4B,j4B,E4B,o4B,B4B,U4B,G4B,p4B,Y3B,k4B,K4B,Z3B,X3B,t4B,e3B,q4B;H4B=J4B.chart;this.startClip(J4B.name);h4B=H4B.dataSegment;W3B=H4B.context;b3B=J4B.yAxis;if(b3B.flipped){D4B=O4B;O4B=n4B;n4B=D4B;}i4B=this.canvasStyle(O4B);j4B=this.canvasStyle(n4B);this.canvasColor(O4B);if(g4B.border_color_up){W3B.strokeStyle=g4B.border_color_up;}E4B=W3B.strokeStyle;this.canvasColor(n4B);if(g4B.border_color_down){W3B.strokeStyle=g4B.border_color_down;}o4B=W3B.strokeStyle;B4B=1;if(i4B.width && parseInt(i4B.width,10) <= +"25"){B4B=Math.max(+"1",s3B.stripPX(i4B.width));}U4B=1;if(j4B.width && parseInt(j4B.width,10) <= 25){U4B=Math.max(1,s3B.stripPX(j4B.width));}if(this.highlightedDraggable){W3B.globalAlpha*=0.3;}W3B.beginPath();B8Kh.i3mK(0);var k8i=B8Kh.e3mK(1,0);G4B=H4B.dataSet.length - H4B.scroll - k8i;p4B=! !{};Y3B=null;k4B=null;K4B=null;B8Kh.N3mK(1);B8Kh.d7Kh();var C8i=B8Kh.E3mK(6,7);Z3B=J4B.left - 0.5 * this.layout.candleWidth + this.micropixels - C8i;for(var c4B=0;c4B <= h4B.length;c4B++){Z3B+=this.layout.candleWidth;X3B=h4B[c4B];if(!X3B)continue;if(X3B.projection)break;K4B=X3B.kagiTrend;if(b3B.flipped){K4B*=-1;}if(X3B.transform && H4B.transformFunc){t4B=X3B.kagiPrevOpen;X3B=X3B.transform;X3B.kagiPrevOpen=H4B.transformFunc(this,H4B,t4B);}e3B=X3B.cache;B8Kh.i3mK(0);q4B=B8Kh.E3mK(c4B,G4B);if(q4B < J4B.cacheLeft || q4B > J4B.cacheRight || !e3B.kagiOpen){e3B.kagiOpen=b3B.semiLog?b3B.height * (1 - (Math.log(Math.max(X3B.Open,0)) / Math.LN10 - b3B.logLow) / b3B.logShadow):(b3B.high - X3B.Open) * b3B.multiplier;e3B.kagiClose=b3B.semiLog?b3B.height * (+"1" - (Math.log(Math.max(X3B.Close,0)) / Math.LN10 - b3B.logLow) / b3B.logShadow):(b3B.high - X3B.Close) * b3B.multiplier;if(b3B.flipped){e3B.kagiOpen=b3B.bottom - e3B.kagiOpen;e3B.kagiClose=b3B.bottom - e3B.kagiClose;}else {e3B.kagiOpen+=b3B.top;e3B.kagiClose+=b3B.top;}}k4B=e3B.kagiClose;Y3B=b3B.semiLog?b3B.height * (1 - (Math.log(Math.max(X3B.kagiPrevOpen,0)) / Math.LN10 - b3B.logLow) / b3B.logShadow):(b3B.high - X3B.kagiPrevOpen) * b3B.multiplier;if(b3B.flipped){Y3B=b3B.bottom - Y3B;}else {Y3B+=b3B.top;}if(p4B){W3B.moveTo(G4B >= 0?J4B.left:Math.floor(Z3B),e3B.kagiOpen);W3B.lineTo(Math.floor(Z3B),e3B.kagiOpen);if(e3B.kagiClose < e3B.kagiOpen){W3B.strokeStyle=E4B;W3B.lineWidth=B4B;}else {W3B.strokeStyle=o4B;W3B.lineWidth=U4B;}}else {if(K4B != -("1" >> 1474558432) && e3B.kagiClose < Y3B && Y3B < e3B.kagiOpen){W3B.lineTo(Math.floor(Z3B),Y3B);W3B.stroke();W3B.beginPath();W3B.moveTo(Math.floor(Z3B),Y3B);W3B.strokeStyle=E4B;W3B.lineWidth=B4B;}else if(K4B != 1 && e3B.kagiClose > Y3B && Y3B > e3B.kagiOpen){W3B.lineTo(Math.floor(Z3B),Y3B);W3B.stroke();W3B.beginPath();W3B.moveTo(Math.floor(Z3B),Y3B);W3B.strokeStyle=o4B;W3B.lineWidth=U4B;}}W3B.lineTo(Math.floor(Z3B),e3B.kagiClose);if(c4B + +"1" < h4B.length){W3B.lineTo(Math.floor(Z3B + this.layout.candleWidth),e3B.kagiClose);}p4B=!"1";}W3B.stroke();this.endClip();W3B.lineWidth=+"1";};s3B.ChartEngine.prototype.drawPointFigureChart=function(s4B,e4B,P4B,u4B){var o8Kh=T5VV;var a4B,Q4B,v4B,m4B,M4B,T4B,C4B,l4B,w4B,Z4B,S4B,W4B,z4B,N4B,x4B,r4B,d4B,V4B,A4B,y4B,H7B,F4B,R4B,b4B,f4B,I4B;a4B=s4B.chart;this.startClip(s4B.name);function X4B(c7B,K7B,J7B){o8Kh.d7Kh();o8Kh.i3mK(0);v4B.moveTo(o8Kh.E3mK(C4B,c7B),o8Kh.E3mK(J7B,T4B,x4B,o8Kh.N3mK(2)));o8Kh.N3mK(1);v4B.lineTo(o8Kh.e3mK(l4B,K7B),o8Kh.E3mK(J7B,M4B,x4B,N4B,o8Kh.i3mK(3)));o8Kh.N3mK(0);v4B.moveTo(o8Kh.e3mK(C4B,c7B),o8Kh.E3mK(J7B,M4B,x4B,N4B,o8Kh.i3mK(3)));o8Kh.N3mK(1);v4B.lineTo(o8Kh.E3mK(l4B,K7B),o8Kh.e3mK(J7B,T4B,x4B,o8Kh.N3mK(2)));}Q4B=a4B.dataSegment;v4B=a4B.context;this.canvasColor(e4B);if(P4B == "X" && u4B.border_color_up){v4B.strokeStyle=u4B.border_color_up;}else if(P4B == "O" && u4B.border_color_down){v4B.strokeStyle=u4B.border_color_down;}m4B=this.canvasStyle(e4B);M4B=parseInt(m4B.paddingTop,10);T4B=parseInt(m4B.paddingBottom,10);C4B=parseInt(m4B.paddingLeft,10);l4B=parseInt(m4B.paddingRight,10);if(m4B.width && parseInt(m4B.width,10) <= 25){v4B.lineWidth=Math.max(1,s3B.stripPX(m4B.width));}else {o8Kh.N3mK(4);v4B.lineWidth=o8Kh.E3mK("2",2147483647);}if(this.highlightedDraggable){o8Kh.N3mK(5);v4B.globalAlpha*=o8Kh.e3mK(1,"0.3");}v4B.beginPath();w4B=this.chart.state.aggregation.box;o8Kh.i3mK(1);var A8i=o8Kh.E3mK(13,14);Z4B=a4B.dataSet.length - a4B.scroll - A8i;S4B=s4B.yAxis;o8Kh.k7Kh();function Y4B(n7B,g7B,O7B){o8Kh.N3mK(6);v4B.moveTo(o8Kh.e3mK(2,n7B,g7B),o8Kh.E3mK(O7B,M4B,x4B,o8Kh.i3mK(7)));o8Kh.N3mK(0);v4B.bezierCurveTo(o8Kh.E3mK(l4B,g7B),o8Kh.e3mK(O7B,M4B,x4B,o8Kh.i3mK(7)),o8Kh.e3mK(l4B,g7B,o8Kh.i3mK(0)),o8Kh.E3mK(O7B,N4B,T4B,x4B,o8Kh.N3mK(8)),o8Kh.E3mK(2,n7B,g7B,o8Kh.N3mK(6)),o8Kh.E3mK(O7B,N4B,T4B,x4B,o8Kh.N3mK(8)));o8Kh.N3mK(1);v4B.bezierCurveTo(o8Kh.E3mK(C4B,n7B),o8Kh.E3mK(O7B,N4B,T4B,x4B,o8Kh.i3mK(8)),o8Kh.E3mK(C4B,n7B,o8Kh.i3mK(1)),o8Kh.e3mK(O7B,M4B,x4B,o8Kh.i3mK(7)),o8Kh.e3mK(n7B,2,g7B,"2",o8Kh.i3mK(9)),o8Kh.e3mK(O7B,M4B,x4B,o8Kh.N3mK(7)));}N4B=w4B * S4B.multiplier;o8Kh.N3mK(10);x4B=o8Kh.e3mK(N4B,2);r4B=this.layout.candleWidth;o8Kh.i3mK(2);var W8i=o8Kh.e3mK(0,2,3);d4B=s4B.left - r4B + this.micropixels - W8i;for(var L4B=0;L4B < Q4B.length;L4B++){d4B+=r4B;V4B=Q4B[L4B];if(!V4B)continue;if(V4B.projection)break;A4B=V4B.pfOpen;y4B=V4B.pfClose;H7B=V4B.pfTrend;F4B=V4B.pfStepBack;if(V4B.transform && a4B.transformFunc){V4B=V4B.transform;A4B=a4B.transformFunc(this,a4B,A4B);y4B=a4B.transformFunc(this,a4B,y4B);}R4B=V4B.cache;o8Kh.i3mK(0);b4B=o8Kh.E3mK(L4B,Z4B);if(b4B < s4B.cacheLeft || b4B > s4B.cacheRight || !R4B.pfOpen){if(S4B.flipped){R4B.pfOpen=S4B.bottom - (S4B.high - A4B) * S4B.multiplier;R4B.pfClose=S4B.bottom - (S4B.high - y4B) * S4B.multiplier;}else {R4B.pfOpen=(S4B.high - A4B) * S4B.multiplier + S4B.top;R4B.pfClose=(S4B.high - y4B) * S4B.multiplier + S4B.top;}}f4B=Math.round(d4B);o8Kh.N3mK(0);I4B=Math.round(o8Kh.E3mK(r4B,d4B));W4B=Math.abs(Math.round((y4B - A4B) / w4B));z4B=R4B.pfOpen;if(P4B == F4B){if(F4B == "X"){o8Kh.i3mK(1);X4B(f4B,I4B,o8Kh.e3mK(N4B,z4B));}else if(F4B == "O"){o8Kh.i3mK(0);Y4B(f4B,I4B,o8Kh.E3mK(N4B,z4B));}}if(P4B == H7B){for(;W4B >= 0;W4B--){if(P4B == ((4500,8981) === 1097?6800 !== (3450,927)?(999,+"6270") != 9010?(0x9c0,"e"):686.06:(323.71,"u"):"X")){X4B(f4B,I4B,z4B,N4B,x4B);z4B-=S4B.flipped?-N4B:N4B;}else if(P4B == "O"){Y4B(f4B,I4B,z4B,N4B,x4B);z4B+=S4B.flipped?-N4B:N4B;}}}}v4B.stroke();this.endClip();v4B.lineWidth=1;};s3B.ChartEngine.calculateAggregation=function(h7B,j7B,B7B,U7B){var u7v,i7B,E7B;u7v="hei";u7v+="kinashi";E7B=h7B.layout;T5VV.d7Kh();if([u7v,"heikenashi"].indexOf(j7B) > -1){i7B=s3B.calculateHeikinAshi(h7B,B7B,U7B);}else if(j7B == "rangebars"){i7B=s3B.calculateRangeBars(h7B,B7B,E7B.rangebars,U7B);}else if(j7B == "kagi"){i7B=s3B.calculateKagi(h7B,B7B,E7B.kagi,U7B);}else if(j7B == "linebreak"){i7B=s3B.calculateLineBreak(h7B,B7B,E7B.priceLines,U7B);}else if(j7B == "renko"){i7B=s3B.calculateRenkoBars(h7B,B7B,E7B.renko,U7B);}else if(j7B == "pandf"){i7B=s3B.calculatePointFigure(h7B,B7B,E7B.pandf,U7B);}return i7B;};s3B.calculateHeikinAshi=function(z7B,V7B,a7B){var p4Kh=T5VV;p4Kh.k7Kh();var t7B,o7B,G7B,v7B,D7B,p7B,q7B,k7B,m7B,M7B,N7B;if(!V7B.length){return V7B;}if(!a7B){a7B=[];}t7B=[];for(var S7B=0;S7B < V7B.length;S7B++){o7B=V7B[S7B];if(!o7B)continue;p4Kh.i3mK(11);var g8i=p4Kh.E3mK(17,2,17,3);G7B=t7B[t7B.length - g8i];if(!G7B && !S7B){p4Kh.i3mK(12);var T8i=p4Kh.e3mK(7,1,5,34);G7B=a7B[a7B.length - T8i];}if(!G7B){G7B=o7B;}v7B=o7B.Close;D7B=o7B.Open;p7B=o7B.High;q7B=o7B.Low;k7B=G7B.Open;D7B=D7B || D7B === +"0"?D7B:v7B;p7B=p7B || p7B === 0?p7B:v7B;q7B=q7B || q7B === 0?q7B:v7B;k7B=k7B || k7B === 0?k7B:G7B.Close;m7B=(k7B + G7B.Close) / +"2";p4Kh.i3mK(13);M7B=p4Kh.E3mK(0,p7B,q7B,v7B,"4",D7B);N7B={DT:o7B.DT,displayDate:o7B.displayDate,Date:o7B.Date,Open:m7B,Close:M7B,High:Math.max(p7B,Math.max(m7B,M7B)),Low:Math.min(q7B,Math.min(m7B,M7B)),Volume:o7B.Volume,iqPrevClose:G7B.Close};for(var x7B in o7B){if(!N7B[x7B] && N7B[x7B] !== 0){N7B[x7B]=o7B[x7B];}}t7B.push(N7B);}return t7B;};s3B.calculateKagi=function(u7B,A7B,T7B,f7B){var X4Kh=T5VV;X4Kh.k7Kh();var I7B,l7B,C7B,R7B,d7B,P7B,r7B,s7B;if(!A7B.length){return A7B;}if(!f7B){f7B=[];}I7B=u7B.layout;l7B=u7B.chart;T7B=parseFloat(T7B);l7B.defaultChartStyleConfig.kagi=s3B.ChartEngine.isDailyInterval(I7B.interval)?4:0.4;if(isNaN(T7B) || T7B <= "0" - 0){T7B=l7B.defaultChartStyleConfig.kagi;if(s3B.Market.Symbology.isForexSymbol(l7B.symbol)){T7B/=4;}if(I7B.kagi !== null){I7B.kagi=null;u7B.changeOccurred("layout");}}T7B/=100;C7B=[];X4Kh.N3mK(14);var J8i=X4Kh.e3mK(8,19,10);R7B=f7B[f7B.length - J8i];d7B=R7B?R7B.DT:0;for(var y7B=0;y7B < A7B.length;y7B++){P7B=A7B[y7B];if(!P7B)continue;if(!R7B){X4Kh.i3mK(1);R7B=A7B[X4Kh.E3mK(1,y7B)];}if(!R7B)continue;r7B=R7B.Open || R7B.Open === +"0"?R7B.Open:R7B.Close;if(r7B > R7B.Close){if(P7B.Close > R7B.Close * (1 + T7B)){P7B.Open=R7B.Close;}else {if(R7B.Close > P7B.Close){R7B.Close=P7B.Close;}R7B.Volume+=P7B.Volume;if(y7B < A7B.length - 1)continue;}}else if(r7B < R7B.Close){if(P7B.Close < R7B.Close * (1 - T7B)){P7B.Open=R7B.Close;}else {if(R7B.Close < P7B.Close){R7B.Close=P7B.Close;}R7B.Volume+=P7B.Volume;if(y7B < A7B.length - 1)continue;}}else {R7B.Close=P7B.Close;R7B.Volume+=P7B.Volume;if(y7B < A7B.length - 1)continue;}s7B={DT:R7B.DT,displayDate:R7B.displayDate,Date:R7B.Date,Open:R7B.Open,Close:R7B.Close,High:Math.max(R7B.Open,R7B.Close),Low:Math.min(R7B.Open,R7B.Close),Volume:R7B.Volume,iqPrevClose:R7B.iqPrevClose};for(var L7B in R7B){if(!s7B[L7B] && s7B[L7B] !== 0){s7B[L7B]=R7B[L7B];}}if(C7B.length){s7B.kagiPrevOpen=C7B[C7B.length - 1].Open;}else {s7B.kagiPrevOpen=s7B.Open;}if(s7B.Close > s7B.kagiPrevOpen && s7B.kagiPrevOpen > s7B.Open){s7B.kagiTrend=+"1";}else if(s7B.Close < s7B.kagiPrevOpen && s7B.kagiPrevOpen < s7B.Open){s7B.kagiTrend=-1;}if(d7B < s7B.DT){C7B.push(s7B);}R7B=P7B;l7B.currentQuote={Close:P7B.Close};}return C7B;};s3B.calculateLineBreak=function(j6B,O6B,w7B,U6B){var n6B,g6B,W7B,E6B,h6B,F7B,b7B,e7B,Z7B,H6B,X7B,Q7B,Y7B,J6B;if(!O6B.length){return O6B;}if(!U6B){U6B=[];}n6B=j6B.layout;g6B=j6B.chart;T5VV.i3mK(15);g6B.defaultChartStyleConfig.priceLines=T5VV.e3mK(1886190080,"3");T5VV.d7Kh();w7B=parseInt(w7B,10);if(isNaN(w7B) || w7B <= ("0" | 0)){w7B=g6B.defaultChartStyleConfig.priceLines;if(n6B.priceLines !== null){n6B.priceLines=null;j6B.changeOccurred("layout");}}else if(w7B > 10){n6B.priceLines=w7B=10;}W7B=U6B.slice(-w7B);E6B=W7B.length;h6B=0;a:for(var i6B=0;i6B < O6B.length;i6B++){F7B=O6B[i6B];if(!F7B)continue;h6B+=F7B.Volume;b7B=W7B[W7B.length - ("1" - 0)];if(!b7B){b7B={Open:F7B.Open,Close:F7B.Open,High:F7B.Open,Low:F7B.Open};}e7B=b7B.Close;Z7B=b7B.High;H6B=b7B.Low;X7B=b7B.Open;Z7B=Z7B || Z7B === 0?Z7B:e7B;H6B=H6B || H6B === 0?H6B:e7B;X7B=X7B || X7B === 0?X7B:e7B;Q7B={DT:F7B.DT,displayDate:F7B.displayDate,Date:F7B.Date,Close:F7B.Close,Volume:h6B,iqPrevClose:e7B};g6B.currentQuote={Close:F7B.Close};if(F7B.Close > e7B && b7B.Close > X7B){;}else if(F7B.Close < e7B && b7B.Close < X7B){;}else if(F7B.Close > Z7B){for(Y7B=2;Y7B <= w7B;Y7B++){J6B=W7B[W7B.length - Y7B];if(J6B && F7B.Close <= J6B.High){continue a;}}}else if(F7B.Close < H6B){for(Y7B=2;Y7B <= w7B;Y7B++){J6B=W7B[W7B.length - Y7B];if(J6B && F7B.Close >= J6B.Low){continue a;}}}else continue;if(F7B.Close < b7B.Close){Q7B.Open=Math.min(X7B,e7B);}else {Q7B.Open=Math.max(X7B,e7B);}Q7B.Low=Math.min(Q7B.Open,Q7B.Close);Q7B.High=Math.max(Q7B.Open,Q7B.Close);for(var K6B in F7B){if(!Q7B[K6B] && Q7B[K6B] !== 0){Q7B[K6B]=F7B[K6B];}}W7B.push(Q7B);h6B=+"0";}return W7B.slice(E6B);};T5VV.d7Kh();s3B.calculateRenkoBars=function(N6B,p6B,G6B,x6B){var k4Kh=T5VV;var X7v,M6B,S6B,v6B,a9B,C6B,R6B,L6B,q6B,D6B,k6B,f6B,t6B,I6B,w6B,b6B;X7v="C";X7v+="l";X7v+="os";X7v+="e";if(!p6B.length){return [];}function T6B(s9B,W9B){var e9B;k4Kh.d7Kh();s9B=Number(s9B.toFixed(8));W9B=Number(W9B.toFixed(8));e9B={DT:k6B.DT,displayDate:k6B.displayDate,Date:k6B.Date,Open:s9B,Close:W9B,High:Math.max(s9B,W9B),Low:Math.min(s9B,W9B),Volume:0,iqPrevClose:s9B != W9B?s9B:null};for(var X9B in k6B){if(!e9B[X9B] && e9B[X9B] !== 0){e9B[X9B]=k6B[X9B];}}L6B.push(e9B);}if(!x6B){x6B=[];}M6B=N6B.layout;S6B=N6B.chart;v6B=S6B.state.aggregation;if(!v6B){v6B=S6B.state.aggregation={};}k4Kh.i3mK(5);a9B=Math.min(k4Kh.e3mK(1,"300"),p6B.length);if(!v6B.minMax){v6B.minMax=N6B.determineMinMax(p6B.slice(p6B.length - a9B),[X7v,"High","Low"]);}k4Kh.i3mK(16);var Q8i=k4Kh.E3mK(11,10);C6B=v6B.minMax[Q8i] - v6B.minMax[0];R6B=N6B.panels[S6B.name].height;if(!R6B){return [];}k4Kh.i3mK(17);var R8i=k4Kh.e3mK(8,20,15,43,9);k4Kh.N3mK(18);var l8i=k4Kh.e3mK(7,4,9992,7509);S6B.defaultChartStyleConfig.renko=Math.floor(("10000" - 0) * C6B / (R6B / R8i)) / l8i;if(G6B === null || isNaN(G6B) || G6B <= 0){G6B=S6B.defaultChartStyleConfig.renko;if(M6B.renko !== null){M6B.renko=null;N6B.changeOccurred("layout");}}else {k4Kh.N3mK(10);G6B=Math.max(G6B,k4Kh.e3mK(C6B,R6B));if(M6B.renko !== G6B){M6B.renko=G6B;N6B.changeOccurred("layout");}}L6B=[];q6B=null;D6B=null;k6B=null;if(x6B.length){k4Kh.i3mK(19);var r8i=k4Kh.E3mK(0,3,5,7);f6B=x6B[x6B.length - r8i];q6B=f6B.Low - G6B;D6B=f6B.High + G6B;}for(var y6B=0;y6B < p6B.length;y6B++){t6B=p6B[y6B];if(!t6B)continue;if(!q6B && !D6B){I6B=t6B.Open || t6B.Open === 0?t6B.Open:t6B.Close;w6B=Math.floor(I6B / G6B) * G6B;b6B=isNaN(w6B)?I6B:w6B;k4Kh.i3mK(1);q6B=k4Kh.E3mK(G6B,b6B);k4Kh.N3mK(0);D6B=k4Kh.E3mK(G6B,b6B);}while(! ![]){if(!k6B){k6B=t6B;}if(t6B.Close <= q6B){k4Kh.i3mK(0);T6B(k4Kh.e3mK(G6B,q6B),q6B);k4Kh.i3mK(20);D6B=k4Kh.E3mK("2",q6B,G6B,967378720);q6B-=G6B;k6B=null;}else if(t6B.Close >= D6B){k4Kh.N3mK(1);T6B(k4Kh.e3mK(G6B,D6B),D6B);k4Kh.i3mK(21);q6B=k4Kh.E3mK(G6B,485184896,D6B,"2");D6B+=G6B;k6B=null;}else break;}S6B.currentQuote=t6B;}if(q6B < p6B[p6B.length - 1].Close && q6B + G6B > p6B[p6B.length - 1].Close){k4Kh.N3mK(0);T6B(k4Kh.e3mK(G6B,q6B),p6B[p6B.length - +"1"].Close);}else if(D6B > p6B[p6B.length - 1].Close && D6B - G6B < p6B[p6B.length - 1].Close){k4Kh.N3mK(1);T6B(k4Kh.E3mK(G6B,D6B),p6B[p6B.length - 1].Close);}return L6B;};s3B.calculateRangeBars=function(o0l,O0l,Z9B,q0l){var Q4Kh=T5VV;var p0l,G0l,B0l,x0l,t0l,D0l,p7v,S0l,Y9B,n0l,g0l,k0l,h0l,H0l,E0l,i0l,J0l,c0l,K0l,N0l,a0l;if(!O0l.length){return O0l;}if(!q0l){q0l=[];}function U0l(s0l,R0l){Q4Kh.k7Kh();while(1){if(!h0l){h0l=s0l;}if(Y9B < R0l){Y9B=Math.min(R0l,n0l);Q4Kh.N3mK(1);g0l=Math.max(g0l,Q4Kh.e3mK(Z9B,Y9B));if(R0l < n0l)break;}else if(Y9B >= R0l){Y9B=Math.max(R0l,g0l);Q4Kh.i3mK(0);n0l=Math.min(n0l,Q4Kh.E3mK(Z9B,Y9B));if(R0l > g0l)break;}if(typeof Y9B == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}V0l(Y9B);h0l=null;v0l();}}p0l=o0l.layout;G0l=o0l.chart;B0l=G0l.state.aggregation;function v0l(){Q4Kh.N3mK(0);Q4Kh.d7Kh();n0l=Q4Kh.e3mK(Z9B,Y9B);Q4Kh.i3mK(1);g0l=Q4Kh.e3mK(Z9B,Y9B);k0l=Y9B;}if(!B0l){B0l=G0l.state.aggregation={};}Q4Kh.i3mK(22);x0l=Math.min(Q4Kh.E3mK("300",260),O0l.length);function V0l(z0l){var m0l;m0l={DT:h0l.DT,displayDate:h0l.displayDate,Date:h0l.Date,Open:Number(k0l.toFixed(+"8")),Close:Number(z0l.toFixed(8)),High:Number(n0l.toFixed(8)),Low:Number(g0l.toFixed(8)),Volume:0};m0l.iqPrevClose=m0l.Open;for(var M0l in h0l){if(!m0l[M0l] && m0l[M0l] !== 0){m0l[M0l]=h0l[M0l];}}S0l.push(m0l);}if(!B0l.minMax){B0l.minMax=o0l.determineMinMax(O0l.slice(O0l.length - x0l),["Close","High","Low"]);}Q4Kh.i3mK(0);var K8i=Q4Kh.e3mK(810554410,42660758);t0l=B0l.minMax["1" >> K8i] - B0l.minMax["0" - 0];D0l=o0l.panels[G0l.name].height;if(!D0l){return [];}Q4Kh.N3mK(2);var V8i=Q4Kh.e3mK(667,15,9348);Q4Kh.N3mK(23);var O8i=Q4Kh.e3mK(3,15,15);Q4Kh.i3mK(24);var a8i=Q4Kh.e3mK(19,11983,5,110000,2);G0l.defaultChartStyleConfig.range=Math.floor(V8i * t0l / (D0l / O8i)) / a8i;if(Z9B === null || isNaN(Z9B) || Z9B < 0){Z9B=G0l.defaultChartStyleConfig.range;if(p0l.range !== null){p0l.range=null;o0l.changeOccurred("layout");}}else {Q4Kh.N3mK(10);Z9B=Math.max(Z9B,Q4Kh.e3mK(t0l,D0l));if(p0l.range !== Z9B){p7v="lay";p7v+="o";p7v+="u";p7v+="t";p0l.range=Z9B;o0l.changeOccurred(p7v);}}S0l=[];Y9B=null;n0l=null;g0l=null;k0l=null;h0l=null;for(var j0l=+"0";j0l < O0l.length;j0l++){H0l=O0l[j0l];if(!H0l)continue;Q4Kh.N3mK(1);E0l=O0l[Q4Kh.e3mK(1,j0l)];if(!j0l){if(!E0l){Q4Kh.i3mK(25);var u8i=Q4Kh.E3mK(229553120,14,4,631271082,12);E0l=q0l[q0l.length - ("1" >> u8i)];}if(E0l){Y9B=E0l.Close;if(Y9B || Y9B === 0){v0l();}}}if(!E0l)continue;i0l=H0l.Close;J0l=H0l.Open;c0l=H0l.High;K0l=H0l.Low;if(!i0l && i0l !== 0)continue;J0l=J0l || J0l === 0?J0l:i0l;c0l=c0l || c0l === 0?c0l:i0l;K0l=K0l || K0l === "0" << 93775232?K0l:i0l;if(!Y9B && Y9B !== 0){N0l=Math.floor(J0l / Z9B) * Z9B;Y9B=isNaN(N0l)?J0l:N0l;v0l();U0l(E0l,J0l);}if(j0l){U0l(H0l,J0l);}if(c0l - J0l < J0l - K0l){if(c0l){U0l(H0l,c0l);}if(K0l){U0l(H0l,K0l);}}else {if(K0l){U0l(H0l,K0l);}if(c0l){U0l(H0l,c0l);}}U0l(H0l,i0l);if(j0l == O0l.length - ("1" - 0) && i0l != k0l){a0l=n0l;Q4Kh.N3mK(0);n0l=Q4Kh.E3mK(Z9B,g0l);Q4Kh.N3mK(1);g0l=Q4Kh.E3mK(Z9B,a0l);V0l(i0l);}}return S0l;};s3B.calculatePointFigure=function(X0l,Y0l,H1l,J1l){var H4Kh=T5VV;H4Kh.k7Kh();var f0l,r0l,c1l,P0l,l0l,Y7v,d0l,s2v,b0l,e0l,w0l,L0l,C0l,I0l,T0l,u0l,W0l,A0l,y0l,F0l,Q0l;if(!Y0l.length){return Y0l;}if(!J1l){J1l=[];}f0l=X0l.layout;r0l=X0l.chart;c1l=r0l.state.aggregation;if(!c1l){c1l=r0l.state.aggregation={};}r0l.defaultChartStyleConfig.box=1;r0l.defaultChartStyleConfig.reversal=3;if(!H1l){H1l={};}P0l=H1l.box;function Z0l(j1l,B1l,U1l,E1l,o1l){H4Kh.d7Kh();j1l.High=Math.max(B1l,j1l.High);j1l.Low=Math.min(U1l,j1l.Low);j1l.Close=E1l;j1l.Volume+=o1l;}function n1l(G1l,p1l,q1l,D1l,k1l,t1l,S1l,v1l,N1l){H4Kh.d7Kh();return {DT:G1l.DT,Date:G1l.Date,pfOpen:v1l,pfClose:N1l,Open:p1l,Close:k1l,High:q1l,Low:D1l,Volume:t1l,iqPrevClose:S1l};}if(!P0l){if(f0l.pandf){if(f0l.pandf.box !== null){f0l.pandf.box=null;X0l.changeOccurred("layout");}}P0l=r0l.defaultChartStyleConfig.box;l0l=Y0l[Y0l.length - +"1"].Close;if(l0l){if(l0l < 0.25){P0l=0.0625;}else if(l0l < 1){P0l=0.125;}else if(l0l < 5){P0l=0.25;}else if(l0l < 20){P0l=0.5;}else if(l0l < +"100"){P0l=1;}else if(l0l < 200){P0l=2;}else if(l0l < 500){H4Kh.N3mK(5);P0l=H4Kh.E3mK(1,"4");}else if(l0l < 1000){H4Kh.N3mK(26);P0l=H4Kh.e3mK("5",0);}else if(l0l < +"25000"){P0l=50;}else {P0l=500;}}if(!s3B.ChartEngine.isDailyInterval(f0l.interval)){P0l/=10;}if(s3B.Market.Symbology.isForexSymbol(r0l.symbol)){if(l0l){if(l0l < "1" << 674247808){P0l=+"0.001";}else if(l0l < 2){P0l=0.002;}else if(l0l < 50){P0l=0.02;}else if(l0l < 200){P0l=0.2;}}if(s3B.ChartEngine.isDailyInterval(f0l.interval)){P0l*=10;}}r0l.defaultChartStyleConfig.box=P0l;}P0l=parseFloat(P0l);function O1l(i1l,h1l){for(var g1l in i1l){if(!h1l[g1l] && h1l[g1l] !== 0){h1l[g1l]=i1l[g1l];}}return h1l;}if(isNaN(P0l) || P0l <= 0){if(f0l.pandf){if(f0l.pandf.box !== null){Y7v="la";Y7v+="y";Y7v+="out";f0l.pandf.box=null;X0l.changeOccurred(Y7v);}}r0l.defaultChartStyleConfig.box=P0l=1;}d0l=Math.ceil(parseFloat(H1l.reversal));if(d0l > 0 && d0l > H1l.reversal){f0l.pandf.reversal=d0l;X0l.changeOccurred("layout");}else if(isNaN(d0l) || d0l <= 0){if(f0l.pandf){if(f0l.pandf.reversal !== null){s2v="l";s2v+="ayout";f0l.pandf.reversal=null;X0l.changeOccurred(s2v);}}d0l=r0l.defaultChartStyleConfig.reversal;}c1l.box=P0l;d0l*=P0l;b0l=0.00000001;e0l=(P0l.toString() + ((1565,313.51) !== "402" * 1?".":! !{})).split(".")[+"1"].length;w0l=[];L0l=0;for(var K1l=0;K1l < Y0l.length;K1l++){I0l=Y0l[K1l];if(!I0l)continue;L0l+=I0l.Volume;u0l=I0l.Close;W0l=I0l.Open;A0l=I0l.High;y0l=I0l.Low;W0l=W0l || W0l === +"0"?W0l:u0l;A0l=A0l || A0l === +"0"?A0l:u0l;y0l=y0l || y0l === 0?y0l:u0l;if(!w0l.length && !J1l.length){C0l=O1l(I0l,n1l(I0l,W0l,A0l,y0l,u0l,L0l,A0l + P0l,Number((Math.ceil(y0l / P0l - b0l) * P0l).toFixed(e0l)),Number((Math.floor(A0l / P0l + b0l) * P0l).toFixed(e0l))));C0l.pfTrend=(659.05,77.49) > (5520,968.58)?"M":(358.24,9350) === 452.91?"A":"X";if(C0l.pfOpen == C0l.pfClose){C0l.pfStepBack=(8347,3030) == (997.84,2907)?!1:"-";}w0l.push(C0l);L0l=0;continue;}H4Kh.N3mK(27);var X8i=H4Kh.e3mK(11,2,7,12,7);T0l=w0l[w0l.length - X8i];if(!T0l){T0l=s3B.clone(J1l[J1l.length - 1]);}if(T0l.pfTrend == "O"){if(y0l <= T0l.pfClose - P0l){T0l.pfClose=Number((Math.ceil(y0l / P0l - b0l) * P0l).toFixed(e0l));if(T0l.pfStepBack == "O"){T0l.pfStepBack=null;}Z0l(T0l,A0l,y0l,u0l,L0l);}else if(A0l >= T0l.pfClose + d0l){F0l=T0l.pfClose + P0l;Q0l=Number((Math.floor(A0l / P0l + b0l) * P0l).toFixed(e0l));C0l=n1l(I0l,W0l,A0l,y0l,u0l,L0l,T0l.pfClose,F0l,Q0l);if(F0l == Q0l){C0l.pfStepBack="X";}if(T0l.pfStepBack == (("3688" * 1,9977) === (+"6164",786.54)?66.31:(8110,9710) > (+"10",32.94)?"O":(9338,3200) != 9580?9.87e+3:8.81e+3)){T0l.pfOpen=F0l;T0l.pfClose=Q0l;T0l.pfTrend=150 === 9990?(![],!1):"X";Z0l(T0l,A0l,y0l,u0l,L0l);}else {C0l=O1l(I0l,C0l);C0l.pfTrend=(+"140.32",9820) !== 9340?"X":"F";w0l.push(C0l);}}else {Z0l(T0l,A0l,y0l,u0l,L0l);}H4Kh.i3mK(15);L0l=H4Kh.E3mK(1178501696,"0");}else if(T0l.pfTrend == "X"){if(A0l >= T0l.pfClose + P0l){T0l.pfClose=Number((Math.floor(A0l / P0l + b0l) * P0l).toFixed(e0l));if(T0l.pfStepBack == ((1004,3333) >= (554.22,4842)?336:1571 == +"8780"?! !1:"X") || T0l.pfStepBack == (+"9640" !== (7380,4347)?2610 > 9363?1758 !== 6910?(994.81,0x7ab):(![],0x1381):"-":(530.33,3.44e+3))){T0l.pfStepBack=null;}Z0l(T0l,A0l,y0l,u0l,L0l);}else if(y0l <= T0l.pfClose - d0l){F0l=T0l.pfClose - P0l;Q0l=Number((Math.ceil(y0l / P0l - b0l) * P0l).toFixed(e0l));C0l=n1l(I0l,W0l,A0l,y0l,u0l,L0l,T0l.pfClose,F0l,Q0l);if(F0l == Q0l){C0l.pfStepBack=(9409,604.57) <= 1280?"O":687 === 4492?(0x2400,! !"1"):"P";}if(T0l.pfStepBack == "X" || T0l.pfStepBack == "-"){T0l.pfOpen=F0l;T0l.pfClose=Q0l;T0l.pfTrend="O";Z0l(T0l,A0l,y0l,u0l,L0l);if(F0l != Q0l && T0l.pfStepBack == "-"){T0l.pfStepBack=null;}}else {C0l=O1l(I0l,C0l);C0l.pfTrend=+"5082" < +"2294"?! ![]:"O";w0l.push(C0l);}}else {Z0l(T0l,A0l,y0l,u0l,L0l);}L0l=0;}}return w0l;};};B2B=a1l=>{var H2v,x1l,V1l,o4v,U4v,v4v,p5v,K5v,r5v,l5v,R5v,Q5v,J5v,T5v,P2v,m2v,G2v,b2v,q2v,e2v,L2v,t2v;H2v="undefin";H2v+="ed";x1l=typeof _CIQ !== "undefined"?_CIQ:a1l.CIQ;V1l=typeof _timezoneJS !== H2v?_timezoneJS:a1l.timezoneJS;if(!x1l.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {o4v="cq-wave-";o4v+="paramete";o4v+="rs";U4v="pat";U4v+="t";U4v+="ern";v4v="c";v4v+="o";v4v+="lor";p5v="f";p5v+="o";p5v+="nt";K5v="pa";K5v+="tte";K5v+="rn3";r5v="act";r5v+="iv";r5v+="e3";l5v="line";l5v+="Wid";l5v+="th";l5v+="2";R5v="active";R5v+="2";Q5v="patte";Q5v+="rn";Q5v+="1";J5v="c";J5v+="o";J5v+="lor1";T5v="a";T5v+="ctiv";T5v+="e1";P2v="p";P2v+="ara";P2v+="meters";m2v="lin";m2v+="e";m2v+="Width";G2v="co";G2v+="lor";b2v="f";b2v+="il";b2v+="lColor";q2v="c";q2v+="o";q2v+="lo";q2v+="r";e2v="lineWi";e2v+="dt";e2v+="h";L2v="l";L2v+="ineWidth";t2v="co";t2v+="lor";x1l.Drawing.ray=function(){this.name="ray";};x1l.inheritsFrom(x1l.Drawing.ray,x1l.Drawing.line);x1l.Drawing.ray.prototype.calculateOuterSet=function(z1l){var m1l,M1l;if(this.p0[0] == this.p1["0" & 2147483647] || this.p0[1] == this.p1[1] || x1l.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}m1l={x0:this.p0[+"0"],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};M1l=m1l.x1 + +"1000";T5VV.d7Kh();if(m1l.x0 > m1l.x1){T5VV.N3mK(28);var p8i=T5VV.e3mK(17,1016,3017,3000,17);M1l=m1l.x1 - p8i;}this.v0B=this.v0;this.v1B=x1l.yIntersection(m1l,M1l);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(M1l,z1l.chart);};x1l.Drawing.ray.prototype.adjust=function(){var R1l;R1l=this.stx.panels[this.panelName];if(!R1l){return;}this.setPoint(0,this.d0,this.v0,R1l.chart);this.setPoint(1,this.d1,this.v1,R1l.chart);if(x1l.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,R1l.chart);}};x1l.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=! !"";this.maxSegments=null;};x1l.inheritsFrom(x1l.Drawing.continuous,x1l.Drawing.segment);x1l.Drawing.continuous.prototype.click=function(l1l,P1l,T1l){var v2v,s1l,y1l,A1l,C1l;v2v="vecto";v2v+="r";s1l=this.stx.panels[this.panelName];if(!s1l){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,P1l,T1l,s1l.chart);this.penDown=! !{};return ! !"";}if(this.accidentalClick(P1l,T1l)){this.stx.undo();return !"";}this.setPoint(1,P1l,T1l,s1l.chart);y1l=x1l.Drawing.segment;A1l=new y1l();C1l=this.serialize(this.stx);A1l.reconstruct(this.stx,C1l);this.stx.addDrawing(A1l);this.stx.changeOccurred(v2v);this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return ! ![];}this.setPoint(0,P1l,T1l,s1l.chart);return !1;};x1l.Drawing.ellipse=function(){this.name="ellipse";};x1l.inheritsFrom(x1l.Drawing.ellipse,x1l.Drawing.BaseTwoPoint);x1l.Drawing.ellipse.prototype.render=function(L1l){var q3bh=T5VV;var u1l,Z1l,Q1l,w1l,W1l,r1l,b1l,e1l,X1l,Y1l,d1l,f1l,I1l,F1l,U2v,H2l;u1l=this.stx.panels[this.panelName];if(!u1l){return;}Z1l=this.stx.pixelFromTick(this.p0[0],u1l.chart);Q1l=this.stx.pixelFromTick(this.p1[0],u1l.chart);w1l=this.stx.pixelFromValueAdjusted(u1l,this.p0[0],this.p0[1]);W1l=this.stx.pixelFromValueAdjusted(u1l,this.p1[0],this.p1["1" << 1321325632]);q3bh.i3mK(29);r1l=q3bh.E3mK(Z1l,Z1l,Q1l);b1l=Q1l;e1l=w1l;X1l=W1l;q3bh.i3mK(29);Y1l=q3bh.e3mK(w1l,w1l,W1l);q3bh.i3mK(30);d1l=q3bh.e3mK(X1l,Y1l,6);f1l=this.lineWidth;if(!f1l){f1l=1.1;}I1l=this.color;if(I1l == "auto" || x1l.isTransparent(I1l)){I1l=this.stx.defaultColor;}if(this.highlighted){I1l=this.stx.getCanvasColor("stx_highlight_vector");if(f1l == 0.1){f1l=1.1;}}F1l=this.fillColor;L1l.beginPath();L1l.moveTo(r1l,e1l);q3bh.d7Kh();q3bh.N3mK(0);L1l.bezierCurveTo(r1l,q3bh.e3mK(d1l,X1l),b1l,q3bh.E3mK(d1l,X1l),b1l,e1l);q3bh.i3mK(1);L1l.bezierCurveTo(b1l,q3bh.E3mK(d1l,Y1l),r1l,q3bh.E3mK(d1l,Y1l),r1l,e1l);if(F1l && !x1l.isTransparent(F1l) && F1l != "auto"){L1l.fillStyle=F1l;L1l.globalAlpha=0.2;L1l.fill();L1l.globalAlpha=1;}if(I1l && this.pattern != "none"){L1l.strokeStyle=I1l;L1l.lineWidth=f1l;if(L1l.setLineDash){L1l.setLineDash(x1l.borderPatternToArray(f1l,this.pattern));L1l.lineDashOffset=+"0";;}L1l.stroke();}L1l.closePath();if(this.highlighted){U2v="p";U2v+="1";H2l=this.highlighted == U2v?! !1:![];this.littleCircle(L1l,Q1l,W1l,H2l);}};x1l.Drawing.ellipse.prototype.intersected=function(g2l,h2l,J2l){var A3bh=T5VV;var w2v,S2v,c2l,K2l,O2l,n2l;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1["0" | 0],this.p1[1],J2l)){w2v="p";w2v+="1";S2v="d";S2v+="r";S2v+="a";S2v+="g";this.highlighted="p1";return {action:S2v,point:w2v};}c2l=this.p0[0] - (this.p1[0] - this.p0["0" - 0]);K2l=this.p1[0];A3bh.N3mK(15);O2l=this.p1[A3bh.E3mK(1992686592,"1")];A3bh.N3mK(31);var Y8i=A3bh.e3mK(17,8,30,6);A3bh.N3mK(32);A3bh.k7Kh();var R5uu=A3bh.e3mK(3596,5,12,20,15);A3bh.N3mK(33);var l5uu=A3bh.E3mK(5,2,5,20,2);n2l=this.p0[Y8i] - (this.p1[R5uu] - this.p0[l5uu]);if(J2l.x0 > Math.max(c2l,K2l) || J2l.x1 < Math.min(c2l,K2l)){return ! !0;}if(J2l.y1 > Math.max(n2l,O2l) || J2l.y0 < Math.min(n2l,O2l)){return ! !0;}this.highlighted=! !{};return {action:"move",p0:x1l.clone(this.p0),p1:x1l.clone(this.p1),tick:g2l,value:h2l};};x1l.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth","pattern"];x1l.Drawing.ellipse.prototype.reconstruct=function(j2l,i2l){this.stx=j2l;this.color=i2l.col;this.fillColor=i2l.fc;this.panelName=i2l.pnl;this.pattern=i2l.ptrn;this.lineWidth=i2l.lw;this.d0=i2l.d0;this.d1=i2l.d1;this.tzo0=i2l.tzo0;this.tzo1=i2l.tzo1;this.v0=i2l.v0;this.v1=i2l.v1;T5VV.k7Kh();this.adjust();};x1l.Drawing.ellipse.prototype.serialize=function(){T5VV.k7Kh();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};x1l.Drawing.channel=function(){this.name="channel";T5VV.k7Kh();this.dragToDraw=! !0;this.p2=null;};x1l.inheritsFrom(x1l.Drawing.channel,x1l.Drawing.segment);x1l.Drawing.channel.prototype.configs=[t2v,"fillColor",L2v,"pattern"];x1l.Drawing.channel.prototype.move=function(o2l,B2l,U2l){var E2l;if(!this.penDown){return;}this.copyConfig();T5VV.k7Kh();if(this.p2 === null){this.p1=[B2l,U2l];}else {T5VV.N3mK(34);var r5uu=T5VV.e3mK(15,18,451,12);E2l=U2l - (this.p1[+"1"] - this.p0[r5uu]) / (this.p1[0] - this.p0[0]) * (B2l - this.p1[0]);this.p2=[this.p1[0],E2l];}this.render(o2l);};x1l.Drawing.channel.prototype.click=function(D2l,p2l,q2l){var G2l,I0v,Z0v,i0v;G2l=this.stx.panels[this.panelName];if(!G2l){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,p2l,q2l,G2l.chart);this.penDown=! !{};return !"1";}if(this.accidentalClick(p2l,q2l)){this.stx.undo();return !"";}if(this.p2 !== null){this.setPoint(2,this.p2[+"0"],this.p2[1],G2l.chart);this.penDown=![];return !"";}this.setPoint(1,p2l,q2l,G2l.chart);T5VV.k7Kh();if(this.p0[0] == this.p1[+"0"]){I0v=2028741901;Z0v=-732774386;i0v=2;for(var n0v=1;T5VV.s1v(n0v.toString(),n0v.toString().length,84757) !== I0v;n0v++){this.p1=1;return ! ![];}if(T5VV.Y6v(i0v.toString(),i0v.toString().length,63242) !== Z0v){this.p1=2;return !{};}this.p1=null;return ![];}this.p2=[this.p1[0],this.p1[1]];return !{};};x1l.Drawing.channel.prototype.boxIntersection=function(N2l,a2l,S2l){var c3bh=T5VV;c3bh.k7Kh();var k2l,t2l,v2l,x2l,V2l;k2l=this.p0;t2l=this.p1;v2l=this.p2;if(!k2l || !t2l || !v2l){return ![];}if(S2l.x0 > Math.max(k2l[0],t2l[0]) || S2l.x1 < Math.min(k2l[0],t2l[0])){return !1;}c3bh.N3mK(16);var K5uu=c3bh.e3mK(14,13);c3bh.i3mK(7);var V5uu=c3bh.e3mK(8,14,21);c3bh.i3mK(35);var O5uu=c3bh.e3mK(3,20,19,30,13);c3bh.N3mK(1);var a5uu=c3bh.e3mK(19,20);x2l=(t2l[0] - k2l[0]) * ((v2l[+"1"] < k2l[K5uu]?S2l.y1:S2l.y0) - k2l[V5uu]) - (t2l[O5uu] - k2l[a5uu]) * (N2l - k2l[0]);c3bh.N3mK(1);var u5uu=c3bh.E3mK(20,21);c3bh.N3mK(36);var X5uu=c3bh.E3mK(2,0,12,12);c3bh.i3mK(37);var p5uu=c3bh.E3mK(10,18,9,4,7);c3bh.i3mK(31);var Y5uu=c3bh.E3mK(21,12,46,14);c3bh.i3mK(1);var s4uu=c3bh.e3mK(5,535361157);c3bh.N3mK(31);var H4uu=c3bh.e3mK(0,19,21,3);V2l=(v2l[0] - k2l[+"0"]) * ((v2l[u5uu] > k2l["1" - 0]?S2l.y1:S2l.y0) - (k2l[X5uu] + v2l[p5uu] - t2l[Y5uu])) - (t2l["1" >> s4uu] - k2l[H4uu]) * (N2l - k2l[+"0"]);c3bh.N3mK(38);return c3bh.e3mK(x2l,V2l,"0");};x1l.Drawing.channel.prototype.intersected=function(z2l,R2l,s2l){var M2l;if(!this.p0 || !this.p1 || !this.p2){return null;}M2l={0:this.p0,1:this.p1,2:this.p2};for(var m2l in M2l){if(this.pointIntersection(M2l[m2l][0],M2l[m2l][1],s2l)){T5VV.N3mK(0);this.highlighted=T5VV.e3mK(m2l,(4790,7980) >= 5850?(2050,9014) == 3960?(87.62,6.70e+3):"p":"4.00e+3" ^ 0);return {action:"drag",point:(244.94 < (+"131.94",8309)?"p":0x154d) + m2l};}}if(this.boxIntersection(z2l,R2l,s2l)){this.highlighted=! !{};return {action:"move",p0:x1l.clone(this.p0),p1:x1l.clone(this.p1),p2:x1l.clone(this.p2),tick:z2l,value:R2l};}return null;};x1l.Drawing.channel.prototype.render=function(P2l){var z3bh=T5VV;var x2v,T2l,C2l,A2l,l2l,L2l,y2l,m7v,P7v,f7v,r2l,u2l,f2l,I2l,j2v,d2l,F2l,Q2l;x2v="n";z3bh.k7Kh();x2v+="one";T2l=this.stx.panels[this.panelName];if(!T2l){return;}C2l=this.stx.pixelFromTick(this.p0[0],T2l.chart);A2l=this.stx.pixelFromTick(this.p1[0],T2l.chart);l2l=this.stx.pixelFromValueAdjusted(T2l,this.p0[0],this.p0[1]);L2l=this.stx.pixelFromValueAdjusted(T2l,this.p1[0],this.p1[1]);y2l=null;if(this.p2){m7v=1245812730;P7v=-423298506;f7v=2;for(var y7v=1;z3bh.s1v(y7v.toString(),y7v.toString().length,4409) !== m7v;y7v++){y2l=this.stx.pixelFromValueAdjusted(T2l,this.p2["9" & 2147483647],this.p2[+"6"]);f7v+=2;}if(z3bh.s1v(f7v.toString(),f7v.toString().length,37978) !== P7v){y2l=this.stx.pixelFromValueAdjusted(T2l,this.p2[0],this.p2[1]);}}r2l=this.lineWidth;u2l=this.getLineColor();f2l=this.fillColor;if(this.p2 && f2l && !x1l.isTransparent(f2l) && f2l != "auto"){P2l.beginPath();P2l.moveTo(C2l,l2l);P2l.lineTo(A2l,L2l);P2l.lineTo(A2l,y2l);z3bh.N3mK(39);P2l.lineTo(C2l,z3bh.E3mK(L2l,y2l,l2l));P2l.closePath();P2l.globalAlpha=0.2;P2l.fillStyle=f2l;P2l.fill();P2l.globalAlpha=1;}I2l={pattern:this.pattern,lineWidth:r2l};if((this.penDown || this.highlighted) && this.pattern == x2v){I2l.pattern="dotted";}this.stx.plotLine(C2l,A2l,l2l,L2l,u2l,"segment",P2l,T2l,I2l);if(this.p2){z3bh.i3mK(39);this.stx.plotLine(C2l,A2l,z3bh.e3mK(L2l,y2l,l2l),y2l,u2l,"segment",P2l,T2l,I2l);}if(this.highlighted){j2v="p";j2v+="0";d2l=this.highlighted == j2v?!"":!"1";F2l=this.highlighted == "p1"?! !{}:!{};Q2l=this.highlighted == "p2"?!"":![];this.littleCircle(P2l,C2l,l2l,d2l);this.littleCircle(P2l,A2l,L2l,F2l);this.littleCircle(P2l,A2l,y2l,Q2l);}};x1l.Drawing.channel.prototype.reposition=function(X2l,w2l,Y2l,Z2l){var W2l,b2l,e2l,K0v,V0v,O0v;if(!w2l){return;}T5VV.k7Kh();W2l=this.stx.panels[this.panelName];b2l=w2l.tick - Y2l;e2l=w2l.value - Z2l;if(w2l.action == "move"){this.setPoint(0,w2l.p0[0] - b2l,w2l.p0[1] - e2l,W2l.chart);this.setPoint(1,w2l.p1[0] - b2l,w2l.p1[1] - e2l,W2l.chart);this.setPoint(2,w2l.p2[0] - b2l,w2l.p2["1" | 0] - e2l,W2l.chart);K0v=836012978;V0v=-1838160998;O0v=2;for(var u0v=1;T5VV.Y6v(u0v.toString(),u0v.toString().length,+"28264") !== K0v;u0v++){this.render(X2l);O0v+=2;}if(T5VV.Y6v(O0v.toString(),O0v.toString().length,85503) !== V0v){this.render(X2l);}}else if(w2l.action == "drag"){this[w2l.point]=[Y2l,Z2l];this.setPoint(0,this.p0[0],this.p0[1],W2l.chart);this.setPoint(1,this.p1[0],this.p1[1],W2l.chart);this.setPoint(2,this.p2[0],this.p2[1],W2l.chart);this.render(X2l);}};x1l.Drawing.channel.prototype.adjust=function(){var H3l;H3l=this.stx.panels[this.panelName];if(!H3l){return;}this.setPoint(0,this.d0,this.v0,H3l.chart);this.setPoint(+"1",this.d1,this.v1,H3l.chart);this.setPoint(2,this.d1,this.v2,H3l.chart);;};x1l.Drawing.channel.prototype.reconstruct=function(c3l,J3l){this.stx=c3l;this.color=J3l.col;this.fillColor=J3l.fc;this.panelName=J3l.pnl;this.pattern=J3l.ptrn;this.lineWidth=J3l.lw;this.d0=J3l.d0;this.d1=J3l.d1;this.tzo0=J3l.tzo0;this.tzo1=J3l.tzo1;this.v0=J3l.v0;this.v1=J3l.v1;this.v2=J3l.v2;this.adjust();};x1l.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};x1l.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=!{};this.p2=null;};x1l.inheritsFrom(x1l.Drawing.pitchfork,x1l.Drawing.channel);x1l.Drawing.pitchfork.prototype.configs=["color","lineWidth","pattern"];x1l.Drawing.pitchfork.prototype.move=function(n3l,K3l,O3l){T5VV.d7Kh();if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[K3l,O3l];}else {this.p2=[K3l,O3l];}this.render(n3l);};x1l.Drawing.pitchfork.prototype.intersected=function(B3l,U3l,E3l){T5VV.d7Kh();var i3l,j3l;if(!this.p0 || !this.p1 || !this.p2){return null;}i3l={0:this.p0,1:this.p1,2:this.p2};for(var h3l in i3l){if(this.pointIntersection(i3l[h3l][0],i3l[h3l][1],E3l)){T5VV.N3mK(0);this.highlighted=T5VV.E3mK(h3l,("6090" ^ 0) <= (8700,"275.21" * 1)?![]:(+"5490",891.5) > "619.74" * 1?(72.24,70.36) != 695.18?"p":("i",4.94e+3):6.74e+3);return {action:"drag",point:"p" + h3l};}}j3l=this.rays;for(var g3l=0;g3l < j3l.length;g3l++){if(this.lineIntersection(B3l,U3l,E3l,g3l?"ray":"segment",j3l[g3l][0],j3l[g3l][1],! !"1")){this.highlighted=! ![];return {action:"move",p0:x1l.clone(this.p0),p1:x1l.clone(this.p1),p2:x1l.clone(this.p2),tick:B3l,value:U3l};}}return null;};x1l.Drawing.pitchfork.prototype.render=function(x3l){var y3bh=T5VV;var o3l,G3l,t3l,V3l,p3l,q3l,a3l,D3l,k3l,z3l,R3l,s3l,S3l,m3l,M3l,o2v,N3l,P3l,T3l,A3l,y3l;o3l=this.stx.panels[this.panelName];if(!o3l){return;}G3l=this.stx;t3l=this.p2;if(!t3l){t3l=this.p1;}V3l=G3l.pixelFromTick(this.p0["0" | 0],o3l.chart);p3l=G3l.pixelFromTick(this.p1[+"0"],o3l.chart);q3l=G3l.pixelFromTick(t3l["0" * 1],o3l.chart);a3l=G3l.pixelFromValueAdjusted(o3l,this.p0[0],this.p0[1]);D3l=G3l.pixelFromValueAdjusted(o3l,this.p1["0" & 2147483647],this.p1[1]);k3l=G3l.pixelFromValueAdjusted(o3l,t3l[0],t3l[1]);z3l=this.lineWidth;R3l=this.getLineColor();s3l={pattern:this.pattern,lineWidth:z3l};S3l=50;y3bh.i3mK(40);m3l=y3bh.e3mK(2,a3l,k3l,D3l);y3bh.N3mK(41);M3l=y3bh.E3mK(p3l,"2",V3l,2147483647,q3l);if(M3l < "0" * 1){S3l*=-1;}y3bh.N3mK(10);m3l*=y3bh.E3mK(S3l,M3l);y3bh.N3mK(6);this.rays=[[[p3l,D3l],[q3l,k3l]],[[V3l,a3l],[y3bh.E3mK(2,p3l,q3l),y3bh.e3mK(2,D3l,k3l)]]];if(!(p3l == q3l && D3l == k3l)){y3bh.N3mK(1);this.rays.push([[p3l,D3l],[y3bh.e3mK(S3l,p3l),y3bh.e3mK(m3l,D3l)]],[[q3l,k3l],[y3bh.E3mK(S3l,q3l),y3bh.e3mK(m3l,k3l)]]);}for(var v3l=0;v3l < this.rays.length;v3l++){o2v="r";o2v+="ay";N3l=this.rays[v3l];P3l=v3l?o2v:"segment";G3l.plotLine(N3l[0][0],N3l[1]["0" * 1],N3l[0][1],N3l[1][1],R3l,P3l,x3l,o3l,s3l);}if(this.highlighted){T3l=this.highlighted == "p0"?! ![]:!"1";A3l=this.highlighted == "p1"?! !{}:! !0;y3l=this.highlighted == "p2"?! !{}:![];this.littleCircle(x3l,V3l,a3l,T3l);this.littleCircle(x3l,p3l,D3l,A3l);this.littleCircle(x3l,q3l,k3l,y3l);}};x1l.Drawing.pitchfork.prototype.adjust=function(){var C3l;C3l=this.stx.panels[this.panelName];if(!C3l){return;}this.setPoint(+"0",this.d0,this.v0,C3l.chart);this.setPoint(+"1",this.d1,this.v1,C3l.chart);this.setPoint(2,this.d2,this.v2,C3l.chart);};x1l.Drawing.pitchfork.prototype.reconstruct=function(L3l,l3l){this.stx=L3l;this.color=l3l.col;this.panelName=l3l.pnl;this.pattern=l3l.ptrn;this.lineWidth=l3l.lw;this.d0=l3l.d0;this.d1=l3l.d1;this.d2=l3l.d2;this.tzo0=l3l.tzo0;this.tzo1=l3l.tzo1;T5VV.k7Kh();this.tzo2=l3l.tzo2;this.v0=l3l.v0;this.v1=l3l.v1;this.v2=l3l.v2;this.adjust();};x1l.Drawing.pitchfork.prototype.serialize=function(){T5VV.k7Kh();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};x1l.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=!1;this.maxSegments=4;T5VV.k7Kh();this.shape=null;this.points=[];};x1l.inheritsFrom(x1l.Drawing.gartley,x1l.Drawing.continuous);x1l.Drawing.gartley.prototype.check=function(I3l,f3l){if(!f3l){return ! !1;}if(I3l[0] >= f3l[0] || I3l[1] == f3l[1]){return !{};}if(this.segment == 1){if(I3l["1" - 0] < f3l["1" - 0]){this.shape=(4647,316) <= (4679,4440)?"M":("981.12" * 1,697.72);}else {this.shape=(511,785.24) > 4135?+"214.54" === (492.59,1420)?0x95b:938.43:"W";}}else if(this.segment == 2){if(this.shape == (881.91 < 1559?268.99 === ("7513" * 1,+"790.76")?! !{}:(830.34,243.17) < +"118.26"?+"0x1da9":"M":!0) && I3l[1] < f3l[+"1"]){return !{};}else if(this.shape == "W" && I3l[1] > f3l[1]){return ! !0;}else if((f3l[1] - I3l[+"1"]) / (this.points[0][1] - I3l["1" << 1636213024]) < 0.618){return ![];}else if((f3l[1] - I3l[1]) / (this.points[0]["1" & 2147483647] - I3l[1]) >= 0.786){return ![];}}else if(this.segment == 3){if(this.shape == ((4031,8929) > (558,439.75)?"M":(1.17e+3,0xfcf)) && I3l[1] > f3l[1]){return ![];}else if(this.shape == (6450 !== (+"978.93",3260)?(519.21,2814) >= (1050,481)?"W":262.2 >= 467.71?(+"13.03",! !0):"j":"I") && I3l["1" & 2147483647] < f3l[+"1"]){return !{};}else if((f3l[1] - I3l[1]) / (this.points[1][+"1"] - I3l["1" & 2147483647]) < 0.618){return !{};}else if((f3l[1] - I3l[1]) / (this.points[1][1] - I3l[1]) >= 0.786){return ! !"";}}else if(this.segment == 4){if(this.shape == ((6672,3010) <= (4080,7710)?"M":(4.88e+2,197.23)) && (I3l[+"1"] < f3l[1] || f3l[1] < this.points[0][1])){return !1;}else if(this.shape == ("7032" * 1 != (5920,954.58)?"W":("5900" >> 1378021536,+"301.11") === 256.59?(!"",584.46):(! !1,"j")) && (I3l[1] > f3l[1] || f3l["1" * 1] > this.points[+"0"][1])){return ! !"";}else if((this.points[1][1] - f3l[1]) / (this.points["1" & 2147483647][1] - this.points[2][1]) < 1.27){return ! !"";}else if((this.points[+"1"][1] - f3l[1]) / (this.points[1][1] - this.points[2][+"1"]) >= +"1.618"){return ! !"";}}return ! !"1";};x1l.Drawing.gartley.prototype.click=function(F3l,r3l,d3l){var u3l;T5VV.d7Kh();u3l=this.stx.panels[this.panelName];if(!u3l){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,r3l,d3l,u3l.chart);this.pts=[];this.penDown=!0;this.segment=1;return !1;}if(this.accidentalClick(r3l,d3l)){this.penDown=!"";return !{};}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,r3l,d3l,u3l.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[0][1],u3l.chart);this.penDown=!1;return ! !"1";}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(+"0",r3l,d3l,u3l.chart);;}return ! !"";};x1l.Drawing.gartley.prototype.render=function(w3l){var J3bh=T5VV;var Q3l,i4l,H4l,j4l,J4l,L3v,x3v,j3v,e3l,U4l,c4l,Z3l,Y3l,b3l,K4l,n4l,g4l,h4l;Q3l=this.stx.panels[this.panelName];if(!Q3l){return;}i4l=this.stx.pixelFromTick(this.p0[0],Q3l.chart);H4l=this.stx.pixelFromTick(this.p1[0],Q3l.chart);j4l=this.stx.pixelFromValueAdjusted(Q3l,this.p0[0],this.p0[1]);J4l=this.stx.pixelFromValueAdjusted(Q3l,this.p1[0],this.p1[1]);if(this.segment == 2){this.drawDropZone(w3l,0.618 * this.points[0][1] + 0.382 * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == +"3"){L3v=-698448920;J3bh.i3mK(1);x3v=J3bh.E3mK(0,"1054441398");j3v=+"2";for(var e3v=1;J3bh.s1v(e3v.toString(),e3v.toString().length,64441) !== L3v;e3v++){this.drawDropZone(w3l,("83296" * 1 - this.points[3][0]) % (38268 - this.p0[4]),61841 % this.points[0][4] / (13121 / this.p0[2]),this.p0[3]);j3v+=2;}if(J3bh.s1v(j3v.toString(),j3v.toString().length,53312) !== x3v){this.drawDropZone(w3l,(83296 - this.points[3][0]) % (38268 - this.p0["4" >> 158008800]),61841 % this.points["0" - 0]["4" ^ 0] / (13121 / this.p0[2]),this.p0[3]);}this.drawDropZone(w3l,0.618 * this.points[1][+"1"] + 0.382 * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){J3bh.i3mK(7);var v4uu=J3bh.e3mK(9,4,11);J3bh.N3mK(0);var U4uu=J3bh.e3mK(1,0);J3bh.N3mK(16);var S4uu=J3bh.e3mK(13,12);J3bh.N3mK(42);var w4uu=J3bh.e3mK(7,0,85,12);e3l=1.618 * this.points[v4uu][U4uu] - ("0.618" - 0) * this.points[S4uu][w4uu];if(this.shape == (3550 <= "614.24" - 0?4140 >= 8050?(0x62,!{}):(333.02,+"133.36"):"M")){e3l=Math.max(e3l,this.points["0" * 1][1]);}else {e3l=Math.min(e3l,this.points[0][1]);}this.drawDropZone(w3l,e3l,1.27 * this.points[2][1] - 0.27 * this.points[1][1],this.p0[0]);}U4l=this.lineWidth;c4l=this.getLineColor();Z3l={pattern:this.pattern,lineWidth:U4l};if((this.penDown || this.highlighted) && this.pattern == "none"){Z3l.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(i4l,H4l,j4l,J4l,c4l,this.name,w3l,Q3l,Z3l);}Y3l=this.fillColor;b3l=[];if(this.points.length){w3l.beginPath();for(var W3l=1;W3l < this.points.length && W3l <= 4;W3l++){K4l=this.stx.pixelFromTick(this.points[W3l - 1][0],Q3l.chart);n4l=this.stx.pixelFromTick(this.points[W3l][0],Q3l.chart);g4l=this.stx.pixelFromValueAdjusted(Q3l,this.points[W3l - 1][0],this.points[W3l - +"1"][1]);h4l=this.stx.pixelFromValueAdjusted(Q3l,this.points[W3l][0],this.points[W3l]["1" ^ 0]);if(W3l == 1){b3l.push(K4l,g4l);}b3l.push(n4l,h4l);this.stx.plotLine(K4l,n4l,g4l,h4l,c4l,this.name,w3l,Q3l,Z3l);}if(this.points.length == ("2" & 2147483647) || this.points.length == 4){b3l.push(H4l,J4l);}if(this.points[2]){b3l.push(this.stx.pixelFromTick(this.points[2][0],Q3l.chart),this.stx.pixelFromValueAdjusted(Q3l,this.points["2" >> 1486723840][0],this.points[2][+"1"]));}if(Y3l && Y3l != "auto" && !x1l.isTransparent(Y3l)){for(var X3l=0;X3l < b3l.length;X3l+=2){if(X3l === 0){w3l.moveTo(b3l[0],b3l[1]);}w3l.lineTo(b3l[X3l],b3l[X3l + 1]);}w3l.fillStyle=Y3l;w3l.globalAlpha=0.2;w3l.closePath();w3l.fill();w3l.globalAlpha=1;}};};x1l.Drawing.gartley.prototype.lineIntersection=function(q4l,D4l,k4l,t4l){var E4l,G4l;E4l=this.points;G4l=this.stx.panels[this.panelName];T5VV.d7Kh();if(E4l.length != this.maxSegments + 1 || !G4l){return !1;}for(var o4l=0;o4l < E4l.length - 1;o4l++){if(x1l.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,q4l,D4l,k4l,"segment",E4l[o4l],E4l[o4l + 1])){return ! !"1";}}return !"1";};x1l.Drawing.gartley.prototype.boxIntersection=function(V4l,a4l,v4l){var N4l,x4l;if(!this.p0 || !this.p1){return ! !"";}if(v4l.x0 > Math.max(this.p0[0],this.p1[+"0"]) || v4l.x1 < Math.min(this.p0[0],this.p1[0])){return !{};}N4l=Math.min(this.p0[1],this.p1[1]);x4l=Math.max(this.p0[1],this.p1[1]);for(var S4l=0;S4l < this.points.length;S4l++){N4l=Math.min(N4l,this.points[S4l][1]);x4l=Math.max(x4l,this.points[S4l]["1" - 0]);}if(v4l.y1 > x4l || v4l.y0 < N4l){return !{};}T5VV.d7Kh();return !"";};x1l.Drawing.gartley.prototype.reposition=function(y4l,M4l,R4l,s4l){var z4l,P4l,T4l;if(!M4l){return;}z4l=this.stx.panels[this.panelName];P4l=M4l.tick - R4l;M4l.tick=R4l;T4l=M4l.value - s4l;M4l.value=s4l;T5VV.d7Kh();if(M4l.action == "move"){this.pts=[];for(var m4l=0;m4l < this.points.length;m4l++){this.points[m4l][0]-=P4l;this.points[m4l][1]-=T4l;this.setPoint(1,this.points[m4l][0],this.points[m4l][1],z4l.chart);if(m4l && m4l < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[m4l]=this.p1;}this.setPoint(+"0",this.points[0][0],this.points[0][1],z4l.chart);this.render(y4l);;}};x1l.Drawing.gartley.prototype.configs=["color","fillColor",e2v,"pattern"];x1l.Drawing.gartley.prototype.adjust=function(){var C4l;T5VV.k7Kh();C4l=this.stx.panels[this.panelName];if(!C4l){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,C4l.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,C4l.chart);this.points.push(this.p1);};x1l.Drawing.gartley.prototype.reconstructPoints=function(){var f4l,L4l;f4l=this.stx.panels[this.panelName];if(!f4l){return;}this.points=[];for(var l4l=0;l4l < this.pts.length;l4l+=3){L4l=x1l.strToDateTime(this.pts[l4l]);L4l.setMinutes(L4l.getMinutes() + Number(this.pts[l4l + 1]) - L4l.getTimezoneOffset());this.points.push([this.stx.tickFromDate(x1l.yyyymmddhhmmssmmm(L4l),f4l.chart),this.pts[l4l + ("2" ^ 0)]]);}};x1l.Drawing.gartley.prototype.reconstruct=function(u4l,I4l){this.stx=u4l;this.color=I4l.col;this.fillColor=I4l.fc;this.panelName=I4l.pnl;this.pattern=I4l.ptrn;this.lineWidth=I4l.lw;this.d0=I4l.d0;this.d1=I4l.d1;this.tzo0=I4l.tzo0;this.tzo1=I4l.tzo1;this.v0=I4l.v0;this.v1=I4l.v1;this.pts=I4l.pts.split(",");this.adjust();};x1l.Drawing.gartley.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")};};x1l.Drawing.freeform=function(){var M2v;T5VV.d7Kh();M2v="fre";M2v+="ef";M2v+="o";M2v+="rm";this.name=M2v;this.splineTension=+"0.3";this.dragToDraw=! !{};};x1l.inheritsFrom(x1l.Drawing.freeform,x1l.Drawing.segment);x1l.Drawing.freeform.prototype.measure=function(){};x1l.Drawing.freeform.prototype.intersected=function(d4l,F4l,r4l){var N2v;N2v="m";N2v+="ov";T5VV.d7Kh();N2v+="e";if(r4l.x0 > this.hiX || r4l.x1 < this.lowX){return null;}if(r4l.y1 > this.hiY || r4l.y0 < this.lowY){return null;}this.highlighted=! !"1";return {action:N2v,p0:x1l.clone(this.p0),tick:d4l,value:F4l};};x1l.Drawing.freeform.prototype.reposition=function(Y4l,Q4l,H7l,J7l){var I2v,w4l,W4l,b4l,W1v,g1v,T1v;I2v="mo";I2v+="ve";if(!Q4l){return;}w4l=this.stx.panels[this.panelName];W4l=Q4l.tick - H7l;b4l=Q4l.value - J7l;if(Q4l.action == I2v){this.setPoint(0,Q4l.p0[0] - W4l,Q4l.p0[1] - b4l,w4l.chart);W1v=2081777713;g1v=-996685222;T1v=2;for(var Q1v=1;T5VV.s1v(Q1v.toString(),Q1v.toString().length,77054) !== W1v;Q1v++){this.adjust();T1v+=2;}if(T5VV.Y6v(T1v.toString(),T1v.toString().length,"20765" - 0) !== g1v){this.adjust();}this.render(Y4l);}};x1l.Drawing.freeform.prototype.click=function(g7l,K7l,n7l){var c7l,Z2v,O7l;c7l=this.stx.panels[this.panelName];if(!c7l){return;}T5VV.d7Kh();if(this.penDown === ![]){Z2v="point";Z2v+="er";this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(K7l,c7l.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(c7l,K7l,n7l)));O7l=this.stx.dateFromTick(K7l,c7l.chart,! !"1");this.d0=x1l.yyyymmddhhmmssmmm(O7l);this.tzo0=O7l.getTimezoneOffset();this.v0=n7l;this.p0=[x1l.ChartEngine.crosshairX - this.startX,x1l.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[+"0"],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=c7l.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor=Z2v;this.penDown=! !"1";return ! !"";}this.penDown=! !"";this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return ! !{};};x1l.Drawing.freeform.prototype.move=function(j7l,B7l,U7l){var h7l,i7l;T5VV.k7Kh();if(!this.penDown){return;}h7l=this.stx.panels[this.panelName];i7l=this.stx.dateFromTick(B7l,h7l.chart,! !{});this.d1=x1l.yyyymmddhhmmssmmm(i7l);this.tzo1=i7l.getTimezoneOffset();this.v1=U7l;this.p1=[x1l.ChartEngine.crosshairX - this.startX,h7l.yAxis.flipped?this.startY - x1l.ChartEngine.crosshairY:x1l.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1["0" - 0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=+"2";}else if(this.p1[1] == this.pNodes[this.pNodes.length - +"2"][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;T5VV.N3mK(1);this.nodes.length-=T5VV.e3mK(0,"2");}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(j7l);return ! !0;};x1l.Drawing.freeform.prototype.intervalRatio=function(q7l,E7l,v7l,N7l,G7l,p7l){var k0bh=T5VV;var o7l,n2v,i2v,F2v,d2v,c2v;o7l=0;if(q7l == E7l){k0bh.N3mK(26);o7l=k0bh.E3mK("1",0);}else if(!isNaN(q7l) && !isNaN(E7l)){k0bh.N3mK(10);o7l=k0bh.E3mK(q7l,E7l);}else if(isNaN(q7l)){n2v="d";n2v+="a";n2v+="y";i2v="m";i2v+="o";i2v+="n";i2v+="th";if(q7l == i2v){F2v="d";F2v+="a";F2v+="y";if(E7l == "week"){o7l=S7l(G7l,p7l);}else if(E7l == F2v){o7l=t7l(G7l,p7l);}else if(!isNaN(E7l)){o7l=t7l(G7l,p7l) * D7l(G7l,p7l) / E7l;}}else if(q7l == "week"){if(E7l == "month"){o7l=1 / S7l(G7l,p7l);}if(E7l == "day"){o7l=k7l(G7l,p7l);}else if(!isNaN(E7l)){o7l=k7l(G7l,p7l) * D7l(G7l,p7l) / E7l;}}else if(q7l == n2v){d2v="mon";d2v+="t";d2v+="h";c2v="w";c2v+="e";c2v+="e";c2v+="k";if(E7l == c2v){k0bh.N3mK(43);var t4uu=k0bh.e3mK(20,0,18,2,721);o7l=t4uu / k7l(G7l,p7l);}else if(E7l == d2v){k0bh.i3mK(44);var L4uu=k0bh.e3mK(19,5,62,18,2);o7l=L4uu / t7l(G7l,p7l);}else if(!isNaN(E7l)){o7l=D7l(G7l,p7l) / E7l;}}}else if(!isNaN(q7l)){if(E7l == "month"){o7l=q7l / (t7l(G7l,p7l) * D7l(G7l,p7l));}else if(E7l == "week"){o7l=q7l / (k7l(G7l,p7l) * D7l(G7l,p7l));}else if(E7l == "day"){o7l=q7l / D7l(G7l,p7l);}}function S7l(x7l,V7l){k0bh.d7Kh();return 5;}function k7l(a7l,m7l){k0bh.d7Kh();return 5;}k0bh.i3mK(10);o7l*=k0bh.e3mK(v7l,N7l);function t7l(M7l,z7l){return 30;}function D7l(s7l,R7l){k0bh.d7Kh();if(x1l.Market.Symbology.isForexSymbol(R7l)){return 1440;}return 390;}return o7l;};x1l.Drawing.freeform.prototype.render=function(I7l){var P7l,C7l,u7l,r7l,d7l,l7l,T7l,F7l,L7l,f7l,Q7l,y7l;P7l=this.stx.panels[this.panelName];if(!P7l){return;}C7l=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,P7l.chart.symbol);if(C7l === 0){return;}u7l=this.stx.layout.candleWidth / this.candleWidth;r7l=P7l.yAxis.multiplier / this.multiplier;this.setPoint(+"0",this.d0,this.v0,P7l.chart);d7l=this.stx.pixelFromTick(this.p0[0],P7l.chart);l7l=this.stx.pixelFromValueAdjusted(P7l,this.p0[0],this.p0[1]);T7l=[];F7l=this.lineWidth;L7l=this.getLineColor();f7l={pattern:this.pattern,lineWidth:F7l};for(var A7l=+"0";A7l < this.pNodes.length;A7l++){Q7l=C7l * u7l * this.pNodes[A7l][0] + d7l;T5VV.N3mK(45);var x4uu=T5VV.e3mK(5,3,2,0);y7l=r7l * this.pNodes[A7l][x4uu];if(P7l.yAxis.flipped){T5VV.N3mK(1);y7l=T5VV.e3mK(y7l,l7l);}else {y7l+=l7l;}T7l.push(Q7l,y7l);}if(!T7l.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(T7l,L7l,this.name,I7l,P7l,f7l);}else {this.stx.plotSpline(T7l,this.splineTension,L7l,this.name,I7l,!0,f7l);}};x1l.Drawing.freeform.prototype.adjust=function(){var w7l,J6l,W7l,Y7l,Z7l,e7l,H6l,X7l;w7l=this.stx.panels[this.panelName];if(!w7l){return;}J6l=[this.nodes[0],this.nodes[1]];this.pNodes=[J6l];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var b7l=2;b7l < this.nodes.length;b7l+=2){T5VV.i3mK(0);W7l=[this.nodes[b7l],this.nodes[T5VV.e3mK(1,b7l)]];this.pNodes.push(W7l);this.lowX=Math.min(this.lowX,W7l[0]);this.hiX=Math.max(this.hiX,W7l[+"0"]);this.lowY=Math.max(this.lowY,W7l[1]);this.hiY=Math.min(this.hiY,W7l[1]);}Y7l=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,w7l.chart.symbol);if(Y7l === 0){return;}Z7l=this.stx.layout.candleWidth / this.candleWidth;e7l=w7l.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,w7l.chart);H6l=this.stx.pixelFromTick(this.p0[0],w7l.chart);X7l=this.stx.pixelFromValueAdjusted(w7l,this.p0[0],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(Y7l * Z7l * this.lowX) + H6l,w7l.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(Y7l * Z7l * this.hiX) + H6l,w7l.chart);if(w7l.yAxis.flipped){this.lowY=this.stx.valueFromPixel(X7l - Math.floor(e7l * this.lowY),w7l);this.hiY=this.stx.valueFromPixel(X7l - Math.ceil(e7l * this.hiY),w7l);}else {this.lowY=this.stx.valueFromPixel(Math.floor(e7l * this.lowY) + X7l,w7l);this.hiY=this.stx.valueFromPixel(Math.ceil(e7l * this.hiY) + X7l,w7l);}};x1l.Drawing.freeform.prototype.serialize=function(){T5VV.d7Kh();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(+"4")),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};x1l.Drawing.freeform.prototype.reconstruct=function(g6l,n6l){this.stx=g6l;this.color=n6l.col;this.panelName=n6l.pnl;this.pattern=n6l.ptrn;this.lineWidth=n6l.lw;this.candleWidth=n6l.cw;this.multiplier=n6l.mlt;this.d0=n6l.d0;this.tzo0=n6l.tzo0;this.v0=n6l.v0;this.interval=n6l.inter;this.periodicity=n6l.pd;T5VV.d7Kh();this.nodes=n6l.nodes;this.adjust();};x1l.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;this.h=0;this.padding=4;this.text="";this.ta=null;this.fontSize=+"0";this.font={};this.stemEntry="";this.defaultWidth=50;T5VV.i3mK(22);this.defaultHeight=T5VV.E3mK("10",2);;};x1l.inheritsFrom(x1l.Drawing.callout,x1l.Drawing.annotation);x1l.Drawing.callout.prototype.configs=[q2v,b2v,"lineWidth","pattern","font"];x1l.Drawing.callout.prototype.copyConfig=function(B6l){x1l.Drawing.copyConfig(this,B6l);this.borderColor=this.color;};x1l.Drawing.callout.prototype.move=function(U6l,E6l,p6l){if(!this.penDown){return;}this.copyConfig();this.p0=[E6l,p6l];this.render(U6l);};x1l.Drawing.callout.prototype.onChange=function(s6l){var R6l,S6l,D6l;R6l=this.stx.panels[this.panelName];if(!R6l){return;}S6l=s6l.target;this.w=S6l.clientWidth;T5VV.k7Kh();this.h=S6l.clientHeight;D6l=this.context || this.stx.chart.tempCanvas.context;x1l.clearCanvas(D6l.canvas,this.stx);this.render(D6l);this.edit(D6l);};x1l.Drawing.callout.prototype.render=function(T6l){var l0bh=T5VV;var X6l,n5l,O5l,l6l,A6l,I6l,f6l,Y6l,H5l,e6l,r6l,J5l,d6l,c5l,u6l,R1v,l1v,r1v,F6l,q1v,b1v,h1v,z2v,h2v,E2v,g5l;this.context=T6l;X6l=this.stx.panels[this.panelName];if(!X6l){return;}n5l=this.stx.pixelFromTick(this.p0[0],X6l.chart);O5l=this.stx.pixelFromValueAdjusted(X6l,this.p0[0],this.p0[1]);if(isNaN(O5l)){return;}T6l.font=this.fontString;T6l.textBaseline="top";l6l=n5l;A6l=O5l;l0bh.i3mK(46);var j4uu=l0bh.E3mK(1,0,9,1,7);I6l=this.w / j4uu;l0bh.i3mK(0);var o4uu=l0bh.E3mK(2,0);f6l=this.h / o4uu;if(this.penDown){I6l=this.defaultWidth;f6l=this.defaultHeight;if(!f6l){f6l=this.fontSize;}}Y6l=this.lineWidth;if(!Y6l){Y6l=1.1;}H5l=this.color;if(H5l == "auto" || x1l.isTransparent(H5l)){H5l=this.stx.defaultColor;}e6l=this.borderColor;if(e6l == "auto" || x1l.isTransparent(e6l)){e6l=this.stx.defaultColor;}if(this.highlighted){e6l=this.stx.getCanvasColor("stx_highlight_vector");}u6l=Math.min(Math.min(I6l,f6l) / 2,"8" << 1605127456);if(this.stem){if(this.stem.t){R1v=1880448580;l1v=-1685676834;r1v=2;for(var V1v=1;l0bh.Y6v(V1v.toString(),V1v.toString().length,17221) !== R1v;V1v++){r6l=this.stx.pixelFromTick(this.stem.t);d6l=this.stx.pixelFromValueAdjusted(X6l,this.stem.t,this.stem.v);r1v+=2;}if(l0bh.Y6v(r1v.toString(),r1v.toString().length,"86718" - 0) !== l1v){r6l=this.stx.pixelFromTick(this.stem.t);d6l=this.stx.pixelFromValueAdjusted(X6l,this.stem.t,this.stem.v);}}else if(this.stem.x){r6l=l6l;d6l=A6l;l6l+=this.stem.x;A6l+=this.stem.y;}F6l="";if(r6l >= l6l + I6l){l0bh.i3mK(0);J5l=l0bh.e3mK(I6l,l6l);F6l=6470 >= (2480,1373)?"r":(719,+"7310") !== 529.51?"r":"x";}else if(r6l > l6l - I6l && r6l < l6l + I6l){J5l=l6l;F6l=(2290,"490.92" - 0) < 4080?9132 > (6070,8843)?"c":("D","j"):(! !{},409.43);}else if(r6l <= l6l - I6l){l0bh.i3mK(1);J5l=l0bh.E3mK(I6l,l6l);F6l="l";}if(d6l >= A6l + f6l){l0bh.N3mK(0);c5l=l0bh.e3mK(f6l,A6l);F6l+="b";}else if(d6l > A6l - f6l && d6l < A6l + f6l){c5l=A6l;F6l+="m";}else if(d6l <= A6l - f6l){l0bh.N3mK(1);c5l=l0bh.E3mK(f6l,A6l);F6l+=1610 == (8973,689)?(! !"","6.83e+3" | 4096):760.6 <= 9319?3210 === 9710?("U",0x102a):"t":(7.12e+2,9.78e+3);}this.stemEntry=F6l;if(F6l != "cm"){r6l=Math.round(r6l);J5l=Math.round(J5l);d6l=Math.round(d6l);c5l=Math.round(c5l);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",T6l);}else {if(this.fillColor){T6l.fillStyle=this.fillColor;l0bh.N3mK(5);T6l.globalAlpha=l0bh.E3mK(1,"0.4");}else if(this.stem){T6l.fillStyle=this.stx.containerColor;}}T6l.strokeStyle=e6l;if(T6l.setLineDash){q1v=-20575527;b1v=-1747918254;h1v=+"2";for(var E1v=1;l0bh.s1v(E1v.toString(),E1v.toString().length,74785) !== q1v;E1v++){T6l.setLineDash(x1l.borderPatternToArray(Y6l,this.pattern));T6l.lineDashOffset=0;h1v+=2;}if(l0bh.Y6v(h1v.toString(),h1v.toString().length,36618) !== b1v){T6l.setLineDash(x1l.borderPatternToArray(Y6l,this.pattern));l0bh.N3mK(5);T6l.lineDashOffset=l0bh.E3mK(1,"6");};}if(e6l){z2v="c";z2v+="b";h2v="r";h2v+="b";T6l.beginPath();T6l.lineWidth=Y6l;l0bh.N3mK(7);T6l.moveTo(l0bh.E3mK(l6l,I6l,u6l),l0bh.E3mK(f6l,A6l,l0bh.N3mK(1)));if(this.stemEntry != "rt"){l0bh.i3mK(0);T6l.quadraticCurveTo(l0bh.e3mK(I6l,l6l),l0bh.E3mK(f6l,A6l,l0bh.i3mK(1)),l0bh.E3mK(I6l,l6l,l0bh.N3mK(0)),l0bh.e3mK(A6l,f6l,u6l,l0bh.N3mK(2)));;}else {T6l.lineTo(r6l,d6l);l0bh.i3mK(0);T6l.lineTo(l0bh.E3mK(I6l,l6l),l0bh.e3mK(A6l,f6l,u6l,l0bh.N3mK(2)));}l0bh.N3mK(0);T6l.lineTo(l0bh.e3mK(I6l,l6l),l0bh.E3mK(A6l,2,u6l,l0bh.i3mK(47)));if(this.stemEntry == "rm"){T6l.lineTo(r6l,d6l);}l0bh.i3mK(0);T6l.lineTo(l0bh.e3mK(I6l,l6l),l0bh.E3mK(u6l,A6l,"2",l0bh.i3mK(48)));l0bh.i3mK(0);T6l.lineTo(l0bh.E3mK(I6l,l6l),l0bh.E3mK(A6l,f6l,u6l,l0bh.i3mK(7)));if(this.stemEntry != h2v){l0bh.i3mK(0);T6l.quadraticCurveTo(l0bh.E3mK(I6l,l6l),l0bh.e3mK(f6l,A6l,l0bh.N3mK(0)),l0bh.E3mK(l6l,I6l,u6l,l0bh.i3mK(7)),l0bh.E3mK(f6l,A6l,l0bh.N3mK(0)));;}else {T6l.lineTo(r6l,d6l);l0bh.i3mK(7);T6l.lineTo(l0bh.e3mK(l6l,I6l,u6l),l0bh.E3mK(f6l,A6l,l0bh.N3mK(0)));}l0bh.N3mK(49);T6l.lineTo(l0bh.e3mK(u6l,2,l6l),l0bh.E3mK(f6l,A6l,l0bh.i3mK(0)));if(this.stemEntry == z2v){T6l.lineTo(r6l,d6l);}l0bh.i3mK(50);T6l.lineTo(l0bh.E3mK(l6l,u6l,"2",2147483647),l0bh.e3mK(f6l,A6l,l0bh.i3mK(0)));l0bh.i3mK(2);T6l.lineTo(l0bh.e3mK(l6l,I6l,u6l),l0bh.E3mK(f6l,A6l,l0bh.N3mK(0)));if(this.stemEntry != "lb"){l0bh.i3mK(1);T6l.quadraticCurveTo(l0bh.e3mK(I6l,l6l),l0bh.e3mK(f6l,A6l,l0bh.N3mK(0)),l0bh.E3mK(I6l,l6l,l0bh.i3mK(1)),l0bh.E3mK(A6l,f6l,u6l,l0bh.i3mK(7)));;}else {T6l.lineTo(r6l,d6l);l0bh.N3mK(1);T6l.lineTo(l0bh.e3mK(I6l,l6l),l0bh.E3mK(A6l,f6l,u6l,l0bh.N3mK(7)));}l0bh.N3mK(1);T6l.lineTo(l0bh.e3mK(I6l,l6l),l0bh.e3mK(u6l,A6l,"2",l0bh.i3mK(48)));if(this.stemEntry == "lm"){T6l.lineTo(r6l,d6l);}l0bh.N3mK(1);T6l.lineTo(l0bh.E3mK(I6l,l6l),l0bh.e3mK(A6l,2,u6l,l0bh.N3mK(47)));l0bh.N3mK(1);T6l.lineTo(l0bh.e3mK(I6l,l6l),l0bh.E3mK(A6l,f6l,u6l,l0bh.i3mK(2)));if(this.stemEntry != "lt"){l0bh.i3mK(1);T6l.quadraticCurveTo(l0bh.e3mK(I6l,l6l),l0bh.E3mK(f6l,A6l,l0bh.N3mK(1)),l0bh.e3mK(l6l,I6l,u6l,l0bh.i3mK(2)),l0bh.e3mK(f6l,A6l,l0bh.i3mK(1)));;}else {T6l.lineTo(r6l,d6l);l0bh.i3mK(2);T6l.lineTo(l0bh.e3mK(l6l,I6l,u6l),l0bh.E3mK(f6l,A6l,l0bh.N3mK(1)));}l0bh.i3mK(47);T6l.lineTo(l0bh.E3mK(l6l,2,u6l),l0bh.E3mK(f6l,A6l,l0bh.i3mK(1)));if(this.stemEntry == "ct"){T6l.lineTo(r6l,d6l);}l0bh.i3mK(49);T6l.lineTo(l0bh.e3mK(u6l,2,l6l),l0bh.E3mK(f6l,A6l,l0bh.i3mK(1)));l0bh.N3mK(7);T6l.lineTo(l0bh.e3mK(l6l,I6l,u6l),l0bh.E3mK(f6l,A6l,l0bh.i3mK(1)));T6l.fill();T6l.globalAlpha=1;if(this.pattern != "none"){T6l.stroke();}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",T6l);}else {T6l.fillStyle=H5l;}A6l+=this.padding;if(!this.ta){for(var K5l=0;K5l < this.arr.length;K5l++){T6l.fillText(this.arr[K5l],l6l - I6l + this.padding,A6l - f6l);A6l+=this.fontSize;}}T6l.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){E2v="p";E2v+="0";g5l=this.highlighted == E2v?! ![]:![];this.littleCircle(T6l,r6l,d6l,g5l);};};x1l.Drawing.callout.prototype.click=function(i5l,j5l,B5l){var h5l;if(this.stx.overXAxis || this.stx.overYAxis){return;}h5l=this.stx.panels[this.panelName];this.copyConfig();T5VV.N3mK(22);this.setPoint(T5VV.E3mK("0",0),j5l,B5l,h5l.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !{};this.adjust();return ! !"";}this.adjust();this.edit(i5l);this.penDown=! !"";return !{};};x1l.Drawing.callout.prototype.reposition=function(D5l,U5l,p5l,q5l){var E5l,o5l,G5l,B2v,V9v,O9v,a9v;if(!U5l){return;}E5l=this.stx.panels[this.panelName];o5l=U5l.tick - p5l;G5l=U5l.value - q5l;if(U5l.stem){B2v="m";B2v+="ove";if(U5l.action == "drag"){this.stem={d:this.stx.dateFromTick(p5l,E5l.chart,!0),v:q5l};}else if(U5l.action == B2v){this.setPoint(0,U5l.p0[0] - o5l,U5l.p0[1] - G5l,E5l.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(U5l.stem.d,E5l.chart) - o5l),v:U5l.stem.v - G5l};}this.adjust();}else {V9v=1429573506;O9v=47460545;a9v=+"2";for(var X9v=1;T5VV.s1v(X9v.toString(),X9v.toString().length,56665) !== V9v;X9v++){this.setPoint(4,U5l.p0[1] * o5l,U5l.p0["2" | 2] * G5l,E5l.chart);a9v+=2;}if(T5VV.Y6v(a9v.toString(),a9v.toString().length,"17397" * 1) !== O9v){this.setPoint(0,U5l.p0[0] - o5l,U5l.p0[1] - G5l,E5l.chart);}}this.render(D5l);};x1l.Drawing.callout.prototype.lineIntersection=function(T5l,A5l,s5l,P5l){var x0bh=T5VV;var V5l,k5l,v5l,a5l,m5l,M5l,t5l,N5l,x5l,z5l,R5l,S5l;x0bh.k7Kh();V5l=this.stx.panels[this.panelName];k5l=this.stem;v5l=this.p0;a5l=this.stx;if(!v5l || !k5l || !V5l){return ![];}m5l=k5l.t || this.stx.tickFromDate(k5l.d,V5l.chart);M5l={x0:v5l[0],x1:m5l,y0:v5l[1],y1:k5l.v};t5l=x1l.convertBoxToPixels(a5l,this.panelName,M5l);N5l=t5l.x0;x5l=t5l.y0;z5l=t5l.x1;R5l=t5l.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf(2610 != (4492,+"4150")?"l":(0x1c47,"g")) > -1){x0bh.N3mK(0);var e4uu=x0bh.e3mK(2,0);N5l-=this.w / e4uu;}else if(this.stemEntry.indexOf((9317,+"111.23") !== 773?"r":9457 < 877.56?(!"",458.17):938.52 >= (9900,"2520" ^ 0)?(970.00,"413.94" - 0):(!{},3.49e+3)) > -1){N5l+=this.w / +"2";}if(this.stemEntry.indexOf("8494" * 1 > +"748.09"?(+"2479","6090" * 1) != ("115" >> 1027875712,699)?"t":("94.72" - 0,5.42e+3):"6.13e+3" & 2147483647) > -1){x0bh.N3mK(42);var M4uu=x0bh.e3mK(4,0,78,19);x5l-=this.h / M4uu;}else if(this.stemEntry.indexOf("b") > - +"1"){x0bh.N3mK(51);var N4uu=x0bh.E3mK(1,14,17,20,21);x5l+=this.h / N4uu;}}S5l=x1l.convertBoxToPixels(a5l,this.panelName,s5l);return x1l.boxIntersects(S5l.x0,S5l.y0,S5l.x1,S5l.y1,N5l,x5l,z5l,R5l,P5l);};x1l.Drawing.callout.prototype.intersected=function(C5l,L5l,y5l){var u0bh=T5VV;var l5l,f5l,I5l,u5l,r5l,d5l,F5l,Q5l;l5l=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,y5l)){this.highlighted="p0";return {action:"drag",stem:! ![]};}f5l=this.stx.pixelFromTick(this.p0[0],l5l.chart) - this.w / +"2";u0bh.i3mK(0);var I4uu=u0bh.e3mK(1,0);u0bh.i3mK(52);var Z4uu=u0bh.e3mK(20,0,10);I5l=this.stx.pixelFromValueAdjusted(l5l,this.p0[0],this.p0[I4uu]) - this.h / Z4uu;u0bh.k7Kh();u5l=f5l + this.w;r5l=I5l + this.h;if(this.stem && this.stem.x){f5l+=this.stem.x;u5l+=this.stem.x;I5l+=this.stem.y;r5l+=this.stem.y;}d5l=this.stx.pixelFromTick(C5l,l5l.chart);F5l=this.stx.pixelFromValueAdjusted(l5l,C5l,L5l);if(d5l + y5l.r >= f5l && d5l - y5l.r <= u5l && F5l + y5l.r >= I5l && F5l - y5l.r <= r5l){this.highlighted=! !{};return {p0:x1l.clone(this.p0),tick:C5l,value:L5l};}Q5l=this.lineIntersection(C5l,L5l,y5l,"segment");if(Q5l){this.highlighted=! ![];return {action:"move",stem:x1l.clone(this.stem),p0:x1l.clone(this.p0),tick:C5l,value:L5l};}return null;};x1l.Drawing.fibonacci=function(){this.name="fibonacci";this.configurator="fibonacci";};x1l.inheritsFrom(x1l.Drawing.fibonacci,x1l.Drawing.BaseTwoPoint);x1l.Drawing.fibonacci.mapping={trend:167 !== ("970.23" * 1,"9531" >> 1457959136)?"t":(322.19,4113) >= 713.62?(0x5e0,0xbae):+"533.43",color:(571.78,742.09) != (2250,819.92)?"697.2" * 1 === (1610,2525)?"N":716.84 > (7201,757.42)?(![],6.03e+3):"c":("Q","B"),parameters:"p",pattern:"pt",opacity:(3650,+"615.69") > 7020?![]:"5420" << 2032763264 == (9775,763.04)?"n":"o",lineWidth:"lw",level:"l",extendLeft:(2080,+"8210") < (3923,9140)?419.56 === (9160,4530)?113 === +"8862"?(573.85,!1):7.52e+3:"e":0x2545,printLevels:"pl",printValues:"pv",timezone:"tz",display:+"7370" >= (8840,333.16)?"d":(749.41,8900) !== (3140,211)?"V":("0x193c" * 1,"l")};x1l.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,+"0",0.382,0.5,0.618,1,+"1.382",1.618];x1l.Drawing.fibonacci.prototype.configs=[G2v,"fillColor",m2v,"pattern",P2v];x1l.Drawing.fibonacci.prototype.initializeSettings=function(X5l){var H1v,v1v,U1v,b5l,W5l;H1v=2133765463;v1v=-164953594;U1v=2;for(var w1v=1;T5VV.s1v(w1v.toString(),w1v.toString().length,15132) !== H1v;w1v++){b5l=this.recommendedLevels;T5VV.N3mK(53);U1v+=T5VV.e3mK("2",111772160);}if(T5VV.s1v(U1v.toString(),U1v.toString().length,+"94513") !== v1v){b5l=this.recommendedLevels;}if(b5l && !X5l.currentVectorParameters.fibonacci.fibsAlreadySet){W5l=X5l.currentVectorParameters.fibonacci.fibs;for(var w5l=0;w5l < W5l.length;w5l++){delete W5l[w5l].display;for(var e5l=0;e5l < b5l.length;e5l++){if(W5l[w5l].level == b5l[e5l]){W5l[w5l].display=! !"1";}}}}};x1l.Drawing.fibonacci.prototype.setOuter=function(){var Y5l,Z5l,n8l,g8l,h8l,i8l,j8l,U8l,E8l,J8l,c8l,H8l,O8l,B8l;Y5l=this.stx;T5VV.d7Kh();Z5l=Y5l.panels[this.panelName];if(!Z5l){return;}n8l=Math.max(this.p0[1],this.p1[1]);g8l=Math.min(this.p0[1],this.p1[1]);T5VV.N3mK(1);h8l=T5VV.E3mK(g8l,n8l);this.outer={p0:x1l.clone(this.p0),p1:x1l.clone(this.p1)};i8l=Y5l.pixelFromValueAdjusted(Z5l,this.p0[0],this.p0[1]);j8l=Y5l.pixelFromValueAdjusted(Z5l,this.p1[0],this.p1[1]);U8l=Y5l.pixelFromTick(this.p0[+"0"],Z5l.chart);E8l=Y5l.pixelFromTick(this.p1[0],Z5l.chart);J8l=0;c8l=1;for(var K8l=0;K8l < this.parameters.fibs.length;K8l++){H8l=this.parameters.fibs[K8l];if(H8l.level >= J8l && H8l.level <= c8l || !H8l.display)continue;O8l=Y5l.pixelFromValueAdjusted(Z5l,this.p0[0],j8l < i8l?n8l - h8l * H8l.level:g8l + h8l * H8l.level);B8l=x1l.xIntersection({x0:U8l,x1:E8l,y0:i8l,y1:j8l},O8l);if(H8l.level < J8l){J8l=H8l.level;this.outer.p1[1]=Y5l.valueFromPixel(O8l,Z5l);this.outer.p1[0]=Y5l.tickFromPixel(B8l,Z5l.chart);}else if(H8l.level > c8l){c8l=H8l.level;this.outer.p0[1]=Y5l.valueFromPixel(O8l,Z5l);this.outer.p0[0]=Y5l.tickFromPixel(B8l,Z5l.chart);}}};x1l.Drawing.fibonacci.prototype.click=function(q8l,G8l,p8l){var o8l;o8l=this.stx.panels[this.panelName];if(!o8l){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,G8l,p8l,o8l.chart);this.penDown=! !{};return ![];}if(this.accidentalClick(G8l,p8l)){return this.dragToDraw;}this.setPoint(1,G8l,p8l,o8l.chart);T5VV.d7Kh();this.setOuter();this.parameters=x1l.clone(this.parameters);this.penDown=!{};return ! ![];;};x1l.Drawing.fibonacci.prototype.render=function(D8l){var a0bh=T5VV;var C2v,f2v,k8l,l8l,L8l,f8l,d8l,s8l,z8l,N8l,S8l,F8l,Q8l,w8l,X8l,Y8l,W8l,Z8l,I8l,P8l,u8l,T8l,R8l,k2v,y2v,D2v,a8l,t8l,y8l,m8l,v8l,H9l,A8l,M8l,x8l,b8l,V8l,e8l,A2v,J9l,c9l;C2v="se";C2v+="g";C2v+="ment";f2v="a";f2v+="uto";k8l=this.stx.panels[this.panelName];if(!k8l){return;}l8l=k8l.yAxis;if(!this.p1){return;}L8l=Math.max(this.p0[+"1"],this.p1[1]);f8l=Math.min(this.p0[1],this.p1["1" >> 1556568544]);d8l=l8l.flipped?f8l - L8l:L8l - f8l;s8l=this.stx.pixelFromTick(this.p0[0],k8l.chart);z8l=this.stx.pixelFromTick(this.p1[0],k8l.chart);N8l=this.stx.pixelFromValueAdjusted(k8l,this.p0[+"0"],this.p0[1]);S8l=this.stx.pixelFromValueAdjusted(k8l,this.p1[0],this.p1[1]);F8l=Math.min(S8l,N8l);Q8l=Math.max(S8l,N8l);a0bh.i3mK(1);w8l=a0bh.E3mK(F8l,Q8l);a0bh.i3mK(54);X8l=a0bh.E3mK(N8l,z8l,0,S8l,s8l);Y8l={color:f2v,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=Y8l;}W8l=this.getLineColor(this.parameters.trend.color);D8l.textBaseline="middle";this.stx.canvasFont("stx_yaxis",D8l);a0bh.N3mK(55);var i4uu=a0bh.E3mK(9,7,1,7);Z8l=D8l.measureText("161.8%").width + i4uu;I8l=Number.MAX_VALUE;P8l=Number.MAX_VALUE;a0bh.N3mK(56);var F4uu=a0bh.E3mK(94,5,19);u8l=Number.MAX_VALUE * F4uu;a0bh.i3mK(57);var n4uu=a0bh.e3mK(29,13,1,17);T8l=Number.MAX_VALUE * n4uu;R8l=this.color;if(R8l == "auto" || x1l.isTransparent(R8l)){R8l=this.stx.defaultColor;}this.rays=[];for(var r8l=0;r8l < this.parameters.fibs.length;r8l++){k2v="a";k2v+="u";k2v+="t";k2v+="o";y2v="a";y2v+="u";y2v+="t";y2v+="o";D2v="aut";D2v+="o";D8l.textAlign="left";D8l.fillStyle=R8l;a8l=this.parameters.fibs[r8l];if(!a8l.display)continue;t8l=this.stx.pixelFromValueAdjusted(k8l,this.p0["0" ^ 0],S8l < N8l?L8l - d8l * a8l.level:f8l + d8l * a8l.level);y8l=x1l.xIntersection({x0:s8l,x1:z8l,y0:N8l,y1:S8l},t8l);m8l=this.parameters.extendLeft?0:y8l;v8l=k8l.left + k8l.width;if(this.parameters.printLevels){a0bh.N3mK(58);var c4uu=a0bh.e3mK(987,993,141);a0bh.i3mK(7);var d4uu=a0bh.E3mK(40,20,50);a0bh.i3mK(59);var q4uu=a0bh.e3mK(11,2,16,33147,80960);a0bh.i3mK(1);var b4uu=a0bh.E3mK(25740,34320);a0bh.N3mK(60);var h4uu=a0bh.e3mK(1195355,4,37485,8);a0bh.i3mK(61);var z4uu=a0bh.E3mK(9,2871,2880,5779,20);H9l=Math.round(a8l.level * c4uu) / d4uu + (q4uu !== +"4910"?(802.18,b4uu) >= 136.6?"342.03" - 0 !== 5220?"%":h4uu:z4uu:(779.77,"e"));v8l-=Z8l;if(this.parameters.printValues){D8l.fillStyle=R8l;this.stx.canvasFont("stx_yaxis",D8l);;}if(v8l < m8l){D8l.textAlign="right";}D8l.fillText(H9l,v8l,t8l);if(v8l < m8l){v8l+=+"5";}else {v8l-=5;}}if(this.parameters.printValues){if(y8l < k8l.width){A8l=this.stx.transformedPriceFromPixel(t8l,k8l);if(l8l.priceFormatter){A8l=l8l.priceFormatter(this.stx,k8l,A8l);}else {A8l=this.stx.formatYAxisPrice(A8l,k8l);}if(D8l == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(k8l,A8l,t8l,R8l,null,D8l);if(D8l == this.stx.chart.context){this.stx.startClip(k8l.name);}}}M8l=a8l.color;if(M8l == D2v || x1l.isTransparent(M8l)){M8l=this.color;}if(M8l == y2v || x1l.isTransparent(M8l)){M8l=this.stx.defaultColor;}x8l=a8l.color;if(x8l == k2v || x1l.isTransparent(x8l)){x8l=this.fillColor;}if(x8l == "auto" || x1l.isTransparent(x8l)){x8l=this.stx.defaultColor;}D8l.fillStyle=x8l;b8l=x1l.clone(a8l.parameters);if(this.highlighted){b8l.opacity=+"1";}this.stx.plotLine(m8l,v8l,t8l,t8l,this.highlighted?W8l:M8l,"segment",D8l,k8l,b8l);this.rays.push([[m8l,t8l],[v8l,t8l]]);D8l.globalAlpha=0.05;D8l.beginPath();D8l.moveTo(v8l,t8l);D8l.lineTo(m8l,t8l);if(m8l){D8l.lineTo(z8l,S8l);}else {D8l.lineTo(m8l,S8l);}D8l.lineTo(v8l,S8l);if(typeof x8l != "undefined"){D8l.fill();}D8l.globalAlpha=1;if(t8l < P8l){I8l=y8l;P8l=t8l;}if(t8l > T8l){u8l=y8l;T8l=t8l;}}for(var C8l=0;C8l <= 1;C8l++){V8l=X8l?Q8l - w8l * C8l:F8l + w8l * C8l;V8l=Math.round(V8l);if(V8l < P8l){I8l=x1l.xIntersection({x0:s8l,x1:z8l,y0:N8l,y1:S8l},V8l);P8l=V8l;}if(V8l > T8l){u8l=x1l.xIntersection({x0:s8l,x1:z8l,y0:N8l,y1:S8l},V8l);T8l=V8l;}}e8l=x1l.clone(this.parameters.trend.parameters);if(this.highlighted){e8l.opacity=1;}this.stx.plotLine(I8l,u8l,P8l,T8l,W8l,C2v,D8l,k8l,e8l);if(this.highlighted){A2v="p";A2v+="0";J9l=this.highlighted == A2v?! ![]:!"1";c9l=this.highlighted == "p1"?!"":! !0;this.littleCircle(D8l,s8l,N8l,J9l);this.littleCircle(D8l,z8l,S8l,c9l);}};x1l.Drawing.fibonacci.prototype.reposition=function(O9l,K9l,n9l,g9l){if(!K9l){return;}x1l.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);T5VV.k7Kh();this.adjust();};x1l.Drawing.fibonacci.prototype.intersected=function(p9l,q9l,D9l){T5VV.k7Kh();var j9l,B9l,U9l,W2v,E9l,o9l,G9l;j9l=this.p0;B9l=this.p1;if(!j9l || !B9l){return null;}U9l={0:j9l,1:B9l};for(var h9l in U9l){if(this.pointIntersection(U9l[h9l][0],U9l[h9l][+"1"],D9l)){W2v="d";W2v+="r";W2v+="a";W2v+="g";T5VV.N3mK(0);this.highlighted=T5VV.e3mK(h9l,"p");return {action:W2v,point:("329.11" - 0 >= 9330?341.91:"p") + h9l};}}E9l=this.outer;o9l=this.rays;G9l=E9l && this.lineIntersection(p9l,q9l,D9l,"segment",E9l.p0,E9l.p1);if(!G9l){for(var i9l=0;i9l < o9l.length;i9l++){if(this.lineIntersection(p9l,q9l,D9l,"ray",o9l[i9l][+"0"],o9l[i9l][1],!0)){G9l=! !{};break;}}}if(G9l){this.highlighted=! ![];return {action:"move",p0:x1l.clone(j9l),p1:x1l.clone(B9l),tick:p9l,value:q9l};}return null;};x1l.Drawing.fibonacci.prototype.reconstruct=function(t9l,k9l){k9l=x1l.replaceFields(k9l,x1l.reverseObject(x1l.Drawing.fibonacci.mapping));this.stx=t9l;this.parameters=k9l.parameters;if(!this.parameters){this.parameters=x1l.clone(this.stx.currentVectorParameters.fibonacci);}this.color=k9l.col;this.fillColor=k9l.fc;this.panelName=k9l.pnl;this.d0=k9l.d0;this.d1=k9l.d1;this.d2=k9l.d2;this.tzo0=k9l.tzo0;this.tzo1=k9l.tzo1;this.tzo2=k9l.tzo2;this.v0=k9l.v0;this.v1=k9l.v1;T5VV.d7Kh();this.v2=k9l.v2;this.adjust();};x1l.Drawing.fibonacci.prototype.adjust=function(){var S9l;S9l=this.stx.panels[this.panelName];T5VV.k7Kh();if(!S9l){return;}this.setPoint(0,this.d0,this.v0,S9l.chart);this.setPoint(1,this.d1,this.v1,S9l.chart);this.setOuter();};x1l.Drawing.fibonacci.prototype.serialize=function(){var v9l;v9l={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return x1l.replaceFields(v9l,x1l.Drawing.fibonacci.mapping);};x1l.Drawing.retracement=function(){T5VV.d7Kh();this.name="retracement";};x1l.inheritsFrom(x1l.Drawing.retracement,x1l.Drawing.fibonacci);x1l.Drawing.fibprojection=function(){var g2v,a3v,u3v,X3v;g2v="f";g2v+="i";g2v+="b";g2v+="projection";T5VV.d7Kh();this.name=g2v;this.dragToDraw=![];a3v=1237852862;u3v=1513606498;X3v=+"2";for(var Y3v=1;T5VV.s1v(Y3v.toString(),Y3v.toString().length,"50244" - 0) !== a3v;Y3v++){this.p2=1;X3v+=2;}if(T5VV.Y6v(X3v.toString(),X3v.toString().length,55748) !== u3v){this.p2=null;}};x1l.inheritsFrom(x1l.Drawing.fibprojection,x1l.Drawing.fibonacci);T5VV.N3mK(4);x1l.Drawing.fibprojection.prototype.recommendedLevels=[+"0",0.618,T5VV.e3mK("1",2147483647),1.272,1.618,2.618,4.236];x1l.Drawing.fibprojection.prototype.click=function(a9l,x9l,V9l){var N9l;N9l=this.stx.panels[this.panelName];if(!N9l){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,x9l,V9l,N9l.chart);this.penDown=! ![];return ! !0;}if(this.accidentalClick(x9l,V9l)){this.stx.undo();return !"";}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],N9l.chart);this.parameters=x1l.clone(this.parameters);return ! ![];}this.setPoint(1,x9l,V9l,N9l.chart);this.p2=[this.p1[0],this.p1[1]];return !1;;};x1l.Drawing.fibprojection.prototype.render=function(m9l){var n0bh=T5VV;var Q2v,J2v,T2v,M9l,w9l,b9l,l9l,f9l,u9l,I9l,r9l,A9l,e9l,s9v,H9v,v9v,d9l,X9l,y9l,l2v,C9l,z9l,Y9l,P9l,R9l,Z9l,R2v,L9l,T9l,s9l,W9l,Q9l,r2v,H0N,J0N,c0N;Q2v="a";Q2v+="uto";J2v="mi";J2v+="dd";J2v+="l";J2v+="e";T2v="s";T2v+="ol";T2v+="id";M9l=this.stx.panels[this.panelName];if(!M9l){return;}w9l=M9l.yAxis;if(!this.p1){return;}n0bh.i3mK(0);var E4uu=n0bh.E3mK(1,0);n0bh.N3mK(62);var B4uu=n0bh.E3mK(45,15,12,17);b9l=this.p1[E4uu] - this.p0[B4uu];l9l=this.stx.pixelFromTick(this.p0[0],M9l.chart);f9l=this.stx.pixelFromTick(this.p1[0],M9l.chart);u9l=this.stx.pixelFromValueAdjusted(M9l,this.p0[+"0"],this.p0[1]);I9l=this.stx.pixelFromValueAdjusted(M9l,this.p1[0],this.p1[+"1"]);r9l=null;A9l=null;if(this.p2){r9l=this.stx.pixelFromTick(this.p2[0],M9l.chart);A9l=this.stx.pixelFromValueAdjusted(M9l,this.p2[0],this.p2[1]);}e9l={color:"auto",parameters:{pattern:T2v,opacity:0.25,lineWidth:+"1"}};if(!this.parameters.trend){this.parameters.trend=e9l;}s9v=-1591282772;H9v=-1057598920;v9v=2;for(var S9v=1;n0bh.Y6v(S9v.toString(),S9v.toString().length,+"75200") !== s9v;S9v++){d9l=this.getLineColor(this.parameters.trend.color);v9v+=2;}if(n0bh.Y6v(v9v.toString(),v9v.toString().length,+"79090") !== H9v){d9l=this.getLineColor(this.parameters.trend.color);}m9l.textBaseline=J2v;this.stx.canvasFont("stx_yaxis",m9l);n0bh.N3mK(36);var G4uu=n0bh.E3mK(11,2,3,1);X9l=m9l.measureText("161.8%").width + G4uu;y9l=this.color;if(y9l == Q2v || x1l.isTransparent(y9l)){y9l=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var F9l=0;F9l < this.parameters.fibs.length;F9l++){l2v="a";l2v+="uto";m9l.textAlign="left";m9l.fillStyle=y9l;C9l=this.parameters.fibs[F9l];if(!C9l.display)continue;z9l=this.stx.pixelFromValueAdjusted(M9l,this.p2[0],this.p2[1] + b9l * C9l.level);Y9l=x1l.xIntersection({x0:l9l,x1:f9l,y0:u9l,y1:I9l},z9l);P9l=this.parameters.extendLeft?0:l9l;R9l=M9l.left + M9l.width;if(this.parameters.printLevels){n0bh.N3mK(63);var m4uu=n0bh.e3mK(26,3,1,1,20);n0bh.i3mK(64);var P4uu=n0bh.E3mK(15,9681,6,135221,14);n0bh.N3mK(0);var f4uu=n0bh.E3mK(1861,109);n0bh.i3mK(60);var D4uu=n0bh.e3mK(25831,7,574,8);n0bh.i3mK(65);var y4uu=n0bh.E3mK(2597,15,2,1);n0bh.i3mK(27);var k4uu=n0bh.E3mK(3,5,1,15,25830);n0bh.i3mK(58);var C4uu=n0bh.e3mK(56353,5122,56353);Z9l=Math.round(C9l.level * ("1000" & 2147483647)) / m4uu + (P4uu !== (f4uu,D4uu)?"%":491.02 >= (y4uu,k4uu)?(! !"",C4uu):(0x2644,"p"));R9l-=X9l;if(this.parameters.printValues){R2v="st";R2v+="x_yaxis";m9l.fillStyle=y9l;this.stx.canvasFont(R2v,m9l);;}if(R9l < P9l){m9l.textAlign="right";}m9l.fillText(Z9l,R9l,z9l);if(R9l < P9l){R9l+=5;}else {n0bh.i3mK(26);R9l-=n0bh.e3mK("5",0);}}if(this.parameters.printValues){if(Y9l < M9l.width){L9l=this.stx.transformedPriceFromPixel(z9l,M9l);if(w9l.priceFormatter){L9l=w9l.priceFormatter(this.stx,M9l,L9l);}else {L9l=this.stx.formatYAxisPrice(L9l,M9l);}if(m9l == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(M9l,L9l,z9l,y9l,null,m9l);if(m9l == this.stx.chart.context){this.stx.startClip(M9l.name);}}}T9l=C9l.color;if(T9l == "auto" || x1l.isTransparent(T9l)){T9l=this.color;}if(T9l == l2v || x1l.isTransparent(T9l)){T9l=this.stx.defaultColor;}s9l=C9l.color;if(s9l == "auto" || x1l.isTransparent(s9l)){s9l=this.fillColor;}if(s9l == "auto" || x1l.isTransparent(s9l)){s9l=this.stx.defaultColor;}m9l.fillStyle=s9l;W9l=x1l.clone(C9l.parameters);if(this.highlighted){W9l.opacity=1;}this.stx.plotLine(P9l,R9l,z9l,z9l,this.highlighted?d9l:T9l,"segment",m9l,M9l,W9l);this.rays.push([[P9l,z9l],[R9l,z9l]]);m9l.globalAlpha=0.05;m9l.beginPath();m9l.moveTo(R9l,z9l);m9l.lineTo(P9l,z9l);if(P9l){m9l.lineTo(l9l,A9l);}else {m9l.lineTo(P9l,A9l);}m9l.lineTo(R9l,A9l);if(typeof s9l != "undefined"){m9l.fill();}m9l.globalAlpha=1;}}Q9l=x1l.clone(this.parameters.trend.parameters);if(this.highlighted){Q9l.opacity=1;}this.stx.plotLine(l9l,f9l,u9l,I9l,d9l,"segment",m9l,M9l,Q9l);if(this.p2){this.stx.plotLine(f9l,r9l,I9l,A9l,d9l,"segment",m9l,M9l,Q9l);}if(this.highlighted){r2v="p";r2v+="2";H0N=this.highlighted == "p0"?! ![]:!1;J0N=this.highlighted == "p1"?! !1:! !"";c0N=this.highlighted == r2v?! ![]:!{};this.littleCircle(m9l,l9l,u9l,H0N);this.littleCircle(m9l,f9l,I9l,J0N);this.littleCircle(m9l,r9l,A9l,c0N);}};x1l.Drawing.fibprojection.prototype.move=function(n0N,K0N,O0N){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[K0N,O0N];}else {this.p2=[K0N,O0N];}this.render(n0N);};x1l.Drawing.fibprojection.prototype.reposition=function(B0N,g0N,U0N,E0N){var h0N,i0N,j0N;if(!g0N){return;}h0N=this.stx.panels[this.panelName];i0N=g0N.tick - U0N;j0N=g0N.value - E0N;if(g0N.action == "move"){this.setPoint(0,g0N.p0[0] - i0N,g0N.p0[1] - j0N,h0N.chart);T5VV.i3mK(5);this.setPoint(T5VV.e3mK(1,"1"),g0N.p1[0] - i0N,g0N.p1[+"1"] - j0N,h0N.chart);this.setPoint(2,g0N.p2[0] - i0N,g0N.p2[+"1"] - j0N,h0N.chart);this.render(B0N);}else if(g0N.action == "drag"){this[g0N.point]=[U0N,E0N];this.setPoint(0,this.p0[0],this.p0[1],h0N.chart);this.setPoint(1,this.p1[0],this.p1[1],h0N.chart);this.setPoint(2,this.p2[0],this.p2["1" & 2147483647],h0N.chart);this.render(B0N);}};x1l.Drawing.fibprojection.prototype.intersected=function(k0N,t0N,S0N){var V2v,G0N,o0N,p0N,v0N,K2v,N0N,x0N,O2v,a2v;V2v="s";V2v+="egment";G0N=this.p0;T5VV.k7Kh();o0N=this.p1;p0N=this.p2;if(!G0N || !o0N || !p0N){return null;}v0N={0:G0N,1:o0N,2:p0N};for(var q0N in v0N){if(this.pointIntersection(v0N[q0N][0],v0N[q0N][1],S0N)){K2v="d";K2v+="ra";K2v+="g";T5VV.i3mK(0);this.highlighted=T5VV.E3mK(q0N,(967.4,5330) > (627.43,38)?"p":(+"438.66",8960) != (9350,9430)?! ![]:"0x1973" * 1);return {action:K2v,point:((402.15,5660) !== (1090,691)?2295 === (6575,6843)?(6780,6420) == 333?8.56e+3:(0x58f,"p"):"p":(7.00e+3,! !1)) + q0N};}}N0N=this.rays;x0N=this.lineIntersection(k0N,t0N,S0N,V2v,G0N,o0N) || this.lineIntersection(k0N,t0N,S0N,"segment",o0N,p0N);if(!x0N){for(var D0N="0" - 0;D0N < N0N.length;D0N++){O2v="r";O2v+="a";O2v+="y";if(this.lineIntersection(k0N,t0N,S0N,O2v,N0N[D0N][0],N0N[D0N][+"1"],! !"1")){x0N=!0;break;}}}if(x0N){a2v="m";a2v+="o";a2v+="v";a2v+="e";this.highlighted=! !"1";return {action:a2v,p0:x1l.clone(G0N),p1:x1l.clone(o0N),p2:x1l.clone(p0N),tick:k0N,value:t0N};}return null;};x1l.Drawing.fibprojection.prototype.adjust=function(){var V0N;V0N=this.stx.panels[this.panelName];if(!V0N){return;}this.setPoint(0,this.d0,this.v0,V0N.chart);T5VV.N3mK(5);this.setPoint(T5VV.e3mK(1,"1"),this.d1,this.v1,V0N.chart);this.setPoint(2,this.d2,this.v2,V0N.chart);};x1l.Drawing.fibarc=function(){this.name="fibarc";;};x1l.inheritsFrom(x1l.Drawing.fibarc,x1l.Drawing.fibonacci);x1l.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,0.618,1];x1l.Drawing.fibarc.prototype.setOuter=function(){var a0N,m0N,M0N,R0N,s0N,z0N,P0N;a0N=this.stx.panels[this.panelName];if(!a0N){return;}this.outer={p0:x1l.clone(this.p0),p1:x1l.clone(this.p1)};m0N=this.stx.pixelFromValueAdjusted(a0N,this.p0[0],this.p0[1]);M0N=this.stx.pixelFromValueAdjusted(a0N,this.p1[0],this.p1["1" | 0]);R0N=this.stx.pixelFromTick(this.p0[0],a0N.chart);s0N=this.stx.pixelFromTick(this.p1[0],a0N.chart);T5VV.N3mK(66);z0N=T5VV.e3mK(m0N,M0N,"2",1739427072);P0N=x1l.xIntersection({x0:R0N,x1:s0N,y0:m0N,y1:M0N},z0N);this.outer.p0[1]=this.stx.valueFromPixel(z0N,a0N);T5VV.N3mK(22);this.outer.p0[T5VV.e3mK("0",0)]=this.stx.tickFromPixel(P0N,a0N.chart);};x1l.Drawing.fibarc.prototype.intersected=function(l0N,u0N,A0N){var X2v,u2v,r0N,y0N,C0N,F0N,d0N,w0N,T0N,f0N,Q0N,I0N;X2v="m";X2v+="o";X2v+="v";X2v+="e";u2v="se";u2v+="g";u2v+="me";u2v+="nt";r0N=this.stx.panels[this.panelName];if(!r0N){return;}y0N=this.p0;C0N=this.p1;F0N=this.outer;if(!y0N || !C0N){return null;}d0N={0:y0N,1:C0N};for(var L0N in d0N){if(this.pointIntersection(d0N[L0N][0],d0N[L0N]["1" & 2147483647],A0N)){T5VV.N3mK(0);this.highlighted=T5VV.e3mK(L0N,(261,4210) >= (3380,5420)?+"0x117a":"p");return {action:"drag",point:(1900 < 9526?(+"8720",6570) > 1440?"p":(0xe56,"n"):(5.61e+3,+"0x7ee")) + L0N};}}if(this.lineIntersection(l0N,u0N,A0N,u2v,F0N.p0,F0N.p1)){this.highlighted=! ![];return {action:"move",p0:x1l.clone(y0N),p1:x1l.clone(C0N),tick:l0N,value:u0N};}w0N={x0:y0N[0],x1:C0N[+"0"],y0:y0N[1],y1:C0N[1]};T0N=x1l.convertBoxToPixels(this.stx,this.panelName,w0N);f0N={x:Math.abs(Math.sqrt(2) * (T0N.x1 - T0N.x0)),y:Math.abs(Math.sqrt(2) * (T0N.y1 - T0N.y0))};Q0N=this.stx.pixelFromTick(l0N,r0N.chart);I0N=this.stx.pixelFromValueAdjusted(r0N,l0N,u0N);if(Q0N + A0N.r < T0N.x1 - f0N.x || Q0N - A0N.r > T0N.x1 + f0N.x){return null;}if(I0N + A0N.r < T0N.y1 - f0N.y || I0N - A0N.r > T0N.y1 + f0N.y){return null;}if(T0N.y0 < T0N.y1 && I0N - A0N.r > T0N.y1){return null;}if(T0N.y0 > T0N.y1 && I0N + A0N.r < T0N.y1){return null;}this.highlighted=! ![];return {action:X2v,p0:x1l.clone(this.p0),p1:x1l.clone(this.p1),tick:l0N,value:u0N};};x1l.Drawing.fibarc.prototype.render=function(W0N){var L0bh=T5VV;var H5v,b0N,g1N,O1N,Y0N,c1N,X0N,i1N,j1N,B1N,J1N,s5v,Y2v,e0N,o1N,U1N,n1N,G1N,p2v,p1N,K1N,Z0N,H1N,E1N,v5v,q1N,D1N;H5v="segme";H5v+="nt";b0N=this.stx.panels[this.panelName];if(!b0N){return;}g1N=b0N.yAxis;if(!this.p1){return;}O1N=this.stx.pixelFromTick(this.p0["0" ^ 0],b0N.chart);Y0N=this.stx.pixelFromTick(this.p1[0],b0N.chart);c1N=this.stx.pixelFromValueAdjusted(b0N,this.p0[+"0"],this.p0[1]);X0N=this.stx.pixelFromValueAdjusted(b0N,this.p1[+"0"],this.p1[1]);L0bh.N3mK(67);i1N=L0bh.E3mK(X0N,c1N);L0bh.N3mK(68);j1N=Math.abs(L0bh.e3mK(c1N,X0N,Y0N,O1N));L0bh.d7Kh();B1N=this.getLineColor(this.parameters.trend.color);W0N.textBaseline="middle";this.stx.canvasFont("stx_yaxis",W0N);J1N=this.color;if(J1N == "auto" || x1l.isTransparent(J1N)){J1N=this.stx.defaultColor;}for(var h1N=0;h1N < this.parameters.fibs.length;h1N++){s5v="a";s5v+="uto";Y2v="au";Y2v+="to";W0N.fillStyle=J1N;e0N=this.parameters.fibs[h1N];if(e0N.level < 0 || !e0N.display)continue;L0bh.i3mK(56);var A4uu=L0bh.e3mK(14,13,1);L0bh.i3mK(69);var W4uu=L0bh.e3mK(16,1,5,15,7);o1N=Math.abs(this.p1["1" ^ 0] - this.p0[A4uu]) * Math.sqrt(W4uu) * e0N.level;L0bh.N3mK(70);var g4uu=L0bh.e3mK(33,7,2,20);L0bh.i3mK(56);var T4uu=L0bh.E3mK(76,15,5);L0bh.i3mK(1);var J4uu=L0bh.e3mK(1,0);U1N=this.p1[g4uu] + o1N * (i1N?- +"1":T4uu) * (g1N.flipped?J4uu:+"1");n1N=this.stx.pixelFromValueAdjusted(b0N,this.p0[0],U1N);G1N=x1l.xIntersection({x0:O1N,x1:Y0N,y0:c1N,y1:X0N},n1N);if(this.parameters.printLevels){p2v="cen";p2v+="t";p2v+="er";W0N.textAlign=p2v;L0bh.N3mK(31);var Q4uu=L0bh.E3mK(1018,15,39,6);L0bh.N3mK(0);var R4uu=L0bh.E3mK(9,1);L0bh.i3mK(1);var l4uu=L0bh.E3mK(166402,175160);L0bh.N3mK(1);var r4uu=L0bh.e3mK(8,5678);L0bh.N3mK(71);var K4uu=L0bh.e3mK(2,17040,19,31912);L0bh.N3mK(7);var V4uu=L0bh.E3mK(135000,18,126018);p1N=Math.round(e0N.level * Q4uu) / R4uu + (l4uu == r4uu?508.23 > K4uu?"b":(V4uu,!{}):"%");if(this.parameters.printValues){W0N.fillStyle=J1N;this.stx.canvasFont("stx_yaxis",W0N);;}W0N.fillText(p1N,Y0N,Math.round(n1N - 5));}W0N.textAlign="left";if(this.parameters.printValues){if(G1N < b0N.width){K1N=U1N;if(g1N.priceFormatter){K1N=g1N.priceFormatter(this.stx,b0N,K1N);}else {K1N=this.stx.formatYAxisPrice(K1N,b0N);}if(W0N == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(b0N,K1N,n1N,J1N,null,W0N);if(W0N == this.stx.chart.context){this.stx.startClip(b0N.name);}}}Z0N=e0N.color;if(Z0N == Y2v || x1l.isTransparent(Z0N)){Z0N=this.color;}if(Z0N == s5v || x1l.isTransparent(Z0N)){Z0N=this.stx.defaultColor;}W0N.strokeStyle=this.highlight?B1N:Z0N;H1N=e0N.color;if(H1N == "auto" || x1l.isTransparent(H1N)){H1N=this.fillColor;}if(H1N == "auto" || x1l.isTransparent(H1N)){H1N=this.stx.defaultColor;}W0N.fillStyle=H1N;W0N.globalAlpha=this.highlighted?1:e0N.parameters.opacity;W0N.lineWidth=e0N.parameters.lineWidth;if(W0N.setLineDash){W0N.setLineDash(x1l.borderPatternToArray(W0N.lineWidth,e0N.parameters.pattern));W0N.lineDashOffset=0;;}W0N.save();W0N.beginPath();L0bh.i3mK(10);W0N.scale(L0bh.e3mK(1,j1N),1);L0bh.i3mK(5);W0N.arc(L0bh.e3mK(j1N,Y0N),X0N,Math.abs(n1N - X0N),0,Math.PI,!i1N);if(this.pattern != "none"){W0N.stroke();}W0N.globalAlpha=0.05;W0N.fill();W0N.restore();if(W0N.setLineDash){W0N.setLineDash([]);}W0N.globalAlpha=+"1";}W0N.textAlign="left";E1N=x1l.clone(this.parameters.trend.parameters);if(this.highlighted){E1N.opacity=+"1";}L0bh.i3mK(23);this.stx.plotLine(Y0N,L0bh.E3mK(2,Y0N,O1N),X0N,L0bh.E3mK(2,X0N,c1N),B1N,H5v,W0N,b0N,E1N);if(this.highlighted){v5v="p";v5v+="1";q1N=this.highlighted == "p0"?!0:!1;D1N=this.highlighted == v5v?! ![]:!{};this.littleCircle(W0N,O1N,c1N,q1N);this.littleCircle(W0N,Y0N,X0N,D1N);}};x1l.Drawing.fibfan=function(){this.name="fibfan";;};x1l.inheritsFrom(x1l.Drawing.fibfan,x1l.Drawing.fibonacci);T5VV.i3mK(15);x1l.Drawing.fibfan.prototype.recommendedLevels=[T5VV.e3mK(261169184,"0"),0.382,+"0.5",+"0.618",1];x1l.Drawing.fibfan.prototype.setOuter=function(){};x1l.Drawing.fibfan.prototype.render=function(k1N){var I0bh=T5VV;var U5v,S1N,I1N,t1N,V1N,v1N,P1N,u1N,r1N,d1N,Q1N,w1N,A1N,y1N,C1N,M1N,L5v,t5v,z1N,x1N,l1N,N1N,R1N,W1N,S5v,w5v,T1N,a1N,m1N,F1N,s1N,x5v,b1N,e1N;U5v="st";U5v+="x";U5v+="_yaxis";S1N=this.stx.panels[this.panelName];if(!S1N){return;}I1N=S1N.yAxis;if(!this.p1){return;}t1N=this.stx.pixelFromTick(this.p0[0],S1N.chart);V1N=this.stx.pixelFromTick(this.p1[0],S1N.chart);v1N=this.stx.pixelFromValueAdjusted(S1N,this.p0[0],this.p0[1]);P1N=this.stx.pixelFromValueAdjusted(S1N,this.p1[0],this.p1[1]);u1N=Math.min(P1N,v1N);r1N=Math.max(P1N,v1N);I0bh.N3mK(1);d1N=I0bh.e3mK(u1N,r1N);I0bh.N3mK(54);Q1N=I0bh.E3mK(v1N,V1N,0,P1N,t1N);w1N=this.getLineColor(this.parameters.trend.color);k1N.textBaseline="middle";this.stx.canvasFont(U5v,k1N);I0bh.N3mK(58);var O4uu=I0bh.e3mK(22,9,22);A1N=k1N.measureText("161.8%").width + O4uu;y1N=Number.MAX_VALUE;I0bh.i3mK(12);var a4uu=I0bh.E3mK(16,9,9,17);C1N=Number.MAX_VALUE * a4uu;M1N=this.color;if(M1N == "auto" || x1l.isTransparent(M1N)){M1N=this.stx.defaultColor;}this.rays=[];for(var f1N=0;f1N < this.parameters.fibs.length;f1N++){L5v="a";L5v+="u";L5v+="t";L5v+="o";t5v="au";t5v+="to";k1N.fillStyle=M1N;z1N=this.parameters.fibs[f1N];if(!z1N.display)continue;x1N=this.stx.pixelFromValueAdjusted(S1N,this.p0[0],(this.p0[+"1"] - this.p1[1]) * z1N.level + this.p1[1]);l1N=x1l.xIntersection({x0:V1N,x1:V1N,y0:v1N,y1:P1N},x1N);N1N=S1N.left;if(V1N > t1N){N1N+=S1N.width;}I0bh.i3mK(72);R1N=I0bh.e3mK(t1N,v1N,l1N,x1N,t1N,v1N,N1N);if(t1N > N1N - (this.parameters.printLevels?A1N + 5:0) && V1N > t1N)continue;else if(t1N < N1N + (this.parameters.printLevels?A1N + 5:0) && V1N < t1N)continue;if(this.parameters.printLevels){I0bh.i3mK(58);var u4uu=I0bh.e3mK(1002,499,2);I0bh.N3mK(1);var X4uu=I0bh.e3mK(4,14);I0bh.i3mK(73);var p4uu=I0bh.E3mK(14008,8,70040,4107);I0bh.i3mK(0);var Y4uu=I0bh.E3mK(4,1676);I0bh.N3mK(18);var s8uu=I0bh.E3mK(7,6544,6544,6546);I0bh.i3mK(74);var H8uu=I0bh.e3mK(7,5009,5,4999,4997);I0bh.N3mK(0);var v8uu=I0bh.E3mK(15,5170);I0bh.N3mK(75);var U8uu=I0bh.E3mK(4,1327,3,1);I0bh.i3mK(65);var S8uu=I0bh.e3mK(318,19,1269,337);W1N=Math.round(z1N.level * u4uu) / X4uu + (p4uu < +"107.95"?(Y4uu,s8uu) === (+"572.42",H8uu)?(v8uu,U8uu):S8uu:"%");if(V1N > t1N){S5v="l";S5v+="e";S5v+="f";S5v+="t";N1N-=A1N;k1N.textAlign=S5v;}else {N1N+=A1N;k1N.textAlign="right";}if(this.parameters.printValues){w5v="stx_y";w5v+="axi";w5v+="s";k1N.fillStyle=M1N;this.stx.canvasFont(w5v,k1N);;}I0bh.N3mK(72);R1N=I0bh.e3mK(t1N,v1N,l1N,x1N,t1N,v1N,N1N);k1N.fillText(W1N,N1N,R1N);if(V1N > t1N){N1N-=5;}else {N1N+=5;}}k1N.textAlign="left";if(this.parameters.printValues){if(l1N < S1N.width){T1N=this.stx.transformedPriceFromPixel(x1N,S1N);if(I1N.priceFormatter){T1N=I1N.priceFormatter(this.stx,S1N,T1N);}else {T1N=this.stx.formatYAxisPrice(T1N,S1N);}if(k1N == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(S1N,T1N,x1N,M1N,null,k1N);if(k1N == this.stx.chart.context){this.stx.startClip(S1N.name);}}}a1N=z1N.color;if(a1N == "auto" || x1l.isTransparent(a1N)){a1N=this.color;}if(a1N == t5v || x1l.isTransparent(a1N)){a1N=this.stx.defaultColor;}m1N=z1N.color;if(m1N == "auto" || x1l.isTransparent(m1N)){m1N=this.fillColor;}if(m1N == L5v || x1l.isTransparent(m1N)){m1N=this.stx.defaultColor;}k1N.fillStyle=m1N;if(this.parameters.printLevels){I0bh.i3mK(72);R1N=I0bh.e3mK(t1N,v1N,l1N,x1N,t1N,v1N,N1N);}F1N=x1l.clone(z1N.parameters);if(this.highlighted){F1N.opacity=+"1";}this.stx.plotLine(t1N,N1N,v1N,R1N,this.highlighted?w1N:a1N,"segment",k1N,S1N,F1N);this.rays.push([[t1N,v1N],[N1N,R1N]]);k1N.globalAlpha=0.05;k1N.beginPath();k1N.moveTo(N1N,R1N);k1N.lineTo(t1N,v1N);k1N.lineTo(N1N,v1N);k1N.fill();k1N.globalAlpha=1;if(x1N < y1N){y1N=x1N;}if(x1N > C1N){C1N=x1N;}}for(var L1N="0" - 0;L1N <= 1;L1N++){s1N=Q1N?r1N - d1N * L1N:u1N + d1N * L1N;s1N=Math.round(s1N);if(s1N < y1N){y1N=s1N;}if(s1N > C1N){C1N=s1N;}}if(this.highlighted){x5v="p";x5v+="0";b1N=this.highlighted == x5v?! !1:! !"";e1N=this.highlighted == "p1"?! ![]:!1;this.littleCircle(k1N,t1N,v1N,b1N);this.littleCircle(k1N,V1N,P1N,e1N);}};x1l.Drawing.fibtimezone=function(){this.name="fibtimezone";T5VV.d7Kh();;};x1l.inheritsFrom(x1l.Drawing.fibtimezone,x1l.Drawing.fibonacci);x1l.Drawing.fibtimezone.prototype.render=function(X1N){var c0bh=T5VV;var M5v,e5v,o5v,j5v,Y1N,Z1N,K2N,j2N,B2N,h2N,U2N,p2N,E2N,g2N,H2N,o2N,O2N,n2N,J2N,c2N,i2N,N5v,q2N,D2N,G2N;M5v="c";M5v+="enter";e5v="a";e5v+="ut";e5v+="o";o5v="st";o5v+="x_y";o5v+="ax";o5v+="is";j5v="midd";j5v+="l";j5v+="e";Y1N=this.stx.panels[this.panelName];if(!Y1N){return;}if(!this.p1){return;}Z1N=this.stx.pixelFromTick(this.p0[+"0"],Y1N.chart);K2N=this.stx.pixelFromTick(this.p1[+"0"],Y1N.chart);j2N=this.stx.pixelFromValueAdjusted(Y1N,this.p0[0],this.p0["1" | 1]);B2N=this.stx.pixelFromValueAdjusted(Y1N,this.p1["0" | 0],this.p1[1]);c0bh.N3mK(1);h2N=[1,c0bh.E3mK(0,"0")];U2N=this.getLineColor(this.parameters.trend.color);X1N.textBaseline=j5v;this.stx.canvasFont(o5v,X1N);p2N=20;E2N=this.p1[0] - this.p0[0];g2N=this.color;if(g2N == e5v || x1l.isTransparent(g2N)){g2N=this.stx.defaultColor;}X1N.textAlign=M5v;H2N=Z1N;o2N=Y1N.yAxis.top;O2N=Y1N.yAxis.bottom;n2N=0;J2N=this.parameters.timezone.color;if(J2N == "auto" || x1l.isTransparent(J2N)){J2N=this.color;}if(J2N == "auto" || x1l.isTransparent(J2N)){J2N=this.stx.defaultColor;}c2N=this.parameters.timezone.color;if(c2N == "auto" || x1l.isTransparent(c2N)){c2N=this.fillColor;}if(c2N == "auto" || x1l.isTransparent(c2N)){c2N=this.stx.defaultColor;}if(this.parameters.printLevels){c0bh.N3mK(76);O2N-=c0bh.E3mK("7",p2N);}i2N=x1l.clone(this.parameters.timezone.parameters);if(this.highlighted){i2N.opacity=1;}do {N5v="segm";N5v+="ent";H2N=this.stx.pixelFromTick(this.p0[0] + n2N * E2N,Y1N.chart);if(Z1N < K2N && H2N > Y1N.left + Y1N.width)break;else if(Z1N > K2N && H2N < Y1N.left)break;if(this.parameters.printLevels){X1N.fillStyle=g2N;X1N.fillText(K2N > Z1N?n2N:n2N * -("1" ^ 0),H2N,O2N + 7);}X1N.fillStyle=c2N;this.stx.plotLine(H2N,H2N,0,O2N,this.highlighted?U2N:J2N,N5v,X1N,Y1N,i2N);X1N.globalAlpha=0.05;X1N.beginPath();X1N.moveTo(Z1N,o2N);X1N.lineTo(H2N,o2N);X1N.lineTo(H2N,O2N);X1N.lineTo(Z1N,O2N);X1N.fill();X1N.globalAlpha=+"1";c0bh.N3mK(2);var w8uu=c0bh.e3mK(0,3,4);n2N=h2N[0] + h2N[w8uu];h2N.unshift(n2N);}while(E2N);X1N.textAlign="left";this.stx.plotLine(Z1N,K2N,j2N,B2N,U2N,"segment",X1N,Y1N,i2N);if(this.highlighted){q2N=this.highlighted == "p0"?!0:!1;D2N=this.highlighted == "p1"?! !1:!{};this.littleCircle(X1N,Z1N,j2N,q2N);this.littleCircle(X1N,K2N,B2N,D2N);}else {G2N=this.stx.valueFromPixel(Y1N.height / 2,Y1N);this.setPoint(0,this.p0[0],G2N,Y1N.chart);this.setPoint(1,this.p1["0" * 1],G2N,Y1N.chart);}};x1l.Drawing.fibtimezone.prototype.intersected=function(x2N,V2N,S2N){var k2N,v2N,a2N,N2N,m2N;k2N=this.p0;v2N=this.p1;a2N=this.stx.panels[this.panelName];if(!k2N || !v2N || !a2N){return null;}N2N={0:k2N,1:v2N};for(var t2N in N2N){if(this.pointIntersection(N2N[t2N][0],N2N[t2N][1],S2N)){T5VV.N3mK(0);this.highlighted=T5VV.e3mK(t2N,(2528,"4940" - 0) > (8430,+"675")?"p":(5.14e+3,! ![]));return {action:"drag",point:(5177 < (207.97,6458)?"p":(0x356,8.12e+3)) + t2N};}}m2N=this.lineIntersection(x2N,V2N,S2N,"segment");if(m2N || S2N.x0 <= this.p0[0] && S2N.x1 >= k2N[+"0"]){this.highlighted=! ![];return {action:"move",p0:x1l.clone(k2N),p1:x1l.clone(v2N),tick:x2N,value:V2N};}return null;};x1l.Drawing.arrow_v0=function(){var z0bh=T5VV;var A9v,W9v,g9v;this.name="arrow";this.dimension=[11,11];A9v=+"1747346774";W9v=-1075955818;g9v=2;for(var J9v=1;z0bh.s1v(J9v.toString(),J9v.toString().length,"31379" & 2147483647) !== A9v;J9v++){z0bh.i3mK(1);this.points=[[9546 !== 2926?![]:"M",+"7",+"9",("4972" ^ 0) > 5178?"M":!{},+"5",5,(2706,"1454" - 0) >= (7177,652738)?(0x22bd,"M"):"L",9,2,"j",48,8,2282 < (432445,950233)?"L":(0,1195) > (505810,534)?"j":(!1,0xd554),8,89,"L",1,7,(1403,9760) != 284397?("60011" - 0,0x2549):(+"2698",+"664019") > +"961466"?3120 !== 335?651464:"M":("L","504030" << 1408662816),9,z0bh.e3mK(0,"2"),1321 == (669094,1072)?0x358a:(554320,5278) === (1180,7053)?"M":8599 > (667,+"5718")?! !"":(0x4eea,!{}),5,3]];g9v+=2;}if(z0bh.Y6v(g9v.toString(),g9v.toString().length,30569) !== W9v){z0bh.N3mK(22);this.points=[[5199 == 8600?! !1:"M",3,0,2133 >= 2081?"L":!0,7,0,(8642,2950) <= (4659,613.54)?(0x15f9,"u"):"L",7,5,"L",+"10",+"5",7.17 <= (603.87,356.24)?"L":(3,2480) >= (137.31,566)?"e":(! ![],+"0x20a7"),5,+"10","L",z0bh.E3mK("0",0),5,(7060,6250) == "457.27" * 1?("95.64" * 1,0x1082):("4787" - 0,857.65) >= "635.93" * 1?9770 == 269?119.79:"L":("j",150.45),3,5,1644 === (648.12,3010)?0x19ec:(991.39,6130) !== (7790,1390)?"L":5290 >= (209,9050)?! ![]:(0x136b,! ![]),3,0]];}};x1l.inheritsFrom(x1l.Drawing.arrow_v0,x1l.Drawing.shape);x1l.Drawing.xcross=function(){var C0bh=T5VV;this.name="xcross";this.dimension=[+"7",7];C0bh.i3mK(4);this.points=[["M",1,C0bh.E3mK("0",2147483647),6219 != (4340,+"4469")?"L":(8.53e+3,0x1556),3,2,("4360" | 4360) !== (1216,6012)?"L":"n",5,0,"L",6,1,(313,733) < 9495?"L":(350.93,0x1973),4,C0bh.e3mK("3",3,C0bh.i3mK(22)),3750 > "7090" << 632442912?5903 < ("492" ^ 0)?! !"":(4520,"368.74" - 0) !== (806,7799)?(9.54e+3,+"0x73f"):2.50e+3:"L",+"6",5,(554,7390) <= (382.53,882.24)?(8.97e+3,317.47):8860 >= 250.96?("988.25" - 0,754.51) >= ("899.63" - 0,3800)?("O","j"):"L":6.92e+3,5,+"6","L",3,4,"L",1,C0bh.e3mK(1,"6",C0bh.i3mK(5)),(2610,4650) !== "6351" - 0?"L":"p",0,5,"L",2,3,"L",0,+"1","L",C0bh.E3mK("1",2147483647,C0bh.N3mK(4)),0]];;};x1l.inheritsFrom(x1l.Drawing.xcross,x1l.Drawing.shape);x1l.Drawing.check=function(){var w0bh=T5VV;this.name="check";this.dimension=[8,9];w0bh.d7Kh();w0bh.N3mK(53);this.points=[[7130 >= 1890?("9910" * 1,6965) < 791.85?(! !{},80.88):"M":(! ![],"133.54" - 0),1,5,(1310,"394.12" - 0) <= 451?"L":942.33 !== ("1282" | 1280,369.07)?(3549,4980) !== ("878.31" - 0,9370)?"a":![]:(!{},"o"),w0bh.e3mK("0",640540736),w0bh.e3mK(1,"6",w0bh.i3mK(5)),"L",2,8,"L",w0bh.E3mK("7",0,w0bh.N3mK(26)),1,(+"706",5890) != 1240?(+"83.18",+"927") === 1660?("7.73e+3" & 2147483647,! !"1"):9758 === (237.78,+"349.5")?(0xba5,"d"):"L":317.24,6,0,(6677,"6510" >> 1806921984) != (4201,+"301.12")?3218 <= ("455.18" * 1,1080)?(3020,6320) > (3626,"1868" ^ 0)?0x17e8:(! !"",0x1ba5):"L":(! ![],"t"),w0bh.e3mK(0,"2",w0bh.N3mK(1)),6,+"940.08" == (9830,964)?(185,! !""):"L",1,w0bh.e3mK("5",2147483647,w0bh.N3mK(4))]];;};x1l.inheritsFrom(x1l.Drawing.check,x1l.Drawing.shape);x1l.Drawing.star=function(){var S0bh=T5VV;this.name="star";S0bh.k7Kh();this.dimension=[+"12",12];S0bh.N3mK(1);this.points=[[(54.63,2868) === 9770?(! !{},9.04e+3):236.01 === (8347,"3091" & 2147483647)?(+"8350",6057) == +"121.89"?+"897.30":("N",0xa76):"M",0,+"4","3458" * 1 !== (5226,7670)?(700.45,+"4480") == 180.15?2.71e+3:"L":! ![],S0bh.e3mK(0,"4"),S0bh.E3mK("4",249449280,S0bh.i3mK(53)),239.22 !== (7757,2900)?(19.49,4540) >= 587?"L":!"":(7.53e+3,3.45e+3),5.5,0,"L",7,4,(3152,+"499.85") != (847.51,389.14)?127 == 862?0xb53:(+"892.91",7126) != (5936,238.48)?"L":(0x238f,"769.37" * 1):5.91e+3,11,4,"L",+"8",7,1850 !== (+"9340",9790)?"L":"N",9,11,(3160,8097) == ("1435" & 2147483647)?6.34e+3:"L",5.5,9,(8850,"4789" ^ 0) < "3085" - 0?"478.85" - 0 >= 944.14?"x":("R","0x16ac" >> 1075410400):"L",2,11,"L",3,7,"L",0,4]];;};x1l.inheritsFrom(x1l.Drawing.star,x1l.Drawing.shape);x1l.Drawing.heart=function(){var y0bh=T5VV;var I5v;I5v="he";I5v+="a";I5v+="r";I5v+="t";this.name=I5v;this.dimension=[23,20];y0bh.i3mK(22);y0bh.k7Kh();this.points=[[(+"6.06",661.38) != 5330?(7145,8160) > (+"9080",9712)?![]:"M":(+"7.64e+3","101.55" - 0),11,3,1042 < (7370,646.14)?("E",867.72):+"989" >= 9370?"176" << 837496224 > 3384?"948.91" - 0:("I","D"):"B",11,2.4,10,0,6,+"0",(375,"6690" * 1) != 4164?"B":(134,947) === (8446,317.14)?(0x268f,0x433):671.15,0,0,0,7.5,0,+"7.5","B",y0bh.e3mK("0",0),11,4,y0bh.e3mK(0,"15.4",y0bh.N3mK(1)),11,19,"B",18,15.4,+"22",11,22,7.5,"B",22,y0bh.E3mK(0,"7.5",y0bh.i3mK(1)),22,0,16,+"0","B",13,0,11,2.4,11,3]];;};x1l.inheritsFrom(x1l.Drawing.heart,x1l.Drawing.shape);x1l.Drawing.focusarrow=function(){var j0bh=T5VV;j0bh.d7Kh();this.name="focusarrow";this.dimension=[7,5];j0bh.i3mK(4);this.points=[[112.36 >= 784.36?("g",! !1):1580 != (660.4,+"289")?"M":6205 > 709.59?("T","D"):("f",8.37e+3),0,j0bh.e3mK("0",2147483647),"L",2,2,(2973,489) <= (+"5009",1930)?"L":(3480,"5041" - 0) < (9182,5085)?8384 != (823,5625)?! !"1":(0xa97,+"682.27"):(!1,!1),0,4,2960 > 972.18?"L":(2.33e+3,4.69e+3),0,0],["M",6,0,(7608,637.01) <= 4070?(1036,409.77) != ("597.25" * 1,5100)?"L":7.53e+3:4.75e+3,4,2,"L",j0bh.E3mK(1528242624,"6",j0bh.N3mK(15)),+"4","L",6,0]];;};x1l.inheritsFrom(x1l.Drawing.focusarrow,x1l.Drawing.shape);x1l.Drawing.crossline=function(){this.name="crossline";};x1l.inheritsFrom(x1l.Drawing.crossline,x1l.Drawing.horizontal);x1l.extend(x1l.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(M2N,z2N){T5VV.d7Kh();return ![];},adjust:function(){var R2N;R2N=this.stx.panels[this.panelName];if(!R2N){return;}T5VV.k7Kh();T5VV.i3mK(15);this.setPoint(T5VV.e3mK(130656192,"0"),this.d0,this.v0,R2N.chart);this.p1=x1l.clone(this.p0);},intersected:function(P2N,T2N,A2N){var s2N,Z5v;if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;s2N=this.lineIntersection(P2N,T2N,A2N,"line");this.p1=x1l.clone(this.p0);if(!s2N){Z5v="li";Z5v+="n";Z5v+="e";this.p1[1]+=1;s2N=this.lineIntersection(P2N,T2N,A2N,Z5v);this.p1=x1l.clone(this.p0);if(!s2N){return null;}}this.highlighted=! !"1";T5VV.d7Kh();if(this.pointIntersection(this.p0[0],this.p0[1],A2N)){this.highlighted="p0";}return {action:"move",p0:x1l.clone(this.p0),p1:x1l.clone(this.p1),tick:P2N,value:T2N};},render:function(F2N){var J0bh=T5VV;var F5v,i5v,y2N,L2N,f2N,u2N,Q2N,l2N,k7v,C7v,A7v,C2N,I2N,w2N,r2N,d2N,W2N;F5v="verti";F5v+="cal";i5v="ho";i5v+="riz";i5v+="ont";i5v+="al";y2N=this.stx.panels[this.panelName];if(!y2N){return;}L2N=this.stx.pixelFromTick(this.p0["0" - 0],y2N.chart);f2N=this.stx.pixelFromValueAdjusted(y2N,this.p0[0],this.p0[1]);J0bh.k7Kh();u2N=this.getLineColor();Q2N={pattern:this.pattern,lineWidth:this.lineWidth};J0bh.N3mK(77);this.stx.plotLine(L2N,J0bh.e3mK(0,"100",L2N),f2N,f2N,u2N,i5v,F2N,y2N,Q2N);J0bh.i3mK(0);this.stx.plotLine(L2N,L2N,f2N,J0bh.e3mK(100,f2N),u2N,F5v,F2N,y2N,Q2N);if(this.axisLabel && !this.repositioner){this.stx.endClip();l2N=this.p0[1];if(y2N.chart.transformFunc){l2N=y2N.chart.transformFunc(this.stx,y2N.chart,l2N);}if(y2N.yAxis.priceFormatter){l2N=y2N.yAxis.priceFormatter(this.stx,y2N,l2N);}else {l2N=this.stx.formatYAxisPrice(l2N,y2N);}this.stx.createYAxisLabel(y2N,l2N,f2N,u2N);k7v=-1886380891;C7v=-731769199;A7v=2;for(var g7v=1;J0bh.Y6v(g7v.toString(),g7v.toString().length,44933) !== k7v;g7v++){this.stx.startClip(y2N.name);A7v+=2;}if(J0bh.s1v(A7v.toString(),A7v.toString().length,94899) !== C7v){this.stx.startClip(y2N.name);}if(this.p0[+"0"] >= 0 && !this.stx.chart.xAxis.noDraw){C2N=this.stx.dateFromTick(this.p0["0" << 719248640],y2N.chart,! !"1");if(!x1l.ChartEngine.isDailyInterval(this.stx.layout.interval)){J0bh.i3mK(78);var t8uu=J0bh.e3mK(100,25,976,6);w2N=C2N.getSeconds() * t8uu + C2N.getMilliseconds();if(V1l.Date && this.stx.displayZone){I2N=new V1l.Date(C2N.getTime(),this.stx.displayZone);C2N=new Date(I2N.getFullYear(),I2N.getMonth(),I2N.getDate(),I2N.getHours(),I2N.getMinutes());C2N=new Date(C2N.getTime() + w2N);}}else {C2N.setHours(0,0,0,0);}r2N=x1l.mmddhhmm(x1l.yyyymmddhhmm(C2N));if(y2N.chart.xAxis.formatter){r2N=y2N.chart.xAxis.formatter(C2N,this.name,null,null,r2N);}else if(this.stx.internationalizer){if(C2N.getHours() !== 0 || C2N.getMinutes() !== 0){d2N=this.stx.internationalizer.monthDay.format(C2N);J0bh.i3mK(79);var L8uu=J0bh.e3mK(18,12,12,15906,7995);J0bh.N3mK(23);var x8uu=J0bh.e3mK(529,4231,19);J0bh.i3mK(80);var j8uu=J0bh.e3mK(14,2,73080,5216,10440);J0bh.N3mK(18);var o8uu=J0bh.E3mK(4,11508,57540,9589);J0bh.N3mK(23);var e8uu=J0bh.E3mK(6431,77159,13);d2N+=((L8uu,98.12) <= (114.15,919.6)?(x8uu,j8uu) === (o8uu,+"6616")?(! !"1",!0):e8uu != +"4606"?" ":(182.34,+"0x2a8"):(+"0xfb7","i")) + this.stx.internationalizer.hourMinute.format(C2N);}else {d2N=this.stx.internationalizer.yearMonthDay.format(C2N);}r2N=d2N;}this.stx.endClip();this.stx.createXAxisLabel({panel:y2N,txt:r2N,x:L2N,backgroundColor:u2N,color:null,pointed:! ![],padding:2});this.stx.startClip(y2N.name);}}if(this.highlighted){W2N=this.highlighted == "p0"?! !"1":!"1";this.littleCircle(F2N,L2N,f2N,W2N);}}},!0);x1l.Drawing.speedarc=function(){this.name="speedarc";T5VV.d7Kh();this.printLevels=! ![];};x1l.inheritsFrom(x1l.Drawing.speedarc,x1l.Drawing.segment);x1l.extend(x1l.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){var w9v,t9v,L9v;this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;w9v=-1464635093;t9v=-1756884491;L9v=2;for(var j9v=1;T5VV.s1v(j9v.toString(),j9v.toString().length,13205) !== w9v;j9v++){this.pattern=this.stx.currentVectorParameters.pattern;L9v+=2;}if(T5VV.s1v(L9v.toString(),L9v.toString().length,+"32119") !== t9v){this.pattern=this.stx.currentVectorParameters.pattern;}this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(b2N,e2N,K3N){var n5v,Y2N,O3N,Z2N,H3N,J3N,c3N;n5v="m";n5v+="o";n5v+="v";n5v+="e";if(!this.p0 || !this.p1){return null;}Y2N={0:this.p0,1:this.p1};for(var X2N in Y2N){if(this.pointIntersection(Y2N[X2N]["0" - 0],Y2N[X2N][+"1"],K3N)){T5VV.i3mK(0);this.highlighted=T5VV.E3mK(X2N,"p");return {action:"drag",point:((473.3,395.52) < 6460?"p":("R",285.88)) + X2N};}}O3N=this.lineIntersection(b2N,e2N,K3N,this.name);if(O3N){this.highlighted=! !{};return {action:"move",p0:x1l.clone(this.p0),p1:x1l.clone(this.p1),tick:b2N,value:e2N};}Z2N=this.p1[0] - (this.p0[0] - this.p1[0]);H3N=this.p0[0];J3N=this.p1[1];c3N=this.p0[1];if(b2N > Math.max(Z2N,H3N) || b2N < Math.min(Z2N,H3N)){return null;}if(e2N > Math.max(c3N,J3N) || e2N < Math.min(c3N,J3N)){return null;}this.highlighted=! !{};return {action:n5v,p0:x1l.clone(this.p0),p1:x1l.clone(this.p1),tick:b2N,value:e2N};},render:function(n3N){var B0bh=T5VV;var g3N,E3N,i3N,B3N,h3N,G3N,p3N,o3N,j3N,c5v,D3N,k3N,q3N,q5v,d5v,t3N,S3N,b5v,v3N,N3N;g3N=this.stx.panels[this.panelName];if(!g3N){return;}if(!this.p1){return;}E3N=this.stx.pixelFromTick(this.p0[0],g3N.chart);i3N=this.stx.pixelFromTick(this.p1[0],g3N.chart);B3N=this.stx.pixelFromValueAdjusted(g3N,this.p0[0],this.p0["1" - 0]);h3N=this.stx.pixelFromValueAdjusted(g3N,this.p1[0],this.p1["1" - 0]);B0bh.i3mK(67);G3N=B0bh.e3mK(h3N,B3N);B0bh.N3mK(68);p3N=Math.abs(B0bh.e3mK(B3N,h3N,i3N,E3N));o3N=this.getLineColor();n3N.strokeStyle=o3N;j3N=this.fillColor;if(j3N == "auto" || x1l.isTransparent(j3N)){j3N=this.stx.defaultColor;}n3N.fillStyle=j3N;if(n3N.setLineDash){n3N.setLineDash(x1l.borderPatternToArray(this.lineWidth,this.pattern));n3N.lineDashOffset=+"0";;}this.stx.canvasFont("stx_yaxis",n3N);for(var U3N=1;U3N < 3;U3N++){c5v="n";c5v+="o";c5v+="n";c5v+="e";B0bh.N3mK(0);var M8uu=B0bh.E3mK(1,0);B0bh.i3mK(16);var N8uu=B0bh.e3mK(8,7);B0bh.i3mK(81);var I8uu=B0bh.E3mK(15,11,19,17,4);B0bh.i3mK(2);var Z8uu=B0bh.e3mK(7,14,10);D3N=Math.abs(this.p1[M8uu] - this.p0[N8uu]) * Math.sqrt(I8uu) * U3N / Z8uu;B0bh.N3mK(1);var i8uu=B0bh.e3mK(17,18);B0bh.i3mK(1);var F8uu=B0bh.e3mK(1,0);B0bh.i3mK(16);var n8uu=B0bh.e3mK(6,5);k3N=this.p1[i8uu] + D3N * (G3N?- +"1":+"1") * (g3N.yAxis.flipped?F8uu:n8uu);q3N=this.stx.pixelFromValueAdjusted(g3N,this.p0["0" & 2147483647],k3N);n3N.save();n3N.beginPath();B0bh.i3mK(10);n3N.scale(B0bh.e3mK(1,p3N),1);B0bh.i3mK(5);n3N.arc(B0bh.e3mK(p3N,i3N),h3N,Math.abs(q3N - h3N),0,Math.PI,!G3N);n3N.globalAlpha=this.highlighted?+"1":this.defaultOpacity;if(this.pattern != c5v){n3N.stroke();}n3N.globalAlpha=0.1;n3N.fill();n3N.restore();n3N.globalAlpha=1;if(this.printLevels){q5v="/";q5v+="3";d5v="cen";d5v+="ter";n3N.fillStyle=o3N;n3N.textAlign=d5v;B0bh.N3mK(0);t3N=B0bh.E3mK(q5v,U3N);n3N.fillText(t3N,i3N,Math.round(q3N - 5));n3N.fillStyle=j3N;}}n3N.textAlign="left";S3N={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(E3N,i3N,B3N,h3N,o3N,"segment",n3N,g3N,S3N);if(n3N.setLineDash){n3N.setLineDash([]);}if(this.highlighted){b5v="p";b5v+="1";v3N=this.highlighted == "p0"?! ![]:!{};N3N=this.highlighted == b5v?! !1:! !0;this.littleCircle(n3N,E3N,B3N,v3N);this.littleCircle(n3N,i3N,h3N,N3N);}},reconstruct:function(V3N,x3N){this.stx=V3N;this.color=x3N.col;this.fillColor=x3N.fc;this.panelName=x3N.pnl;this.pattern=x3N.ptrn;this.lineWidth=x3N.lw;this.d0=x3N.d0;this.d1=x3N.d1;this.tzo0=x3N.tzo0;this.tzo1=x3N.tzo1;this.v0=x3N.v0;this.v1=x3N.v1;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! !{});x1l.Drawing.speedline=function(){this.name="speedline";T5VV.k7Kh();this.printLevels=!0;};x1l.inheritsFrom(x1l.Drawing.speedline,x1l.Drawing.speedarc);x1l.extend(x1l.Drawing.speedline.prototype,{intersected:function(P3N,T3N,A3N){var M3N,z3N,R3N,s3N,h5v;M3N=this.p0;z3N=this.p1;if(!M3N || !z3N){return null;}R3N={0:M3N,1:z3N};for(var a3N in R3N){if(this.pointIntersection(R3N[a3N][0],R3N[a3N][+"1"],A3N)){T5VV.i3mK(0);this.highlighted=T5VV.E3mK(a3N,683 !== (1560,413)?(1460,2970) > 39.54?"p":89.23 === (577.12,208)?!{}:0x471:("K",! !{}));return {action:"drag",point:"p" + a3N};}}s3N=this.rays;T5VV.d7Kh();for(var m3N=0;m3N < s3N.length;m3N++){if(this.lineIntersection(P3N,T3N,A3N,"ray",s3N[m3N]["0" & 2147483647],s3N[m3N][1],!0)){h5v="m";h5v+="o";h5v+="v";h5v+="e";this.highlighted=! ![];return {action:h5v,p0:x1l.clone(M3N),p1:x1l.clone(z3N),tick:P3N,value:T3N};}}return null;},render:function(y3N){var p1bh=T5VV;var E5v,z5v,I3N,C3N,L3N,l3N,u3N,J4N,F3N,w3N,c4N,K4N,O4N,Z3N,H4N,f3N,r3N,Q3N,e3N,d3N,b3N,X3N,Y3N,B5v,G5v,m5v,n4N,g4N,S0v,w0v,t0v;E5v="a";E5v+="ut";E5v+="o";z5v="s";z5v+="t";z5v+="x_ya";z5v+="xis";I3N=this.stx.panels[this.panelName];if(!I3N){return;}if(!this.p1){return;}C3N=this.stx.pixelFromTick(this.p0[0],I3N.chart);L3N=this.stx.pixelFromTick(this.p1["0" ^ 0],I3N.chart);l3N=this.stx.pixelFromValueAdjusted(I3N,this.p0[0],this.p0[1]);u3N=this.stx.pixelFromValueAdjusted(I3N,this.p1[0],this.p1[1]);this.stx.canvasFont(z5v,y3N);J4N=this.getLineColor();F3N=this.color;if(F3N == "auto" || x1l.isTransparent(F3N)){F3N=this.stx.defaultColor;}y3N.strokeStyle=F3N;w3N=this.fillColor;if(w3N == E5v || x1l.isTransparent(w3N)){w3N=this.stx.defaultColor;}y3N.fillStyle=w3N;c4N={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};Z3N=[(4434,193.41) !== (4249,334.78)?"1":(340.18,!"1"),"2/3","1/3","3/2","3"];p1bh.i3mK(82);H4N=[1,p1bh.e3mK("2",3),p1bh.E3mK("3",1,p1bh.i3mK(83)),p1bh.E3mK(0,"2",3,p1bh.N3mK(84)),3];f3N=[];this.rays=[];for(var W3N=+"0";W3N < H4N.length;W3N++){r3N=H4N[W3N];if(r3N > 1 && !this.extension)continue;Q3N=this.stx.pixelFromValueAdjusted(I3N,this.p0["0" << 1752325568],this.p0[+"1"] - (this.p0[1] - this.p1[1]) * r3N);if(r3N > +"1"){e3N=x1l.xIntersection({x0:C3N,x1:L3N,y0:l3N,y1:Q3N},u3N);f3N.push(e3N);}else {e3N=x1l.xIntersection({x0:L3N,x1:L3N,y0:l3N,y1:u3N},Q3N);f3N.push(Q3N);}d3N=r3N > 1?e3N:L3N;b3N=r3N > 1?u3N:Q3N;if(!this.confineToGrid){d3N=I3N.left;if(L3N > C3N){d3N+=I3N.width;}p1bh.N3mK(72);b3N=p1bh.e3mK(C3N,l3N,L3N,Q3N,C3N,l3N,d3N);}if(this.printLevels){if(r3N != 1 || this.extension){y3N.fillStyle=F3N;X3N=0;Y3N=0;if(l3N > u3N){p1bh.N3mK(22);Y3N=-p1bh.E3mK("5",0);y3N.textBaseline="bottom";}else {B5v="t";B5v+="op";Y3N=5;y3N.textBaseline=B5v;}if(C3N > L3N){G5v="r";G5v+="ig";G5v+="ht";X3N=5;y3N.textAlign=G5v;}else {m5v="l";m5v+="e";m5v+="ft";X3N=-5;y3N.textAlign=m5v;}if(r3N > +"1"){y3N.fillText(Z3N[W3N],e3N + (this.confineToGrid?0:X3N),u3N);}else {y3N.fillText(Z3N[W3N],L3N,Q3N + (this.confineToGrid?0:Y3N));}y3N.fillStyle=w3N;}}this.stx.plotLine(C3N,d3N,l3N,b3N,this.highlighted?J4N:F3N,"segment",y3N,I3N,c4N);if(r3N == 1){K4N=d3N;O4N=b3N;}this.rays.push([[C3N,l3N],[d3N,b3N]]);y3N.globalAlpha=0.1;y3N.beginPath();y3N.moveTo(d3N,b3N);y3N.lineTo(C3N,l3N);y3N.lineTo(K4N,O4N);y3N.fill();y3N.globalAlpha=1;}y3N.textAlign="left";y3N.textBaseline="middle";if(this.confineToGrid){y3N.globalAlpha=+"0.3";y3N.beginPath();p1bh.i3mK(1);y3N.strokeRect(C3N,l3N,p1bh.e3mK(C3N,L3N),p1bh.E3mK(l3N,u3N));y3N.moveTo(C3N,f3N[1]);y3N.lineTo(L3N,f3N["1" * 1]);y3N.moveTo(C3N,f3N[2]);y3N.lineTo(L3N,f3N[2]);if(this.extension){y3N.moveTo(f3N[3],l3N);y3N.lineTo(f3N["3" >> 809364448],u3N);y3N.moveTo(f3N["4" * 1],l3N);y3N.lineTo(f3N[4],u3N);}y3N.stroke();y3N.globalAlpha=1;}if(this.highlighted){n4N=this.highlighted == "p0"?! ![]:![];g4N=this.highlighted == "p1"?! !"1":!1;S0v=1538497037;w0v=731253460;t0v=2;for(var x0v=1;p1bh.Y6v(x0v.toString(),x0v.toString().length,48399) !== S0v;x0v++){this.littleCircle(y3N,C3N,l3N,n4N);this.littleCircle(y3N,L3N,u3N,g4N);t0v+=2;}if(p1bh.s1v(t0v.toString(),t0v.toString().length,16147) !== w0v){this.littleCircle(y3N,C3N,l3N,n4N);this.littleCircle(y3N,L3N,u3N,g4N);}}}},!"");x1l.Drawing.gannfan=function(){this.name="gannfan";T5VV.d7Kh();this.printLevels=! !{};};x1l.inheritsFrom(x1l.Drawing.gannfan,x1l.Drawing.speedline);x1l.extend(x1l.Drawing.gannfan.prototype,{render:function(h4N){var d1bh=T5VV;var k5v,P5v,B4N,i4N,U4N,j4N,q4N,x4N,E4N,p4N,V4N,a4N,m4N,v4N,z0v,E0v,B0v,o4N,M4N,N4N,G4N,D4N,t4N,S4N,f5v,D5v,y5v,C5v,z4N,R4N;k5v="midd";k5v+="l";k5v+="e";P5v="st";P5v+="x";P5v+="_";P5v+="yaxis";B4N=this.stx.panels[this.panelName];if(!B4N){return;}if(!this.p1){return;}i4N=this.stx.pixelFromTick(this.p0[0],B4N.chart);U4N=this.stx.pixelFromTick(this.p1[0],B4N.chart);j4N=this.stx.pixelFromValueAdjusted(B4N,this.p0[0],this.p0[+"1"]);q4N=this.stx.pixelFromValueAdjusted(B4N,this.p1[0],this.p1[1]);this.stx.canvasFont(P5v,h4N);x4N=this.getLineColor();E4N=this.color;if(E4N == "auto" || x1l.isTransparent(E4N)){E4N=this.stx.defaultColor;}h4N.strokeStyle=E4N;p4N=this.fillColor;if(p4N == "auto" || x1l.isTransparent(p4N)){p4N=this.stx.defaultColor;}h4N.fillStyle=p4N;V4N={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};d1bh.i3mK(15);v4N=[1,d1bh.E3mK(855491104,"2"),3,+"4",8,d1bh.e3mK(1,2,d1bh.N3mK(10)),d1bh.E3mK(1,3,d1bh.i3mK(10)),d1bh.e3mK(1,4,d1bh.N3mK(10)),d1bh.E3mK(1,8,d1bh.i3mK(10))];z0v=-427332727;d1bh.N3mK(15);E0v=d1bh.E3mK(57454752,"71906681");d1bh.N3mK(22);B0v=d1bh.E3mK("2",2);for(var m0v=1;d1bh.s1v(m0v.toString(),m0v.toString().length,79177) !== z0v;m0v++){this.rays=[];B0v+=2;}if(d1bh.s1v(B0v.toString(),B0v.toString().length,28942) !== E0v){this.rays=[];}for(var k4N=0;k4N < v4N.length;k4N++){o4N=v4N[k4N];d1bh.i3mK(85);M4N=d1bh.E3mK(U4N,i4N,i4N,o4N);d1bh.i3mK(86);N4N=d1bh.E3mK(o4N,j4N,q4N,j4N);G4N=B4N.left;if(U4N > i4N){G4N+=B4N.width;}d1bh.N3mK(72);D4N=d1bh.e3mK(i4N,j4N,U4N,N4N,i4N,j4N,G4N);if(this.printLevels){h4N.fillStyle=E4N;t4N=0;S4N=0;if(j4N > q4N){S4N=5;h4N.textBaseline="top";}else {S4N=-5;h4N.textBaseline="bottom";}if(i4N > U4N){d1bh.i3mK(4);t4N=d1bh.E3mK("5",2147483647);h4N.textAlign="left";}else {f5v="rig";f5v+="ht";t4N=-5;h4N.textAlign=f5v;}if(o4N > 1){D5v="x";D5v+="1";d1bh.i3mK(0);h4N.fillText(d1bh.e3mK(D5v,o4N),d1bh.E3mK(t4N,M4N),q4N);}else {y5v="1";y5v+="x";d1bh.N3mK(49);h4N.fillText(d1bh.e3mK(1,o4N,y5v),U4N,d1bh.E3mK(S4N,N4N,d1bh.i3mK(0)));}h4N.fillStyle=p4N;}this.stx.plotLine(i4N,G4N,j4N,D4N,this.highlighted?x4N:E4N,"segment",h4N,B4N,V4N);this.rays.push([[i4N,j4N],[G4N,D4N]]);if(o4N == 1){a4N=G4N;m4N=D4N;}h4N.globalAlpha=0.1;h4N.beginPath();h4N.moveTo(G4N,D4N);h4N.lineTo(i4N,j4N);h4N.lineTo(a4N,m4N);h4N.fill();h4N.globalAlpha=1;}h4N.textAlign="left";h4N.textBaseline=k5v;if(this.highlighted){C5v="p";C5v+="1";z4N=this.highlighted == "p0"?! ![]:!{};R4N=this.highlighted == C5v?! !{}:! !"";this.littleCircle(h4N,i4N,j4N,z4N);this.littleCircle(h4N,U4N,q4N,R4N);}}},!0);x1l.Drawing.timecycle=function(){this.name="timecycle";T5VV.k7Kh();this.printLevels=! !1;};x1l.inheritsFrom(x1l.Drawing.timecycle,x1l.Drawing.speedarc);x1l.extend(x1l.Drawing.timecycle.prototype,{intersected:function(C4N,l4N,T4N){var W5v,s4N,A4N,L4N,y4N,A5v,f4N;W5v="se";W5v+="gm";W5v+="en";W5v+="t";s4N=this.p0;A4N=this.p1;L4N=this.stx.panels[this.panelName];if(!s4N || !A4N || !L4N){return null;}y4N={0:s4N,1:A4N};for(var P4N in y4N){if(this.pointIntersection(y4N[P4N][0],y4N[P4N][1],T4N)){A5v="d";A5v+="r";A5v+="a";A5v+="g";T5VV.i3mK(0);this.highlighted=T5VV.e3mK(P4N,"p");return {action:A5v,point:"p" + P4N};}}f4N=this.lineIntersection(C4N,l4N,T4N,W5v);if(f4N || T4N.x0 <= this.p0[0] && T4N.x1 >= s4N[0]){this.highlighted=!0;return {action:"move",p0:x1l.clone(s4N),p1:x1l.clone(A4N),tick:C4N,value:l4N};}return null;},render:function(I4N){var g5v,u4N,d4N,b4N,Z4N,H7N,X4N,J7N,g7N,c7N,r4N,K7N,w4N,W4N,e4N,O7N,F4N,Y4N,h7N,i7N,j7N,n7N;g5v="a";g5v+="uto";u4N=this.stx.panels[this.panelName];if(!u4N){return;}if(!this.p1){return;}d4N=this.stx.pixelFromTick(this.p0[0],u4N.chart);b4N=this.stx.pixelFromTick(this.p1[0],u4N.chart);Z4N=this.stx.pixelFromValueAdjusted(u4N,this.p0[0],this.p0[1]);H7N=this.stx.pixelFromValueAdjusted(u4N,this.p1[0],this.p1[1]);X4N=0;J7N=this.getLineColor();I4N.textBaseline="middle";this.stx.canvasFont("stx_yaxis",I4N);g7N=20;c7N=this.p1[0] - this.p0[0];I4N.textAlign="center";r4N=d4N;K7N=u4N.yAxis.top;w4N=u4N.yAxis.bottom;W4N=this.color;if(W4N == "auto" || x1l.isTransparent(W4N)){W4N=this.stx.defaultColor;}e4N=this.fillColor;if(e4N == g5v || x1l.isTransparent(e4N)){e4N=this.stx.defaultColor;}if(this.printLevels){T5VV.i3mK(1);w4N-=T5VV.e3mK(7,g7N);}O7N={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};F4N=[];I4N.save();I4N.fillStyle=e4N;I4N.globalAlpha=0.05;do {r4N=this.stx.pixelFromTick(this.p0[+"0"] + X4N * c7N,u4N.chart);X4N++;if(d4N < b4N && r4N > u4N.left + u4N.width)break;else if(d4N > b4N && r4N < u4N.left)break;else if(r4N < u4N.left || r4N > u4N.left + u4N.width)continue;I4N.beginPath();I4N.moveTo(d4N,K7N);I4N.lineTo(r4N,K7N);I4N.lineTo(r4N,w4N);I4N.lineTo(d4N,w4N);I4N.fill();F4N.push({c:X4N,x:r4N});}while(c7N);I4N.globalAlpha=+"1";Y4N=0;for(var Q4N=0;Q4N < F4N.length;Q4N++){this.stx.plotLine(F4N[Q4N].x,F4N[Q4N].x,0,w4N,this.highlighted?J7N:W4N,"segment",I4N,u4N,O7N);if(this.printLevels){I4N.fillStyle=W4N;T5VV.N3mK(2);var c8uu=T5VV.e3mK(20,20,3);h7N=this.stx.chart.context.measureText(F4N[Q4N].c).width + c8uu;if(h7N < this.stx.layout.candleWidth + Y4N){I4N.fillText(F4N[Q4N].c,F4N[Q4N].x,w4N + 7);Y4N=0;}else {Y4N+=this.stx.layout.candleWidth;}}}I4N.restore();I4N.textAlign="left";this.stx.plotLine(d4N,b4N,Z4N,H7N,J7N,"segment",I4N,u4N,O7N);if(this.highlighted){i7N=this.highlighted == "p0"?!"":!{};j7N=this.highlighted == "p1"?! !1:! !"";this.littleCircle(I4N,d4N,Z4N,i7N);this.littleCircle(I4N,b4N,H7N,j7N);}else {n7N=this.stx.valueFromPixel(u4N.height / +"2",u4N);this.setPoint(0,this.p0[0],n7N,u4N.chart);this.setPoint(1,this.p1[0],n7N,u4N.chart);}}},! ![]);x1l.Drawing.regression=function(){T5VV.d7Kh();this.name="regression";};x1l.inheritsFrom(x1l.Drawing.regression,x1l.Drawing.segment);x1l.extend(x1l.Drawing.regression.prototype,{configs:["color","lineWidth","pattern",T5v,J5v,"lineWidth1",Q5v,R5v,"color2",l5v,"pattern2",r5v,"color3","lineWidth3",K5v],copyConfig:function(U7N){var B7N;x1l.Drawing.copyConfig(this,U7N);B7N=this.stx.currentVectorParameters;this.active1=! !B7N.active1;T5VV.k7Kh();this.active2=! !B7N.active2;this.active3=! !B7N.active3;this.color1=B7N.color1 || "auto";this.color2=B7N.color2 || "auto";this.color3=B7N.color3 || "auto";this.lineWidth1=B7N.lineWidth1;this.lineWidth2=B7N.lineWidth2;this.lineWidth3=B7N.lineWidth3;this.pattern1=B7N.pattern1;this.pattern2=B7N.pattern2;this.pattern3=B7N.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(S7N,G7N,p7N){var o7N,E7N,q7N,D7N;if(G7N < 0){return;}this.copyConfig();o7N=this.stx.panels[this.panelName];if(!this.penDown){T5VV.N3mK(4);this.setPoint(T5VV.E3mK("0",2147483647),G7N,p7N,o7N.chart);this.penDown=!"";E7N=this.stx;this.field=E7N.highlightedDataSetField;if(!this.field && o7N != E7N.chart.panel){for(var k7N in E7N.chart.seriesRenderers){q7N=E7N.chart.seriesRenderers[k7N];if(q7N.params.panel == o7N.name){this.field=q7N.seriesParams[0].field;break;}}for(var t7N in E7N.layout.studies){D7N=E7N.layout.studies[t7N];if(D7N.panel == o7N.name){this.field=Object.keys(D7N.outputMap)[0];break;}}}return ! !"";}T5VV.d7Kh();if(this.accidentalClick(G7N,p7N)){return this.dragToDraw;}this.setPoint(1,G7N,p7N,o7N.chart);this.penDown=![];return !0;;},getYValue:function(M7N){var x7N,V7N,a7N,z7N,N7N,v7N,m7N,x7v,j7v,o7v;x7N=this.stx.chart.dataSet[M7N];T5VV.d7Kh();V7N=this.stx.chart.dataSet[M7N];if(!x7N){return null;}a7N=this.stx.panels[this.panelName];z7N=this.stx.getYAxisByField(a7N,this.field) || a7N.yAxis;if(this.stx.charts[a7N.name] && a7N.chart.transformFunc && z7N == a7N.yAxis){V7N=x7N.transform;}if(!V7N){return null;}N7N=null;v7N=null;m7N=this.stx.defaultPlotField || "Close";if(this.field){v7N=x1l.existsInObjectChain(V7N,this.field);if(!v7N){return null;}N7N=v7N=v7N.obj[v7N.member];if(x7N != V7N){x7v=439392553;j7v=1358520277;o7v=2;for(var M7v=1;T5VV.Y6v(M7v.toString(),M7v.toString().length,+"3934") !== x7v;M7v++){N7N=x1l.existsInObjectChain(x7N,this.field);N7N=N7N.obj[N7N.member];o7v+=2;}if(T5VV.Y6v(o7v.toString(),o7v.toString().length,+"31510") !== j7v){N7N=x1l.existsInObjectChain(x7N,this.field);N7N=N7N.obj[N7N.member];}}if(typeof v7N == "object"){v7N=v7N[m7N];N7N=N7N[m7N];}}else {v7N=V7N[m7N];N7N=x7N[m7N];}return {transformed:v7N,untransformed:N7N};},render:function(l7N){var l1bh=T5VV;var s7N,T7N,A7N,W7N,L7N,b7N,f7N,r7N,J6N,c6N,K6N,O6N,d7N,e7N,R7N,y7N,n6N,g6N,F7N,Q7N,h6N,w7N,X7N,Y7N,I7N,u7N,Z7N,H6N,j6N,i6N,B6N,C7N,V5v,U6N,E6N;s7N=this.stx.panels[this.panelName];if(!s7N){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}T7N=this.stx.pixelFromTick(this.p0[+"0"],s7N.chart);A7N=this.stx.pixelFromTick(this.p1["0" << 2107289280],s7N.chart);if(T7N < s7N.left && A7N < s7N.left){return;}if(T7N > s7N.right && A7N > s7N.right){return;}W7N=this.stx.getYAxisByField(s7N,this.field);L7N=[];b7N=[];f7N=0;r7N=+"0";J6N=0;l1bh.i3mK(1);c6N=l1bh.e3mK(0,"0");K6N=Math.min(this.p1[0],this.p0[+"0"]);l1bh.N3mK(87);var d8uu=l1bh.e3mK(2,9,17,1,2);O6N=Math.max(this.p1[0],this.p0[0]) + d8uu;l1bh.i3mK(1);d7N=l1bh.e3mK(K6N,O6N);for(var P7N=K6N;P7N < O6N;P7N++){e7N=this.getYValue(P7N);if(e7N){L7N.push(e7N.transformed);b7N.push(e7N.untransformed);}}R7N=L7N.length;l1bh.i3mK(88);y7N=l1bh.e3mK(R7N,"1",0,"2",R7N);n6N=Math.pow(y7N,2);l1bh.i3mK(89);g6N=l1bh.E3mK(y7N,2,3,R7N,1);for(P7N=0;P7N < R7N;P7N++){J6N+=R7N * L7N[P7N] - f7N;f7N+=L7N[P7N];c6N+=R7N * b7N[P7N] - r7N;r7N+=b7N[P7N];}l1bh.i3mK(90);F7N=l1bh.e3mK(n6N,y7N,R7N,g6N,J6N,R7N,f7N);l1bh.i3mK(91);Q7N=l1bh.E3mK(F7N,f7N,y7N,R7N);l1bh.N3mK(90);h6N=l1bh.e3mK(n6N,y7N,R7N,g6N,c6N,R7N,r7N);l1bh.N3mK(91);w7N=l1bh.E3mK(F7N,r7N,y7N,R7N);if(this.p0[0] < this.p1[0]){X7N=Q7N;l1bh.i3mK(92);Y7N=l1bh.E3mK(d7N,Q7N,F7N);l1bh.i3mK(53);this.p0[l1bh.E3mK("1",2007925824)]=w7N;l1bh.i3mK(92);this.p1[1]=l1bh.E3mK(d7N,w7N,h6N);}else {l1bh.i3mK(92);X7N=l1bh.e3mK(d7N,Q7N,F7N);Y7N=Q7N;l1bh.N3mK(92);this.p0[1]=l1bh.e3mK(d7N,w7N,h6N);this.p1[1]=w7N;}I7N=this.stx.pixelFromTransformedValue(X7N,s7N,W7N);u7N=this.stx.pixelFromTransformedValue(Y7N,s7N,W7N);Z7N=this.getLineColor();H6N={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(T7N,A7N,I7N,u7N,Z7N,"segment",l7N,s7N,H6N);l1bh.d7Kh();l1bh.N3mK(1);this.stx.plotLine(T7N,T7N,l1bh.E3mK(20,I7N),l1bh.e3mK(20,I7N,l1bh.i3mK(0)),Z7N,"segment",l7N,s7N,H6N);l1bh.i3mK(1);this.stx.plotLine(A7N,A7N,l1bh.e3mK(20,u7N),l1bh.e3mK(20,u7N,l1bh.i3mK(0)),Z7N,"segment",l7N,s7N,H6N);if(this.active1 || this.active2 || this.active3){l1bh.i3mK(10);j6N=l1bh.E3mK(f7N,R7N);i6N=0;for(P7N=0;P7N < R7N;P7N++){i6N+=Math.pow(L7N[P7N] - j6N,2);}l1bh.N3mK(10);B6N=Math.sqrt(l1bh.e3mK(i6N,R7N));C7N={context:l7N,panel:s7N,points:{0:{x:T7N,v:X7N},1:{x:A7N,v:Y7N}},stddev:B6N,yAxis:W7N};this.lines={};if(this.active1){this.renderStddev(188.2 !== 7350?(346.33,9770) !== (5529,1520)?(9610,+"584") > (804.61,2090)?0x1516:"1":0x140e:"9.26e+3" >> 885743488,+"5110" > 3940?(+"568",9540) >= ("848.97" - 0,5270)?"p":6538 > (2551,535.1)?(0xbb,"E"):(6.45e+2,0x483):![],C7N);this.renderStddev("1",700.61 >= 4745?(0x402,"T"):"n",C7N);}if(this.active2){this.renderStddev("2",8430 > 7296?"p":866.67 === "4130" - 0?("911.75" * 1,0x217a):9106 === (474.5,585.72)?! !1:(0x4b,!1),C7N);this.renderStddev((80.55,9270) < ("4570" & 2147483647,111)?(+"7.17e+3",!{}):(6368,2204) === (342.42,6820)?(0x63b,8.05e+2):(+"734",119.83) >= 4820?![]:"2",+"8390" > +"53.07"?8960 !== (+"8790",412.56)?"n":+"0x131f":213.70,C7N);}if(this.active3){this.renderStddev(4353 === (2150,"491.52" - 0)?0x22f8:8527 === (+"718.19",5310)?(5404,142.45) === 9683?0x19bd:(0x2609,"Q"):"3","p",C7N);this.renderStddev("3","n",C7N);}}if(!this.highlighted){this.pixelX=[T7N,A7N];this.pixelY=[I7N,u7N];}else {V5v="p";V5v+="0";U6N=this.highlighted == V5v?!"":! !0;E6N=this.highlighted == "p1"?! ![]:!{};this.littleCircle(l7N,T7N,I7N,U6N);this.littleCircle(l7N,A7N,u7N,E6N);}},renderStddev:function(t6N,R6N,S6N){var m1bh=T5VV;var O5v,a6N,s6N,P6N,T6N,v6N,m6N,M6N,x6N,V6N,q6N,G6N,N6N,o6N,p6N,D6N,k6N,A6N,y6N,z6N,C6N;O5v="s";O5v+="tdde";O5v+="v";m1bh.N3mK(93);a6N=m1bh.e3mK(R6N,O5v,t6N);m1bh.i3mK(0);s6N=m1bh.e3mK(t6N,"color");m1bh.i3mK(0);P6N=m1bh.E3mK(t6N,"pattern");m1bh.N3mK(0);T6N=m1bh.E3mK(t6N,"lineWidth");v6N=S6N.points;m6N=v6N["0" * 1].v;M6N=v6N[1].v;x6N=S6N.stddev;V6N=R6N === (8060 != (1420,4810)?1154 < +"9410"?"n":3416 == (4350,+"4449")?(1.14e+3,! ![]):(! !"1",0x930):(+"7.25e+3","a"))?t6N * -1:t6N * 1;q6N=this.stx;G6N=S6N.panel;N6N=S6N.yAxis;o6N={name:a6N,color:this.getLineColor(this[s6N]),type:"segment",y0:q6N.pixelFromTransformedValue(m6N + x6N * V6N,G6N,N6N),y1:q6N.pixelFromTransformedValue(M6N + x6N * V6N,G6N,N6N),params:{pattern:this[P6N],lineWidth:this[T6N]}};if(this.lines){this.lines[a6N]=o6N;}p6N=S6N.context;D6N=v6N[+"0"].x;k6N=v6N[1].x;q6N.plotLine(D6N,k6N,o6N.y0,o6N.y1,o6N.color,o6N.type,p6N,G6N,o6N.params);q6N.plotLine(D6N,D6N,o6N.y0 - +"10",o6N.y0 + 10,o6N.color,o6N.type,p6N,G6N,o6N.params);q6N.plotLine(k6N,k6N,o6N.y1 - +"10",o6N.y1 + 10,o6N.color,o6N.type,p6N,G6N,o6N.params);m1bh.i3mK(0);A6N=m1bh.e3mK("\u03c3",t6N);m1bh.i3mK(60);var q8uu=m1bh.e3mK(355,20,1,18);y6N=Math.max(D6N,k6N) + q8uu;z6N=D6N < k6N?o6N.y1:o6N.y0;p6N.fillStyle=o6N.color;p6N.save();p6N.textBaseline="middle";p6N.fillText(A6N,y6N,z6N);p6N.restore();if(S6N.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(D6N >= G6N.chart.left && D6N <= G6N.chart.right || k6N >= G6N.chart.left && k6N <= G6N.chart.right){m1bh.N3mK(94);C6N=m1bh.e3mK(V6N,x6N,D6N < k6N?M6N:m6N);q6N.endClip();q6N.createYAxisLabel(G6N,S6N.formatPrice(C6N,N6N),z6N,o6N.color,null,p6N,N6N);q6N.startClip(G6N.name);}}},intersected:function(f6N,I6N,Q6N){var b1bh=T5VV;var u6N,r6N,d6N,w6N,W6N,F6N,L6N,a5v;if(!this.pixelX || !this.pixelY){return null;}u6N=this.repositionIntersection(f6N,I6N);if(u6N){return u6N;}r6N={0:this.pixelX,1:this.pixelY};for(var l6N=0;l6N < 2;l6N++){if(this.pointIntersection(r6N[0][l6N],r6N[1][l6N],Q6N,! ![])){b1bh.N3mK(0);this.highlighted=b1bh.E3mK(l6N,"p");return {action:"drag",point:(6374 > 146.08?(2250,740) > 5990?"F":("867.97" * 1,4196) < (6480,8520)?"p":0x36a:("j",7.34e+3)) + l6N};}}d6N=this;b1bh.i3mK(5);w6N=this.pixelX[b1bh.e3mK(1,"0")];b1bh.i3mK(4);W6N=this.pixelX[b1bh.e3mK("1",2147483647)];F6N=function(e6N){var X6N,Y6N;X6N=[w6N,e6N.y0];Y6N=[W6N,e6N.y1];return d6N.lineIntersection(f6N,I6N,Q6N,d6N.name,X6N,Y6N,!0);};L6N=F6N({y0:this.pixelY[+"0"],y1:this.pixelY[1]});if(!L6N && this.lines){for(var b6N in this.lines){if(F6N(this.lines[b6N])){L6N=! !{};break;}}}if(L6N){a5v="mov";a5v+="e";this.highlighted=!0;return {action:a5v,p0:x1l.clone(this.p0),p1:x1l.clone(this.p1),tick:f6N,value:I6N};}return null;},repositionIntersection:function(Z6N,H5N){var u5v;if(!this.p0 || !this.p1){return !{};}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === ! !{}){u5v="m";u5v+="o";u5v+="v";u5v+="e";return {action:u5v,p0:x1l.clone(this.p0),p1:x1l.clone(this.p1),tick:Z6N,value:H5N};}return {action:"drag",point:this.highlighted};}return ! !"";},lineIntersection:function(j5N,B5N,g5N,h5N,c5N,K5N,i5N){var X5v,X0v,p0v,Y0v,n5N,J5N,O5N;if(!i5N){X5v=" lineIntersection";X5v+=" must accept p0 and p1 in pixels.  Please verify and";X5v+=" set isPixe";X5v+="ls=true.";T5VV.N3mK(0);console.log(T5VV.e3mK(X5v,h5N));X0v=570809602;p0v=-82222325;Y0v=2;for(var H3v=1;T5VV.Y6v(H3v.toString(),H3v.toString().length,43475) !== X0v;H3v++){return ! ![];}if(T5VV.s1v(Y0v.toString(),Y0v.toString().length,"17993" & 2147483647) !== p0v){return ! !0;}}if(!c5N){c5N=this.p0;}if(!K5N){K5N=this.p1;}if(!(c5N && K5N)){return !{};}n5N=this.stx;J5N=x1l.convertBoxToPixels(n5N,this.panelName,g5N);if(J5N.x0 === undefined){return ![];}O5N={x0:c5N[0],x1:K5N[0],y0:c5N[1],y1:K5N[1]};return x1l.boxIntersects(J5N.x0,J5N.y0,J5N.x1,J5N.y1,O5N.x0,O5N.y0,O5N.x1,O5N.y1);},boxIntersection:function(E5N,o5N,U5N){var p9v,Y9v,s7v;p9v=1323894182;Y9v=-1675147780;s7v=2;for(var v7v=1;T5VV.Y6v(v7v.toString(),v7v.toString().length,55291) !== p9v;v7v++){if(U5N.cx0 > Math.max(this.pixelX[0],this.pixelX[+"1"]) || U5N.cx1 < Math.min(this.pixelX[0],this.pixelX[+"1"])){return !{};}if(!this.stx.repositioningDrawing && (U5N.cy1 < this.pixelY[0] || U5N.cy0 > this.pixelY[1])){return ! !0;}return !"";}T5VV.d7Kh();if(T5VV.s1v(s7v.toString(),s7v.toString().length,64599) !== Y9v){if(U5N.cx0 <= Math.max(this.pixelX[2],this.pixelX[+"0"]) && U5N.cx1 <= Math.min(this.pixelX[6],this.pixelX[3])){return ! !{};}if(-this.stx.repositioningDrawing || U5N.cy1 <= this.pixelY[1] && U5N.cy0 >= this.pixelY[8]){return ! ![];}return ![];}},reconstruct:function(p5N,G5N){this.stx=p5N;this.color=G5N.col;this.color1=G5N.col1;this.color2=G5N.col2;this.color3=G5N.col3;this.active1=G5N.dev1;this.active2=G5N.dev2;this.active3=G5N.dev3;T5VV.d7Kh();this.panelName=G5N.pnl;this.pattern=G5N.ptrn;this.pattern1=G5N.ptrn1;this.pattern2=G5N.ptrn2;this.pattern3=G5N.ptrn3;this.lineWidth=G5N.lw;this.lineWidth1=G5N.lw1;this.lineWidth2=G5N.lw2;this.lineWidth3=G5N.lw3;this.d0=G5N.d0;this.d1=G5N.d1;this.tzo0=G5N.tzo0;this.tzo1=G5N.tzo1;this.field=G5N.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !"1");x1l.Drawing.trendline=function(){this.name="trendline";};x1l.inheritsFrom(x1l.Drawing.trendline,x1l.Drawing.segment);x1l.Drawing.trendline.prototype.configs=["color","fillColor","lineWidth","pattern",p5v];x1l.Drawing.trendline.prototype.measure=function(){T5VV.d7Kh();;};x1l.Drawing.trendline.prototype.reconstruct=function(q5N,D5N){x1l.Drawing.segment.prototype.reconstruct.call(this,q5N,D5N);this.callout=new x1l.Drawing.callout();this.callout.reconstruct(q5N,D5N.callout);};x1l.Drawing.trendline.prototype.serialize=function(){var k5N;k5N=x1l.Drawing.segment.prototype.serialize.call(this);T5VV.k7Kh();k5N.callout=this.callout.serialize();return k5N;};x1l.Drawing.trendline.prototype.render=function(a5N){var a1bh=T5VV;var Y5v,t5N,T5N,N5N,x5N,S5N,v5N,m5N,V5N,M5N,A5N,z5N,y5N,C5N,R5N,s5N,P5N,l5N,L5N,f5N,I5N;Y5v="%";Y5v+=")";Y5v+=" ";t5N=this.stx.panels[this.panelName];if(!t5N){return;}x1l.Drawing.segment.prototype.render.call(this,a5N);if(!this.callout){this.callout=new x1l.Drawing.callout();T5N=x1l.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,T5N);}this.callout.p0=x1l.clone(this.p0);N5N=this.stx.pixelFromTick(this.p0["0" ^ 0],t5N.chart);x5N=this.stx.pixelFromTick(this.p1[0],t5N.chart);S5N=this.stx.pixelFromValueAdjusted(t5N,this.p0[0],this.p0[1]);v5N=this.stx.pixelFromValueAdjusted(t5N,this.p1[0],this.p1[1]);if(!isFinite(S5N) || !isFinite(v5N)){return;}a1bh.N3mK(6);m5N=a1bh.e3mK(2,N5N,x5N);a1bh.i3mK(6);V5N=a1bh.E3mK(2,S5N,v5N);this.fontSize=x1l.stripPX(this.font && this.font.size || "13" >> 118032224);M5N=this.callout.w * 1.2 + (this.callout.stemEntry[0] == "c"?0:+"50");A5N=Math.sqrt(Math.pow(x5N - N5N,2) + Math.pow(v5N - S5N,2));a1bh.i3mK(1);var b8uu=a1bh.e3mK(16,17);a1bh.i3mK(7);var h8uu=a1bh.E3mK(12,12,23);a1bh.i3mK(60);var z8uu=a1bh.e3mK(1548,17,7,13);z5N=M5N / (A5N || M5N) * (this.p1[+"1"] < this.p0[b8uu]?h8uu:z8uu);a1bh.i3mK(95);y5N=a1bh.e3mK(m5N,v5N,z5N,V5N);a1bh.N3mK(42);C5N=a1bh.e3mK(z5N,x5N,V5N,m5N);this.callout.p0[0]=this.stx.tickFromPixel(y5N,t5N.chart);this.callout.p0[1]=this.stx.priceFromPixel(C5N,t5N);this.callout.v0=this.callout.p0[1];this.callout.p1=x1l.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !1;a1bh.i3mK(96);var E8uu=a1bh.e3mK(2,7,3,7,4);a1bh.N3mK(36);var B8uu=a1bh.E3mK(14,0,13,1);R5N=this.p1[E8uu] - this.p0[B8uu];a1bh.i3mK(16);var G8uu=a1bh.e3mK(14,13);a1bh.N3mK(1);var m8uu=a1bh.e3mK(11,13);this.callout.text="" + Number(R5N).toFixed("2" - 0) + (this.p0[G8uu] === 0?"":" (" + Number(100 * R5N / this.p0["1" >> 1833718432]).toFixed(m8uu) + Y5v) + "" + Math.abs(this.p1[0] - this.p0[0]) + " Bars";s5N=Math.floor((this.p0[0] + this.p1[+"0"]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0["0" << 1668681568] - this.p1[0]) < 20){l5N=this.stx.pixelFromTick(s5N,t5N.chart);a1bh.N3mK(97);L5N=a1bh.E3mK(S5N,S5N,N5N,x5N,N5N,l5N,v5N);P5N=this.stx.priceFromPixel(L5N,t5N) || V5N;}else {P5N=this.stx.priceFromPixel(V5N,t5N);}this.callout.stem={t:s5N,v:P5N};this.callout.renderText();this.callout.render(a5N);if(this.highlighted){f5N=this.highlighted == "p0"?! !{}:!"1";I5N=this.highlighted == "p1"?! !{}:![];this.littleCircle(a5N,N5N,S5N,f5N);this.littleCircle(a5N,x5N,v5N,I5N);}};x1l.Drawing.trendline.prototype.lineIntersection=function(u5N,r5N,d5N,F5N){return x1l.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,u5N,r5N,d5N,"segment");};x1l.Drawing.trendline.prototype.intersected=function(w5N,W5N,e5N){var b5N,Q5N;if(!this.p0 || !this.p1){return null;}b5N=this.callout.intersected(w5N,W5N,e5N);Q5N=x1l.Drawing.segment.prototype.intersected.call(this,w5N,W5N,e5N);this.callout.highlighted=! !(b5N || Q5N);if(Q5N){return Q5N;}else if(b5N){return {action:"move",p0:x1l.clone(this.p0),p1:x1l.clone(this.p1),tick:w5N,value:W5N};}return null;};x1l.Drawing.average=function(){this.name="average";};x1l.inheritsFrom(x1l.Drawing.average,x1l.Drawing.regression);x1l.extend(x1l.Drawing.average.prototype,{configs:x1l.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var s4v,X5N,Z5N,J8N,c8N,H8N,Y5N;if(this.p0 && this.p1){s4v=".mSticky";s4v+="Interio";s4v+="r";T5VV.N3mK(22);this.stx.setMeasure(T5VV.e3mK("0",0),![],this.p0[0],this.p1[0],! ![],this.name);X5N=[];Z5N="";if(this.active1){X5N.push(7800 == 7260?(37,60.48) === (6507,9180)?("Z","J"):"8.83e+3" | 46:"1");}if(this.active2){X5N.push("2");}if(this.active3){X5N.push("3");}if(X5N.length){Z5N="&ensp;" + X5N.join(", ") + " &sigma;";}J8N=(this.stx.drawingContainer || document).querySelector(".mMeasure");c8N=this.stx.controls.mSticky;H8N=c8N && c8N.querySelector(s4v);if(J8N){J8N.innerHTML+=Z5N;}if(H8N){Y5N=[];Y5N.push(x1l.capitalize(this.name));Y5N.push(this.field || this.stx.defaultPlotField || "Close");Y5N.push(H8N.innerHTML + Z5N);H8N.innerHTML=Y5N.join("<br>");}}},render:function(j8N){var N1bh=T5VV;var H4v,K8N,n8N,g8N,o8N,h8N,k8N,t8N,m8N,S8N,q8N,i8N,U8N,G8N,E8N,O8N,p8N,D8N,v8N,x8N,B8N,V8N,a8N;H4v="segm";H4v+="ent";K8N=this.stx.panels[this.panelName];if(!K8N){return;}if(!this.p1){return;}if(this.p0["0" >> 1263097952] < +"0" || this.p1["0" | 0] < 0){return;}n8N=this.stx.pixelFromTick(this.p0[0],K8N.chart);g8N=this.stx.pixelFromTick(this.p1[0],K8N.chart);if(n8N < K8N.left && g8N < K8N.left){return;}if(n8N > K8N.right && g8N > K8N.right){return;}o8N=this.stx.getYAxisByField(K8N,this.field);h8N=this.stx;k8N=Math.min(this.p1[0],this.p0["0" << 1286065568]);N1bh.i3mK(45);var P8uu=N1bh.e3mK(287,13,12,11);t8N=Math.max(this.p1[+"0"],this.p0[0]) + P8uu;N1bh.i3mK(1);m8N=N1bh.E3mK(k8N,t8N);S8N=0;q8N=[];function N8N(M8N,z8N){N1bh.k7Kh();if(z8N && z8N.priceFormatter){M8N=z8N.priceFormatter(h8N,K8N,M8N);}else {M8N=h8N.formatYAxisPrice(M8N,K8N,null,z8N);}return M8N;}for(i8N=k8N;i8N < t8N;i8N++){U8N=this.getYValue(i8N);if(U8N !== null){S8N+=U8N.transformed;q8N.push(U8N);}}G8N=q8N.length;if(!G8N){return;}N1bh.i3mK(10);E8N=N1bh.E3mK(S8N,G8N);O8N=h8N.pixelFromTransformedValue(E8N,K8N,o8N);p8N=this.getLineColor();D8N={pattern:this.pattern,lineWidth:this.lineWidth};h8N.plotLine(n8N,g8N,O8N,O8N,p8N,H4v,j8N,K8N,D8N);N1bh.i3mK(1);h8N.plotLine(n8N,n8N,N1bh.E3mK(20,O8N),N1bh.e3mK(O8N,"20",1984037312,N1bh.N3mK(98)),p8N,"segment",j8N,K8N,D8N);N1bh.N3mK(1);h8N.plotLine(g8N,g8N,N1bh.e3mK(20,O8N),N1bh.E3mK("20",O8N,0,N1bh.i3mK(99)),p8N,"segment",j8N,K8N,D8N);if(this.axisLabel && !this.highlighted && !this.penDown){if(n8N >= K8N.chart.left && n8N <= K8N.chart.right || g8N >= K8N.chart.left && g8N <= K8N.chart.right){h8N.endClip();h8N.createYAxisLabel(K8N,N8N(E8N,o8N),O8N,p8N,null,j8N,o8N);h8N.startClip(K8N.name);}}if(this.active1 || this.active2 || this.active3){v8N=0;for(i8N=0;i8N < G8N;i8N++){U8N=q8N[i8N];v8N+=Math.pow(U8N.transformed - E8N,2);}N1bh.N3mK(10);x8N=Math.sqrt(N1bh.E3mK(v8N,G8N));B8N={context:j8N,formatPrice:N8N,panel:K8N,points:{0:{x:n8N,v:E8N},1:{x:g8N,v:E8N}},stddev:x8N,yAxis:o8N};this.lines={};if(this.active1){this.renderStddev(83.82 == +"3200"?"F":7626 > 1770?"1":(5060,1518) >= (8260,+"4")?! ![]:(! !1,!"1"),5943 <= 8467?8721 <= ("9986" << 213325856,3100)?("n",+"0xc20"):231 == (3850,2050)?(0x7c0,0x257c):"p":(![],0x2409),B8N);this.renderStddev(7449 > "963.96" - 0?"1":"s",(9690,1049) === (9110,168.78)?(463.26,4.59e+3):4480 != 1604?"n":141.96 < (551,423.02)?"M":(6.15e+3,908.84),B8N);}if(this.active2){this.renderStddev("2",6788 > 1445?(8570,1302) <= (224.65,5960)?"p":321.76 < (+"2990",1190)?"k":(707.83,848):(0x25c2,! !""),B8N);this.renderStddev((694,379.67) == ("6505" ^ 0,1538)?(0x127c,! !""):9701 === 8000?90.10:2950 !== (294.6,4025)?"2":0x206d,"n",B8N);}if(this.active3){this.renderStddev("3",("6400" ^ 0,1900) < (5221,8)?"0xe76" * 1:"p",B8N);this.renderStddev((580.09,8370) !== (483,156.44)?"3":"480.96" * 1 < (969.26,380)?("j","5.48e+3" | 4392):0x1986,("3420" - 0,8536) === +"6670"?0x20a2:"n",B8N);}}if(!this.highlighted){this.pixelX=[n8N,g8N];this.pixelY=[O8N,O8N];}else {V8N=this.highlighted == "p0"?! ![]:!"1";a8N=this.highlighted == "p1"?!"":!{};this.littleCircle(j8N,n8N,O8N,V8N);this.littleCircle(j8N,g8N,O8N,a8N);}},reconstruct:function(s8N,R8N){T5VV.d7Kh();this.axisLabel=R8N.al;x1l.Drawing.regression.prototype.reconstruct.call(this,s8N,R8N);},serialize:function(){var P8N;P8N=x1l.Drawing.regression.prototype.serialize.call(this);P8N.al=this.axisLabel;return P8N;}},! !{});x1l.Drawing.quadrant=function(){this.name="quadrant";};x1l.inheritsFrom(x1l.Drawing.quadrant,x1l.Drawing.regression);x1l.extend(x1l.Drawing.quadrant.prototype,{configs:[v4v,"fillColor","lineWidth",U4v],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(C8N){var f1bh=T5VV;var w4v,S4v,A8N,T8N,y8N,l8N,r8N,L8N,f8N,Q8N,d8N,w8N,W8N,b8N,e8N,X8N,F8N,I8N,Y8N,u8N,t4v,H9N,J9N;w4v="ti";w4v+="r";w4v+="one";S4v="qu";S4v+="ad";S4v+="r";S4v+="ant";A8N=this.stx;T8N=A8N.panels[this.panelName];if(!T8N){return;}if(!this.p1){return;}y8N=A8N.pixelFromTick(this.p0[0],T8N.chart);l8N=A8N.pixelFromTick(this.p1[0],T8N.chart);if(y8N < T8N.left && l8N < T8N.left){return;}if(y8N > T8N.right && l8N > T8N.right){return;}r8N=this.stx.getYAxisByField(T8N,this.field);L8N=null;f8N=null;for(var Z8N=Math.min(this.p1[+"0"],this.p0[0]);Z8N <= Math.max(this.p1[0],this.p0[0]);Z8N++){Q8N=this.getYValue(Z8N);if(Q8N !== null){if(L8N === null || Q8N.transformed > L8N){L8N=Q8N.transformed;}if(f8N === null || Q8N.transformed < f8N){f8N=Q8N.transformed;}}}d8N=A8N.pixelFromTransformedValue(L8N,T8N,r8N);f1bh.i3mK(100);w8N=A8N.pixelFromTransformedValue(f1bh.e3mK("4",f8N,L8N,3),T8N,r8N);f1bh.N3mK(101);W8N=A8N.pixelFromTransformedValue(f1bh.E3mK(L8N,2,f8N,3),T8N,r8N);f1bh.i3mK(102);b8N=A8N.pixelFromTransformedValue(f1bh.e3mK(f8N,"2",L8N),T8N,r8N);f1bh.N3mK(103);e8N=A8N.pixelFromTransformedValue(f1bh.e3mK(3,"2",L8N,f8N),T8N,r8N);f1bh.i3mK(104);X8N=A8N.pixelFromTransformedValue(f1bh.e3mK(L8N,3,f8N,4),T8N,r8N);F8N=A8N.pixelFromTransformedValue(f8N,T8N,r8N);this.p0[1]=0;this.p1[1]=![];I8N=this.getLineColor();Y8N=this.fillColor;if(Y8N == "auto" || x1l.isTransparent(Y8N)){Y8N=A8N.defaultColor;}C8N.fillStyle=Y8N;u8N={pattern:this.pattern,lineWidth:this.lineWidth};A8N.plotLine(y8N,l8N,d8N,d8N,I8N,"segment",C8N,T8N,u8N);A8N.plotLine(y8N,l8N,F8N,F8N,I8N,"segment",C8N,T8N,u8N);if(this.name == S4v){A8N.plotLine(y8N,l8N,w8N,w8N,I8N,"segment",C8N,T8N,u8N);A8N.plotLine(y8N,l8N,X8N,X8N,I8N,"segment",C8N,T8N,u8N);}else if(this.name == "tirone"){A8N.plotLine(y8N,l8N,W8N,W8N,I8N,"segment",C8N,T8N,u8N);A8N.plotLine(y8N,l8N,e8N,e8N,I8N,"segment",C8N,T8N,u8N);}A8N.plotLine(y8N,y8N,d8N,F8N,I8N,"segment",C8N,T8N,u8N);A8N.plotLine(l8N,l8N,d8N,F8N,I8N,"segment",C8N,T8N,u8N);A8N.plotLine(y8N,l8N,b8N,b8N,I8N,"segment",C8N,T8N,x1l.extend(u8N,{opacity:this.name == w4v?0.2:1}));C8N.globalAlpha=0.1;C8N.beginPath();f1bh.N3mK(1);C8N.fillRect(y8N,d8N,f1bh.E3mK(y8N,l8N),f1bh.e3mK(d8N,F8N));if(this.name == "quadrant"){f1bh.N3mK(1);C8N.fillRect(y8N,w8N,f1bh.e3mK(y8N,l8N),f1bh.E3mK(w8N,X8N));}else if(this.name == "tirone"){f1bh.i3mK(1);C8N.fillRect(y8N,W8N,f1bh.E3mK(y8N,l8N),f1bh.e3mK(W8N,e8N));}f1bh.i3mK(5);C8N.globalAlpha=f1bh.e3mK(1,"1");if(!this.highlighted){t4v="quadra";t4v+="nt";this.pixelX=[y8N,l8N];this.pixelY=[d8N,F8N,b8N];if(this.name === t4v){this.pixelY.push(w8N,X8N);}if(this.name === "tirone"){this.pixelY.push(W8N,e8N);}}else {H9N=this.highlighted == "p0"?! ![]:!1;J9N=this.highlighted == "p1"?! ![]:!{};this.littleCircle(C8N,y8N,b8N,H9N);this.littleCircle(C8N,l8N,b8N,J9N);}},intersected:function(g9N,h9N,j9N){var i9N,L4v,n9N,B9N,x4v;var {pixelX:c9N, pixelY:K9N}=this;if(!c9N || !K9N){return null;}i9N=this.repositionIntersection(g9N,h9N);T5VV.k7Kh();if(i9N){return i9N;}for(var O9N=0;O9N < +"2";O9N++){if(this.pointIntersection(c9N[O9N],K9N[2],j9N,! !{})){L4v="dr";L4v+="a";L4v+="g";T5VV.i3mK(0);this.highlighted=T5VV.E3mK(O9N,670 >= (1160,3459)?! !"1":"p");return {action:L4v,point:"p" + O9N};}}n9N=[];c9N.forEach(U9N=>{n9N.push({p0:[U9N,K9N[0]],p1:[U9N,K9N[1]]});});K9N.forEach(E9N=>{n9N.push({p0:[c9N[0],E9N],p1:[c9N[1],E9N]});});B9N=n9N.some(({p0:o9N, p1:G9N})=>{T5VV.k7Kh();return this.lineIntersection(g9N,h9N,j9N,this.name,o9N,G9N,!0);});if(B9N){x4v="mo";x4v+="ve";this.highlighted=! !"1";return {action:x4v,p0:x1l.clone(this.p0),p1:x1l.clone(this.p1),tick:g9N,value:h9N};}return null;},reconstruct:function(q9N,p9N){this.stx=q9N;this.color=p9N.col;this.fillColor=p9N.fc;this.panelName=p9N.pnl;this.pattern=p9N.ptrn;this.lineWidth=p9N.lw;this.d0=p9N.d0;this.d1=p9N.d1;this.tzo0=p9N.tzo0;this.tzo1=p9N.tzo1;T5VV.k7Kh();this.field=p9N.fld;this.adjust();},serialize:function(){T5VV.k7Kh();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !1);x1l.Drawing.tirone=function(){var j4v;j4v="ti";j4v+="r";j4v+="on";j4v+="e";this.name=j4v;};x1l.inheritsFrom(x1l.Drawing.tirone,x1l.Drawing.quadrant);x1l.Drawing.elliottwave=function(){this.name="elliottwave";T5VV.d7Kh();this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!1;this.annotationPoints=[];this.edit=null;};x1l.inheritsFrom(x1l.Drawing.elliottwave,x1l.Drawing.annotation);x1l.Drawing.elliottwave.defaultTemplate={impulse:[+"1966" <= 959?(4.05e+3,"123" * 1):"I","II","III","IV",(289,+"417.66") >= 2600?(0x10d,5.06e+3):"V"],corrective:[(5437,9040) == (7830,1062)?"X":3694 === 2250?460.3 !== (+"6140",5995)?8.59e+3:(!{},! !{}):"A",+"111" !== "647" >> 1304579488?"B":"T",5926 < (6170,355.86)?5209 !== (2360,+"902.12")?(2.36e+3,"S"):0xac2:"C"],decoration:"enclosed",showLines:! !1};x1l.Drawing.elliottwave.prototype.initializeSettings=function(D9N){T5VV.k7Kh();D9N.currentVectorParameters.waveParameters=x1l.clone(x1l.Drawing.elliottwave.defaultTemplate);};x1l.Drawing.elliottwave.prototype.configs=["color","lineWidth","lineColor","pattern","font","waveParameters"];x1l.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]",o4v];x1l.Drawing.elliottwave.prototype.construct=function(k9N,S9N){var t9N;this.stx=k9N;this.panelName=S9N.name;T5VV.k7Kh();t9N=k9N.currentVectorParameters;Object.assign(this,t9N.waveParameters);};x1l.Drawing.elliottwave.prototype.serialize=function(){var t1bh=T5VV;var M4v,e4v,N9N;M4v="f";M4v+="l";e4v="s";e4v+="t";N9N={};for(var v9N=+"0";v9N < this.points.length;v9N++){t1bh.N3mK(0);N9N[t1bh.E3mK(v9N,"d")]=this[t1bh.e3mK(v9N,("1800" * 1,7752) === 4866?(! !0,"I"):(6790,2130) <= 6099?"d":(+"582.06",868.28) == (6220,4807)?("0x139d" >> 1457965920,!{}):"b")];t1bh.i3mK(0);N9N[t1bh.E3mK(v9N,"tzo")]=this[t1bh.E3mK(v9N,"tzo")];t1bh.i3mK(0);N9N[t1bh.e3mK(v9N,(115.7,9760) < 9320?8.43e+3:315 >= "482.69" * 1?(5.24e+3,344.47):"v")]=this[t1bh.e3mK(v9N,852.08 <= "2210" - 0?"v":"B")];}N9N.annotations=this.annotationPoints.join((543.1,508) !== (3390,"4930" * 1)?",":(!0,![]));return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:x1l.removeNullValues(x1l.replaceFields(this.font,{style:e4v,size:"sz",weight:"wt",family:M4v}))},N9N);};x1l.Drawing.elliottwave.prototype.reconstruct=function(V9N,x9N){var I4v,N4v;I4v="fam";I4v+="il";I4v+="y";N4v="si";N4v+="z";N4v+="e";this.stx=V9N;this.color=x9N.col;this.panelName=x9N.pnl;this.pattern=x9N.ptrn;T5VV.d7Kh();this.lineWidth=x9N.lw;this.font=x1l.replaceFields(x9N.fnt,{st:"style",sz:N4v,wt:"weight",fl:I4v});this.decoration=x9N.decor;this.showLines=x9N.show;this.dx=x9N.dx;this.dy=x9N.dy;this.trend=x9N.trend;this.annotationPoints=x9N.annotations.split(("901" >> 1794642400,4675) >= 5130?(406.85,!1):515 > 729?(584,9560) <= (+"95.75","869.19" - 0)?"i":(0x209b,!"1"):",");if(x9N.decor === "enclosed"){this.calculateRadius(V9N.chart.tempCanvas.context);}this.maxSegments=x9N.mxSeg;this.reconstructPoints(x9N);this.adjust();};x1l.Drawing.elliottwave.prototype.reconstructPoints=function(m9N){var L1bh=T5VV;var M9N,z9N,R9N;M9N=this.stx.panels[this.panelName];if(!M9N){return;}for(var a9N=0;a9N < this.annotationPoints.length;a9N++){L1bh.i3mK(0);this[L1bh.e3mK(a9N,(7091,3732) !== (4719,993.43)?(7064,891.46) != (4430,507.41)?"d":(361,"585.05" - 0) <= 477.44?0x1033:+"0x1e9":("E","0x14a5" & 2147483647))]=m9N[L1bh.e3mK(a9N,(567,2810) < (+"5676",2170)?(2980,864.55) != (6836,"267.73" - 0)?("N",! !{}):!0:"d")];L1bh.i3mK(0);this[L1bh.e3mK(a9N,8070 <= (7600,"2619" - 0)?+"0x1f14":(425,777.34) === +"7130"?0xd8f:"v")]=m9N[L1bh.e3mK(a9N,"v")];L1bh.i3mK(0);this[L1bh.E3mK(a9N,"tzo")]=m9N[L1bh.E3mK(a9N,"tzo")];z9N=x1l.strToDateTime(m9N[(549.88 < 3820?1988 != 849.7?(4236,+"1642") > 8010?"0xe46" >> 1680257952:"d":(!{},8.05e+2):(! !"",9.57e+3)) + a9N]);R9N=this.stx.tickFromDate(z9N,M9N.chart);this.points.push([R9N,m9N[((588.42,233.16) < 8186?(5630,378.28) !== (434.72,5700)?(+"2610",+"7560") != 4400?"v":(0x376,8.17e+3):(! !{},+"326.83"):(9.20e+3,"F")) + a9N]]);}};x1l.Drawing.elliottwave.prototype.calculateRadius=function(A9N){var G3v,m3v,P3v,s9N,T9N;this.getFontString();A9N.font=this.fontString;G3v=- +"669994541";m3v=-1576443193;P3v=2;for(var D3v=1;T5VV.s1v(D3v.toString(),D3v.toString().length,14292) !== G3v;D3v++){s9N=2;P3v+=2;}if(T5VV.s1v(P3v.toString(),P3v.toString().length,31320) !== m3v){s9N=9;}s9N=0;for(var P9N=0;P9N < this.annotationPoints.length;P9N++){T9N=A9N.measureText(this.annotationPoints[P9N]).width;if(s9N < T9N){s9N=T9N;}}this.enclosedRadius=s9N;};x1l.Drawing.elliottwave.prototype.check=function(L9N,I9N,y9N){var D1bh=T5VV;var C9N,l9N,c0v,d0v,q0v;if(y9N === 1 && this.points.length === 2){return ! !{};}D1bh.i3mK(1);C9N=this.points[D1bh.E3mK(1,y9N)];function f9N(r9N){for(var u9N=2;u9N < r9N.length;u9N++){if(Math.sign(r9N[u9N][1] - r9N[u9N - +"1"][1]) == Math.sign(r9N[u9N - 1]["1" - 0] - r9N[u9N - 2][1])){return !{};}}return ! !"1";}if(C9N && L9N <= C9N[0]){return !{};}D1bh.d7Kh();D1bh.i3mK(0);l9N=this.points[D1bh.E3mK(1,y9N)];if(l9N && L9N >= l9N[0]){return !{};}c0v=-458370240;d0v=790439122;q0v=2;for(var h0v=+"1";D1bh.s1v(h0v.toString(),h0v.toString().length,25080) !== c0v;h0v++){if(+f9N(this.points)){return ! !{};}q0v+=2;}if(D1bh.s1v(q0v.toString(),q0v.toString().length,79306) !== d0v){if(-f9N(this.points)){return !"1";}}if(!f9N(this.points)){return ![];}return ! ![];};x1l.Drawing.elliottwave.prototype.move=function(d9N,F9N,Q9N){this.copyConfig();T5VV.d7Kh();T5VV.N3mK(7);var f8uu=T5VV.e3mK(20,14,33);this.points[this.lastPoint + f8uu]=[F9N,Q9N];this.render(d9N);};x1l.Drawing.elliottwave.prototype.adjust=function(){var W9N,b9N;W9N=this.stx.panels[this.panelName];if(!W9N){return;}for(var w9N=0;this.maxSegments + "1" * 1 > w9N;w9N++){T5VV.i3mK(0);b9N=this[T5VV.E3mK(w9N,"d")];this.setPoint(w9N,b9N,this["v" + w9N],W9N.chart);this.points[w9N][0]=this.stx.tickFromDate(x1l.strToDateTime(b9N),W9N.chart);T5VV.i3mK(0);this.points[w9N][1]=this[T5VV.e3mK(w9N,2913 < 5670?"v":128.59)];}};x1l.Drawing.elliottwave.prototype.click=function(Z9N,e9N,X9N){var Y9N;Y9N=this.stx.panels[this.panelName];if(!Y9N){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,e9N,X9N,Y9N.chart);this.points.push(this.p0);this.penDown=! !"1";this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift("0");if(this.decoration === "enclosed"){this.calculateRadius(Z9N);}this.maxSegments=this.annotationPoints.length - ("1" & 2147483647);this.trend=+"1";return !{};}if(this.accidentalClick(e9N,X9N)){this.penDown=! !{};return !"1";}if(this.check(e9N,X9N,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,e9N,X9N,Y9N.chart);if(this.lastPoint === +"1"){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=! !"";return ! !{};}}return !{};};x1l.Drawing.elliottwave.prototype.render=function(J1D){var z1bh=T5VV;var Z4v,O1D,g2D,E2D,o2D,G2D,h2D,i2D,N1D,P1D,j2D,d1D,p1D,F4v,i4v,X1D,H2D,e1D,J2D,c2D,p2D,q2D,o9v,e9v,M9v,K2D,O2D,Y1D,B2D,U2D,D2D,n2D;Z4v="ce";Z4v+="n";Z4v+="t";Z4v+="er";O1D=this.stx.panels[this.panelName];if(!O1D){return;}g2D=this.stx;E2D=this.annotationPoints;o2D=this.pattern?x1l.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();J1D.font=this.fontString;J1D.textAlign=Z4v;J1D.textBaseline="middle";J1D.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(J1D);}this.lastFontString=this.fontString;G2D=this.getLineColor();J1D.fillStyle=J1D.strokeStyle=G2D;J1D.save();J1D.setLineDash(o2D);h2D=this.dx;i2D=this.dy;N1D=this.points;P1D=this.pts;j2D=!this.showLines && this.highlighted;d1D=N1D.length;z1bh.d7Kh();if(this.penDown && this.segment){z1bh.i3mK(105);var D8uu=z1bh.E3mK(1934,11,8,11,2);p1D=this.trend * (d1D % D8uu - 0.5) < 0;if(O1D.yAxis.flipped){p1D=!p1D;}this.drawDropZone(J1D,N1D[d1D - 2][1],this.stx.priceFromPixel(O1D.yAxis[p1D?"top":"bottom"]),N1D[d1D - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){F4v="b";F4v+="o";F4v+="tt";F4v+="om";i4v="to";i4v+="p";X1D=parseInt(this.highlighted.substring(1,this.highlighted.length),10);z1bh.i3mK(106);var y8uu=z1bh.E3mK(5,11,4,10,7);p1D=this.trend * (X1D % y8uu - ("0.5" - 0)) > 0;z1bh.i3mK(76);H2D=N1D[z1bh.e3mK("1",X1D)];z1bh.i3mK(0);e1D=N1D[z1bh.E3mK(1,X1D)];J2D=X1D > "0" >> 1231686912?H2D[1]:e1D[1];if(e1D){J2D=Math[p1D?"max":"min"](J2D,e1D[1]);}if(O1D.yAxis.flipped){p1D=!p1D;}this.drawDropZone(J1D,J2D,this.stx.priceFromPixel(O1D.yAxis[p1D?i4v:F4v]),H2D?H2D[0]:null,e1D?e1D[0]:null);}for(var K1D=0;K1D < d1D;K1D++){c2D=N1D[K1D];p2D=g2D.pixelFromTick(c2D[0],O1D.chart);q2D=g2D.pixelFromValueAdjusted(O1D,c2D[0],c2D[1]);P1D[K1D]=[p2D,q2D];}z1bh.N3mK(53);K1D=z1bh.e3mK("0",238282592);if(this.showLines || j2D){J1D.beginPath();if(j2D){J1D.globalAlpha=0.3;}for(;K1D < P1D.length;K1D++){J1D.lineTo(P1D[K1D]["0" & 2147483647],P1D[K1D][1]);}J1D.stroke();K1D=0;}o9v=-751540229;e9v=+"1530855769";M9v=+"2";for(var I9v=1;z1bh.s1v(I9v.toString(),I9v.toString().length,97372) !== o9v;I9v++){J1D.restore();M9v+=2;}if(z1bh.Y6v(M9v.toString(),M9v.toString().length,33002) !== e9v){J1D.restore();}J1D.restore();for(;K1D < d1D;K1D++){K2D=K1D % 2?h2D:-h2D;O2D=K1D % 2?i2D:-i2D;K2D*=this.trend;O2D*=this.trend;if(O1D.yAxis.flipped){K2D*=-1;O2D*=-1;}Y1D=P1D[K1D];B2D=Y1D[2]=Y1D[0] + K2D;U2D=Y1D[3]=Y1D["1" & 2147483647] + O2D;D2D=this.enclosedRadius || 8;n2D=E2D[K1D];if(this.decoration === "parentheses"){z1bh.i3mK(93);n2D=z1bh.E3mK((8910,994.72) === +"2274"?(4.55e+3,"g"):2530 >= 6750?(0x16fd,8.33e+3):+"2720" !== (3980,378.37)?")":(0x669,768.72),+"5753" < 9536?30.3 <= (814.72,4330)?"(":(! !{},0x2494):("g",7.33e+3),n2D);}J1D.fillText(n2D,B2D,U2D);if(this.decoration === "enclosed"){J1D.beginPath();z1bh.N3mK(53);J1D.arc(B2D,U2D,D2D,z1bh.E3mK("0",1286202944),2 * Math.PI,!"1");J1D.stroke();}if(this.highlighted){J1D.save();this.littleCircle(J1D,this.pts[K1D][0],this.pts[K1D][1],this.highlighted === (255 !== (30,792.36)?"p":! ![]) + K1D);J1D.restore();}}};x1l.Drawing.elliottwave.prototype.reposition=function(z2D,k2D,v2D,N2D){var V2D,a2D,m2D,S2D,x2D,M2D;if(!k2D){return;}T5VV.d7Kh();V2D=this.stx.panels[this.panelName];a2D=k2D.tick - v2D;m2D=k2D.value - N2D;if(k2D.action === "move"){for(var t2D=+"0";k2D.points.length > t2D;t2D++){S2D=k2D.points[t2D];this.setPoint(t2D,S2D[+"0"] - a2D,S2D[1] - m2D,V2D.chart);T5VV.i3mK(107);var k8uu=T5VV.E3mK(19,16,10,493,1);this.points[t2D]=[S2D[+"0"] - a2D,S2D[k8uu] - m2D];}}if(k2D.action === "drag"){x2D=k2D.point;M2D=this.points;M2D[x2D]=[v2D,N2D];if(this.check(v2D,N2D,x2D)){this.setPoint(x2D,v2D,N2D,V2D.chart);;};}this.render(z2D);};x1l.Drawing.elliottwave.prototype.intersected=function(P2D,T2D,A2D){var y2D,s2D;if(!this.p0 || !this.p1){return null;}for(var R2D=0;this.points.length > R2D;R2D++){s2D=this.points[R2D];if(this.pointIntersection(s2D[+"0"],s2D[1],A2D)){T5VV.i3mK(0);this.highlighted=T5VV.e3mK(R2D,(389.26,697.42) != (3830,4560)?"p":4350 == 2480?("h","O"):9.28e+2);return {action:"drag",point:R2D,tick:P2D,value:T2D};}if(this.points[R2D + +"1"] && this.lineIntersection(P2D,T2D,A2D,"segment",s2D,this.points[R2D + 1])){this.highlighted=!"";y2D={action:"move",points:x1l.clone(this.points),tick:P2D,value:T2D};}}return y2D;};x1l.Drawing.elliottwave.prototype.measure=function(){var C2D,f2D,L2D,n4v,l2D;if(this.points.length >= 2){C2D=this.points;this.stx.setMeasure(C2D[0][1],C2D[C2D.length - 1][1],C2D[0][0],C2D[C2D.length - 1][0],! !"1");f2D=this.stx.controls.mSticky;L2D=f2D && f2D.querySelector(".mStickyInterior");if(L2D){n4v="<";n4v+="b";n4v+="r>";l2D=[];l2D.push(x1l.capitalize("Elliott Wave"));if(this.getYValue){l2D.push(this.field || this.stx.defaultPlotField || "Close");}l2D.push(L2D.innerHTML);L2D.innerHTML=l2D.join(n4v);}}};x1l.Drawing.printProjection=function(W2D,h3D,I2D){var S1bh=T5VV;var r2D,d2D,c3D,b2D,K3D,e2D,O3D,X2D,w2D,H3D,Q2D,n3D,J3D,c4v,Z2D,u2D,g3D;r2D=h3D.arr;if(r2D.length > 1){S1bh.i3mK(22);d2D=r2D[0][S1bh.e3mK("0",0)];c3D=Math.round(W2D.chart.maxTicks * ("0.75" * 1));for(var F2D=+"1";F2D < r2D.length;F2D++){S1bh.i3mK(1);b2D=r2D[S1bh.E3mK(1,F2D)][0];K3D=r2D[F2D][0];e2D=x1l.strToDateTime(b2D);O3D=x1l.strToDateTime(K3D).getTime();X2D=W2D.standardMarketIterator(e2D);w2D=0;while(e2D.getTime() < O3D){e2D=X2D.next();w2D+=1;}H3D=x1l.strToDateTime(b2D).getTime();if(H3D > x1l.strToDateTime(I2D[I2D.length - 1].Date).getTime()){Q2D=I2D.length - ("1" ^ 0);w2D+=1;}else {for(Q2D=I2D.length - 1;Q2D >= 0;Q2D--){if(H3D <= x1l.strToDateTime(I2D[Q2D].Date).getTime())break;}}n3D={x0:0,x1:w2D,y0:I2D[Q2D].Close,y1:r2D[F2D][1]};d2D=x1l.strToDateTime(b2D);X2D=W2D.standardMarketIterator(d2D);J3D=!{};for(var Y2D=0;Y2D <= w2D;Y2D++){c4v="m";c4v+="inute";if(!J3D){J3D=! ![];}else {d2D=X2D.next();}if(d2D.getTime() <= I2D[I2D.length - 1].DT.getTime())continue;Z2D=x1l.yIntersection(n3D,Y2D);if(!Z2D){Z2D=+"0";}S1bh.N3mK(108);var C8uu=S1bh.E3mK(90297,8202,9,90288,6);S1bh.N3mK(23);var A8uu=S1bh.e3mK(10015,80135,9);u2D=Math.round(Z2D * ("10000" | C8uu)) / A8uu;if(u2D === 0){u2D=r2D[F2D][1];}g3D={Date:x1l.yyyymmddhhmmssmmm(d2D),DT:d2D,Open:u2D,Close:u2D,High:u2D,Low:u2D,Volume:0,Adj_Close:u2D,Split_Close:u2D,projection:! ![]};if(W2D.layout.interval == c4v)if(c3D-- < 0)break;I2D[I2D.length]=g3D;}}}};}};U2B=j3D=>{T5VV.k7Kh();var i3D;i3D=typeof _CIQ !== "undefined"?_CIQ:j3D.CIQ;if(!i3D.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {i3D.formatEquation=function(q3D){var y1bh=T5VV;var E3D,G3D,B3D,o3D,U3D,T7v,J7v,Q7v;E3D="";G3D=[];B3D="";o3D=!1;for(var p3D=1;p3D < q3D.length;p3D++){U3D=q3D[p3D].toUpperCase();if(U3D == (933 == 764?(686.69,"r"):"[") && !o3D){o3D=! ![];}else if(U3D == ((2815,1520) === ("461.48" * 1,3640)?3040 === (2816,9052)?8.56e+3:"U":"]") && o3D){o3D=! !"";if(B3D !== ""){G3D.push(B3D);y1bh.N3mK(93);E3D+=y1bh.E3mK((9960,1220) <= +"9414"?(502.57,1492) != +"932"?"]":(1614,1350) >= (+"1540",1670)?(! !{},"o"):0x171e:(0xd4d,"n"),"[",B3D);}B3D="";}else if(o3D){B3D+=U3D;}else if(U3D == (+"506" === (1493,3890)?+"475.07":290.61 === (824.14,4636)?![]:"+") || U3D == "-" || U3D == (841.23 < 4770?"*":7318 < 876.64?(! !{},+"53.46"):786.46 > 8021?("B","M"):("c",!"1")) || U3D == "/" || U3D == (4010 == (649.95,7593)?0x17fc:(405,488.03) < 4431?":":("638.29" * 1,+"89.96") !== 5760?409.12:! !{}) || U3D == "%" || U3D == "(" || U3D == ((360,3517) >= 5330?(!1,!0):")")){if(B3D !== "" && isNaN(B3D)){G3D.push(B3D);y1bh.N3mK(93);E3D+=y1bh.E3mK(7630 !== 7689?"]":("3590" << 1780933376,8942) != (818.99,2618)?6870 === (+"551.11",654.8)?9.17e+3:3.86e+3:(9.95e+3,7.60e+2),"[",B3D);}else {E3D+=B3D;}if(U3D == (("5701" << 284388800,184.11) != 989.99?":":6.63e+3)){U3D="/";}E3D+=U3D;B3D="";}else if(U3D != (("3560" | 1512,7.47) < 9480?2134 >= "8460" * 1?1040 != 235.33?(230.10,! !1):(1.25e+3,84.58):" ":! !{})){B3D+=U3D;}}if(B3D !== "" && isNaN(B3D)){G3D.push(B3D);y1bh.N3mK(93);E3D+=y1bh.E3mK(266.22 !== (550.51,1803)?"]":+"0x943","[",B3D);}else {E3D+=B3D;}T7v=465169327;J7v=+"2081150152";Q7v=2;for(var l7v=+"1";y1bh.Y6v(l7v.toString(),l7v.toString().length,44040) !== T7v;l7v++){return {equation:E3D,symbols:G3D};}if(y1bh.Y6v(Q7v.toString(),Q7v.toString().length,74025) !== J7v){return {equation:E3D,symbols:G3D};}};i3D.fetchEquationChart=function(D3D,V3D){var S3D,v3D,N3D,x3D,t3D;S3D=i3D.formatEquation(D3D.symbol);v3D=S3D.symbols;N3D=[];x3D=D3D.stx;D3D.stx=null;for(var k3D=+"0";k3D < v3D.length;k3D++){t3D=i3D.shallowClone(D3D);t3D.stx=x3D;t3D.symbol=v3D[k3D];t3D.symbolObject={symbol:v3D[k3D]};N3D.push(t3D);}D3D.stx=x3D;x3D.quoteDriver.multiFetch(N3D,function(P3D){var R3D,a3D,m3D,M3D,T3D;R3D={};D3D.loadMoreReplace=!0;a3D={charge:0};for(var z3D=0;z3D < P3D.length;z3D++){m3D=P3D[z3D];if(m3D.dataCallback.error){V3D({error:m3D.dataCallback.error});return;}R3D[m3D.params.symbol]=m3D.dataCallback.quotes;D3D.loadMoreReplace=D3D.loadMoreReplace && m3D.params.loadMoreReplace;D3D.moreToLoad=D3D.moreToLoad || m3D.dataCallback.moreAvailable;M3D=m3D.dataCallback.attribution;if(M3D){if(M3D.charge){a3D.charge+=M3D.charge;}a3D.source=M3D.source;if(a3D.exchange === undefined){a3D.exchange=M3D.exchange;}else if(a3D.exchange != M3D.exchange){a3D.exchange="";};}}if(N3D.length || !(D3D.loadMore || D3D.update)){try{T3D=i3D.computeEquationChart(S3D.equation,R3D);V3D({quotes:T3D,moreAvailable:D3D.moreToLoad,attribution:a3D});}catch(A3D){var d4v,s3D;d4v="Invalid equatio";d4v+="n: ";s3D={error:d4v + S3D.equation};if(A3D.name && A3D.name == "NoException"){s3D.suppressAlert=! !1;}V3D(s3D);}}});};}};E2B=C3D=>{var y3D;y3D=typeof _CIQ !== "undefined"?_CIQ:C3D.CIQ;if(!y3D.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!y3D.Marker.Performance){y3D.ChartEngine.prototype.removeDOMMarker=function(l3D){T5VV.k7Kh();var q4v;q4v="CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Plea";q4v+="se use CIQ.Marker.Perfo";q4v+="rmance#remove instead.";console.warn(q4v);y3D.Marker.Performance.prototype.removeDOMMarker.call(l3D.params.node,l3D);};y3D.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");y3D.Marker.Performance.drawMarkers(this);};y3D.ChartEngine.prototype.calculateMarkerStyles=function(L3D,f3D){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");T5VV.d7Kh();y3D.Marker.Performance.calculateMarkerStyles(this,L3D,f3D);};y3D.ChartEngine.prototype.drawCircleMarker=function(I3D,u3D,r3D){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");T5VV.d7Kh();y3D.Marker.Performance.drawCircleMarker(I3D,u3D,r3D);};y3D.ChartEngine.prototype.drawSquareMarker=function(d3D,F3D,Q3D){var b4v;b4v="CIQ.ChartEn";b4v+="gine#drawSquareMarker is sched";b4v+="uled for depreca";b4v+="tion in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.";console.warn(b4v);T5VV.d7Kh();y3D.Marker.Performance.drawSquareMarker(d3D,F3D,Q3D);};y3D.ChartEngine.prototype.drawCalloutMarker=function(w3D,W3D,b3D){T5VV.d7Kh();console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");y3D.Marker.Performance.drawCalloutMarker(w3D,W3D,b3D);};y3D.ChartEngine.prototype.drawMarkerStem=function(e3D,X3D,Y3D){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");y3D.Marker.Performance.drawMarkerStem(e3D,X3D,Y3D);};y3D.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");y3D.Marker.Performance.drawMarkers(this);};y3D.Marker.Performance=function(K4D){var B4v,E4v,z4v,h4v,c4D,Z3D,n4D,j4D,O4D,i4D,U4D,G4v,E4D;B4v="callo";B4v+="ut";E4v="<";E4v+="/";E4v+="di";E4v+="v>";z4v="<div class=\"stx-marker stx-perfor";z4v+="mance-marker stx-marker-expand\"><h4></h4><p></p></div>";h4v="<di";h4v+="v clas";h4v+="s=\"stx-marker highligh";h4v+="t\">";this.params={displayCategory:!"",displayStem:! ![],invert:!{},story:"",headline:""};y3D.extend(this.params,K4D);c4D=this.template=document.createElement("TEMPLATE");T5VV.N3mK(109);c4D.innerHTML=T5VV.e3mK('<div class="stx-marker-content">','<div class="stx-visual">',"</div>",z4v,E4v,h4v,'<div class="stx-stem"></div>',"</div>");Z3D=this.template.content.cloneNode(! !1);n4D=Z3D.querySelector(".stx-marker",c4D);n4D.classList.add(K4D.type);n4D.classList.add(K4D.category);j4D=Z3D.querySelector(".stx-visual",c4D);O4D=Z3D.querySelector(".stx-marker-expand");i4D=Z3D.querySelector("h4",c4D);U4D=Z3D.querySelector((916.72,6540) != 8990?"p":(!{},"Z"),c4D);i4D.innerText=this.params.headline;U4D.innerText=this.params.story;this.hasText=! !K4D.headline || ! !K4D.story;this.deferAttach=!0;this.node=Z3D.firstChild;this.node.params=this.params;this.visual=j4D;this.expand=O4D;if(K4D.type === B4v){G4v=".";G4v+="stx-marker-content";E4D=O4D.removeChild(i4D);Z3D.querySelector(G4v,c4D).insertBefore(E4D,O4D);}};y3D.inheritsFrom(y3D.Marker.Performance,y3D.Marker.NodeCreator,!1);y3D.Marker.Performance.consolidateExpanded=function(V4D){var q4D,D4D,v4D,m4v,S4D,x4D;q4D=V4D.markerHelper.highlighted;if(!q4D.length){return;}T5VV.i3mK(16);var W8uu=T5VV.e3mK(3,2);D4D=q4D[q4D.length - W8uu];v4D=D4D.params.node;if(!D4D.consolidated){D4D.consolidated=[];}for(var t4D=q4D.length - 2;t4D >= 0;t4D--){m4v="</c";m4v+="on";m4v+="solidated";m4v+=">";S4D=M4D(q4D[t4D]);T5VV.N3mK(93);x4D=T5VV.E3mK(m4v,"<consolidated>",S4D);if(S4D.length){v4D.expand.innerHTML+=x4D;}}function M4D(A4D){var s4D,z4D,T4D;s4D=A4D.params.node;z4D=s4D.expand;if(!z4D){return "";}T4D=z4D.style.display !== "none"?z4D.innerHTML:"";return T4D;}D4D.stxNodeCreator.quickCache(D4D);};y3D.Marker.Performance.reconstituteExpanded=function(c7D){var L4D,g7D,h7D,Z4D;L4D=c7D.markerHelper.highlighted;if(!L4D.length || !c7D.activeMarker){return;}L4D=[c7D.activeMarker];for(var f4D=L4D.length - 1;f4D >= 0;f4D--){g7D=L4D[f4D];h7D=g7D.params.node;Z4D=h7D.expand;while(Z4D.lastElementChild.nodeName === "CONSOLIDATED"){Z4D.removeChild(Z4D.lastElementChild);}}};y3D.Marker.Performance.drawMarkers=function(S7D){var k7D,j7D,G7D,q7D,m7D,z7D;k7D=S7D.getMarkerArray("all");T5VV.d7Kh();j7D=S7D.chart;for(var U7D=+"0";U7D < k7D.length;U7D++){G7D=k7D[U7D];q7D=G7D.stxNodeCreator;m7D=j7D.dataSegment[0].tick;z7D=j7D.dataSegment[j7D.dataSegment.length - 1].tick;if(m7D <= G7D.tick <= z7D){if(q7D && q7D.drawMarker){q7D.drawMarker(G7D);}}}};y3D.Marker.Performance.calculateMarkerStyles=function(e7D,H6D,i6D){var f7D,c6D,P4v,h6D;f7D=document.querySelector(".stx-marker-templates");if(!f7D){f7D=document.createElement("DIV");f7D.style.visibility="hidden";f7D.style.left="-1000px";document.body.append(f7D);}f7D.appendChild(H6D.node);c6D=getComputedStyle(H6D.stxNodeCreator.visual);if(!e7D.styles.stx_marker_stem){P4v=".st";P4v+="x";P4v+="-ste";P4v+="m";h6D=getComputedStyle(document.querySelector(P4v,H6D.node));e7D.styles.stx_marker_stem=e7D.cloneStyle(h6D);}e7D.styles[i6D]=e7D.cloneStyle(c6D);f7D.removeChild(H6D.node);};y3D.Marker.Performance.drawCircleMarker=function(G6D,R6D,B6D){var f4v,x6D,M6D,j6D,E6D,o6D,q6D,t6D,v6D,k4v,y4v,D4v;f4v="n";f4v+="ormal bold 12px Roboto, Helvetica, sans-serif";x6D=G6D.params.stx;M6D=x6D.chart;j6D=M6D.context;E6D=B6D.x;o6D=B6D.y;q6D=B6D.radius;t6D=B6D.label;v6D=B6D.color?B6D.color:R6D.backgroundColor;j6D.beginPath();j6D.setLineDash([]);j6D.lineWidth=1;j6D.fillStyle=v6D;j6D.strokeStyle=v6D;j6D.font=f4v;j6D.arc(E6D,o6D,q6D,0,2 * Math.PI,![]);j6D.fill();j6D.stroke();j6D.closePath();if(t6D){k4v="whi";k4v+="te";y4v="b";y4v+="l";y4v+="ack";D4v="w";D4v+="hite";j6D.fillStyle=y3D.colorsEqual(D4v,j6D.fillStyle)?y4v:k4v;j6D.fillText(t6D.charAt(0).toUpperCase(),E6D - 4,o6D + 1);}T5VV.d7Kh();if(G6D.highlight || G6D.active){j6D.beginPath();T5VV.i3mK(0);j6D.arc(E6D,o6D,T5VV.E3mK(4,q6D),0,2 * Math.PI,! !"");j6D.stroke();j6D.closePath();}};y3D.Marker.Performance.drawSquareMarker=function(f6D,b6D,T6D){var o1bh=T5VV;var C4v,Q6D,W6D,s6D,l6D,L6D,A6D,I6D,u6D,C6D,n7v,c7v,d7v,A4v;C4v="normal bold 12px Roboto, Helve";C4v+="ti";C4v+="ca, sans-s";C4v+="erif";Q6D=f6D.params.stx;W6D=Q6D.chart;s6D=W6D.context;l6D=T6D.x;L6D=T6D.y;A6D=T6D.half;I6D=T6D.label;u6D=T6D.color?T6D.color:b6D.backgroundColor;o1bh.i3mK(5);C6D=o1bh.E3mK(2,A6D);s6D.beginPath();s6D.setLineDash([]);s6D.lineWidth=1;s6D.fillStyle=u6D;s6D.strokeStyle=u6D;s6D.font=C4v;o1bh.N3mK(1);s6D.rect(o1bh.e3mK(A6D,l6D),o1bh.E3mK(A6D,L6D),C6D,C6D);s6D.fill();if(f6D.highlight || f6D.active){o1bh.N3mK(110);s6D.rect(o1bh.e3mK(A6D,"4",l6D),o1bh.E3mK(A6D,L6D,4,o1bh.i3mK(14)),o1bh.e3mK(8,C6D,o1bh.i3mK(0)),o1bh.E3mK(8,C6D,o1bh.i3mK(0)));}s6D.stroke();s6D.closePath();if(I6D){n7v=1566665682;c7v=- +"920316284";d7v=2;for(var b7v=+"1";o1bh.Y6v(b7v.toString(),b7v.toString().length,+"87570") !== n7v;b7v++){s6D.fillStyle=y3D.colorsEqual("black",s6D.fillStyle)?"white":"white";d7v+=2;}if(o1bh.Y6v(d7v.toString(),d7v.toString().length,67134) !== c7v){A4v="wh";A4v+="i";A4v+="te";s6D.fillStyle=y3D.colorsEqual("white",s6D.fillStyle)?"black":A4v;}s6D.fillText(I6D.charAt(0).toUpperCase(),l6D - 4,L6D + 1);}};y3D.Marker.Performance.drawCalloutMarker=function(Z9D,U2L,p9D){var Y6bh=T5VV;var J4v,T4v,g4v,W4v,i2L,j2L,Z6D,X9D,E2L,J2L,c2L,K2L,O2L,n2L,B2L,H2L,g2L,h2L;J4v="bla";J4v+="ck";T4v="r";T4v+="g";T4v+="ba(255,25";Y6bh.k7Kh();T4v+="5,255,0.65)";g4v="r";g4v+="gba(255,255,";g4v+="255,0.8)";W4v="normal bold 12px Roboto, Helvetica, sans-ser";W4v+="if";i2L=Z9D.params.stx;j2L=i2L.chart;Z6D=j2L.context;X9D=Z9D.params;E2L=p9D.x;J2L=p9D.y;c2L=p9D.half;K2L=p9D.midWidth;O2L=p9D.headline;n2L=p9D.color?p9D.color:U2L.backgroundColor;B2L=c2L * 2 || 25;H2L=Math.round(Z6D.measureText(O2L).width);g2L=K2L?K2L * 2:H2L + 8;Z6D.beginPath();Z6D.setLineDash([]);Y6bh.i3mK(22);Z6D.lineWidth=Y6bh.E3mK("1",0);Z6D.fillStyle=n2L;Z6D.strokeStyle=n2L;Z6D.font=W4v;Z6D.rect(X9D.box.x0,X9D.box.y0,g2L,B2L);Z6D.fill();Z6D.stroke();Z6D.closePath();Z6D.beginPath();Z6D.fillStyle=Z9D.highlight || Z9D.active?g4v:T4v;Y6bh.i3mK(111);h2L=Y6bh.E3mK(20,g2L,"2",H2L,0);Z6D.rect(X9D.box.x0 + h2L,J2L - c2L,H2L + +"40",22);Z6D.fill();Z6D.stroke();Z6D.closePath();Z6D.fillStyle=J4v;Z6D.fillText(O2L,X9D.box.x0 + h2L + 10,J2L);};y3D.Marker.Performance.drawMarkerStem=function(G2L,k2L,p2L){var t2L,S2L,o2L,q2L,x2L,O1v,a1v,u1v,D2L,v2L,N2L;t2L=G2L.params.stx;S2L=t2L.chart;o2L=S2L.context;q2L=p2L.x;x2L=p2L.y;o2L.beginPath();O1v=1312298356;a1v=- +"441865939";u1v=2;for(var p1v=1;T5VV.s1v(p1v.toString(),p1v.toString().length,24930) !== O1v;p1v++){o2L.strokeStyle=k2L.borderLeftColor;o2L.setLineDash([1,1]);T5VV.i3mK(53);u1v+=T5VV.e3mK("2",1009288064);}if(T5VV.s1v(u1v.toString(),u1v.toString().length,+"55979") !== a1v){o2L.strokeStyle=k2L.borderLeftColor;o2L.setLineDash([4,2]);}D2L=y3D.stripPX(k2L.height);v2L=p2L.invert?G2L.params.box.y0:G2L.params.box.y1;N2L=p2L.invert?G2L.params.box.y0 - D2L:G2L.params.box.y1 + D2L;o2L.moveTo(q2L,v2L);o2L.lineTo(q2L,N2L);o2L.stroke();o2L.closePath();};y3D.Marker.Performance.prototype.drawMarker=function(V2L){var X6bh=T5VV;var C2L,m2L,d2L,F2L,I2L,M2L,P2L,T2L,Q2L,u2L,l2L,r2L,L2L,z2L,f2L,a2L,A2L,y2L,w2L,W2L,R2L,s2L;C2L=V2L.params;m2L=V2L.params.stx;if(!m2L){return;}d2L=m2L.chart;F2L=d2L.dataSegment;if(!F2L.length){return;}I2L=m2L.panels[V2L.params.panelName];M2L=V2L.stxNodeCreator.params;P2L=M2L.type;T2L=M2L.category;Q2L=M2L.headline;u2L=M2L.displayCategory;l2L=M2L.color;r2L=M2L.invert;X6bh.N3mK(112);L2L=X6bh.e3mK(T2L,5631 >= (6620,3265)?"_":141.56 != (8080,9605)?5609 >= 940.17?"t":(906.01,591.76):(0x29f,! !"1"),"stx_marker_",P2L);if(!m2L.styles[L2L]){y3D.Marker.Performance.calculateMarkerStyles(m2L,V2L,L2L);}z2L=V2L.style=m2L.styles[L2L];f2L=m2L.styles.stx_marker_stem;X6bh.N3mK(113);var g8uu=X6bh.E3mK(6,2,16,2,8);X6bh.i3mK(56);var T8uu=X6bh.E3mK(86,6,14);a2L=parseInt(z2L.height,g8uu) / T8uu;X6bh.N3mK(0);var J8uu=X6bh.E3mK(1,1);A2L=parseInt(z2L.width,+"10") / J8uu;y2L=M2L.displayStem?parseInt(f2L.height,10) + parseInt(f2L.marginBottom,10):"0" << 1239374880;X6bh.N3mK(114);var Q8uu=X6bh.E3mK(2,1,8,9,4);w2L=y2L + parseInt(z2L.height,Q8uu);W2L=y2L?y2L + a2L:0;R2L=m2L.pixelFromDate(C2L.x);s2L=C2L.node.calculateYPosition({marker:V2L,panel:I2L,height:w2L,half:a2L,offset:W2L,inverted:r2L});if(!V2L.tick && V2L.tick !== 0){return;}C2L.box={x0:R2L - (A2L || a2L),y0:s2L - a2L,x1:R2L + (A2L || a2L),y1:s2L + a2L,midY:a2L,midX:A2L || a2L,stemHeight:y2L};if(!u2L){T2L=u2L;}m2L.startClip(I2L.name);if(P2L === "circle"){y3D.Marker.Performance.drawCircleMarker(V2L,z2L,{x:R2L,y:s2L,radius:a2L,label:T2L,color:l2L});}else if(P2L === "square"){y3D.Marker.Performance.drawSquareMarker(V2L,z2L,{x:R2L,y:s2L,half:a2L,label:T2L,color:l2L});}else if(P2L === "callout"){y3D.Marker.Performance.drawCalloutMarker(V2L,z2L,{x:R2L,y:s2L,half:a2L,midWidth:A2L,headline:Q2L,color:l2L});}else {X6bh.N3mK(93);console.warn(X6bh.E3mK(" is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.","Marker type: ",P2L));}if(M2L.displayStem){y3D.Marker.Performance.drawMarkerStem(V2L,f2L,{x:R2L,y:s2L,invert:r2L});}m2L.endClip();if(V2L.attached){this.positionPopUpNode(V2L);}};y3D.Marker.Performance.prototype.positionPopUpNode=function(e2L){var d6bh=T5VV;var Q4v,c3L,Y2L,b2L,K3L,H3L,X2L,O3L,j3L,B3L,U3L,E3L,n3L,Z2L,i3L,g3L,J3L,y3v,k3v,C3v,h3L,o3L;Q4v="tr";Q4v+="a";Q4v+="nslateX(";if(!e2L.attached || !e2L.params.box){return;}c3L=e2L.params;Y2L=c3L.stx;b2L=c3L.box;K3L=e2L.params.node.expand;H3L=Y2L.chart.dataSet;X2L=Y2L.chart.dataSegment;if(e2L.tick){j3L=[H3L[X2L[0] && X2L[0].tick - 1],H3L[X2L[0] && X2L[0].tick - 2]];B3L=Y2L.getFirstLastDataRecord(j3L.concat(X2L),"Date");d6bh.N3mK(0);var R8uu=d6bh.e3mK(1,0);d6bh.i3mK(113);var l8uu=d6bh.E3mK(19,323,6,6,17);d6bh.N3mK(16);var r8uu=d6bh.e3mK(12,11);d6bh.i3mK(34);var K8uu=d6bh.E3mK(13,15,301,8);U3L=[H3L[X2L[X2L.length - R8uu].tick + l8uu],H3L[X2L[X2L.length - r8uu].tick + K8uu]];E3L=Y2L.getFirstLastDataRecord(X2L.concat(U3L),"Date",! !"1");O3L=B3L.DT <= H3L[e2L.tick].DT && H3L[e2L.tick].DT <= E3L.DT;}else {O3L=! !"";}if(!e2L.highlight && !e2L.active){O3L=![];}K3L.style.visibility=O3L?"":"hidden";if(!O3L){return;}n3L=Y2L.panels[c3L.panelName];Z2L=K3L.rects;i3L=Z2L.height / ("2" ^ 0);J3L=e2L.node.params.infoOffset || 0;d6bh.k7Kh();if(e2L.node.params.infoOnLeft){g3L=b2L.x0 - Z2L.width - J3L < n3L.left?b2L.x1 + J3L:b2L.x0 - Z2L.width - J3L;}else {y3v=-1652632372;k3v=760524195;d6bh.i3mK(26);C3v=d6bh.E3mK("2",0);for(var W3v=1;d6bh.Y6v(W3v.toString(),W3v.toString().length,50429) !== y3v;W3v++){g3L=b2L.x0 + Z2L.width > n3L.right?b2L.x0 - Z2L.width - J3L:b2L.x1 + J3L;C3v+=2;}if(d6bh.Y6v(C3v.toString(),C3v.toString().length,+"65202") !== k3v){g3L=b2L.x0 - Z2L.width <= n3L.right?(b2L.x0 + Z2L.width) / J3L:b2L.x1 - J3L;}}g3L-=Y2L.chart.left;h3L=b2L.y0 - i3L >= n3L.top?b2L.y0 + b2L.midY - i3L:b2L.y0;if(!c3L.avoidFlush && b2L.y1 + b2L.stemHeight === n3L.yAxis.bottom && Z2L.height > b2L.y1 - b2L.y0 + b2L.stemHeight){h3L=b2L.y1 - Z2L.height + b2L.stemHeight;}h3L-=Y2L.chart.panel.top;o3L=Q4v + Math.floor(g3L) + "px) translateY(" + Math.floor(h3L) + "px) translateZ(0)";K3L.style.transform=o3L;K3L.transform={translateX:g3L,translateY:h3L};};y3D.Marker.Performance.prototype.quickCache=function(q3L){var D3L,G3L,p3L,k3L;D3L=q3L.params.node;T5VV.k7Kh();G3L=D3L.expand;p3L=q3L.style;k3L=y3D.stripPX(p3L.marginLeft) + y3D.stripPX(p3L.marginRight) + y3D.stripPX(p3L.borderRight) + y3D.stripPX(p3L.borderLeft);G3L.rects=G3L.getBoundingClientRect();G3L.scrollBarWidth=G3L.rects.width - G3L.clientWidth - k3L;};y3D.Marker.Performance.prototype.calculateYPosition=function(a3L){var R4v,V3L,S3L,z3L,m3L,x3L,R3L,v3L,s3L,P3L,N3L,M3L,T3L,t3L,A3L,y3L;R4v="abo";R4v+="ve_candle";V3L=a3L.marker;S3L=a3L.panel;T5VV.d7Kh();z3L=a3L.height;m3L=a3L.half;x3L=a3L.offset;R3L=a3L.inverted;v3L=V3L.params.stx;s3L=v3L.chart;P3L=v3L.chart.highLowBars;N3L=s3L.dataSet[V3L.tick];if(!N3L){return;}M3L=P3L?N3L.High:N3L.Close;T3L=V3L.params.yPositioner;switch(T3L){case "value":if(V3L.params.y || V3L.params.y === "0" * 1){t3L=v3L.pixelFromPrice(V3L.params.y,S3L) - z3L * 0.5 + m3L;}else {t3L=v3L.pixelFromPrice(M3L,S3L) - x3L;}break;case R4v:t3L=v3L.pixelFromPrice(M3L,S3L) - x3L;break;case "below_candle":t3L=v3L.pixelFromPrice(N3L.Low || M3L,S3L);if(R3L && x3L){t3L+=x3L;}else {t3L+=m3L;}break;case "on_candle":(A3L=N3L.High || N3L.Close,y3L=N3L.Low || N3L.Low === 0 || N3L.Close);T5VV.i3mK(16);var V8uu=T5VV.e3mK(9,7);t3L=v3L.pixelFromPrice((A3L + y3L) / V8uu,S3L) - z3L * +"0.5" + m3L;break;case "top":t3L=v3L.pixelFromPrice(S3L.yAxis.high,S3L);if(R3L && x3L){t3L+=x3L;}else {t3L+=m3L;}break;case "bottom":t3L=v3L.pixelFromPrice(S3L.yAxis.low,S3L) - (x3L || m3L);break;default:break;}return t3L;};y3D.Marker.Performance.prototype.prepareForHolder=function(l3L){var C3L,L3L;C3L=this.expand;L3L=l3L.params.stx;C3L.classList.add(this.params.type);T5VV.k7Kh();L3L.markerHelper.domMarkers.push(l3L);return C3L;};y3D.Marker.Performance.prototype.addToHolder=function(u3L){var l4v,I3L,f3L;l4v="mo";function r3L(d3L){f3L.activeMarker=u3L;f3L.activeMarker.click({cx:d3L.clientX,cy:d3L.clientY,panel:f3L.currentPanel});d3L.stopPropagation();}l4v+="used";l4v+="own";I3L=this.expand;f3L=u3L.params.stx;y3D.Marker.Performance.reconstituteExpanded(f3L);y3D.Marker.Performance.consolidateExpanded(f3L);this.quickCache(u3L);if(I3L.clickClosure){return;}I3L.addEventListener(l4v,r3L);I3L.addEventListener("touchstart",r3L);I3L.clickClosure=r3L;};y3D.Marker.Performance.prototype.remove=function(Q3L){var F3L,W3L,r4v,b3L,w3L;F3L=Q3L.params.stx;if(!F3L){return;}if(!F3L.markerHelper.domMarkers){return;}W3L=F3L.markerHelper.domMarkers.indexOf(Q3L);if(W3L != -1){F3L.markerHelper.domMarkers.splice(W3L,1);}if(Q3L.attached){r4v="clic";r4v+="k";b3L=F3L.panels[Q3L.params.panelName];w3L=Q3L.params.node.expand;if(w3L.parentNode === b3L.subholder){b3L.subholder.removeChild(w3L);}w3L.removeEventListener(r4v,w3L.clickClosure);}};y3D.Marker.Performance.prototype.click=function(H5L){var Y3L,J5L,X3L;if(!this.hasText){return;}if(typeof arguments["0" >> 2104374656] === "number"){H5L={cx:arguments[0],cy:arguments[1],marker:arguments["2" << 1739162176],panel:arguments[3]};}var {cx:Z3L, cy:c5L, marker:e3L, panel:K5L}=H5L;Y3L=e3L.params.stx;if(e3L.attached){X3L=this.expand;if(X3L.rects.width - X3L.scrollBarWidth + X3L.transform.translateX < Y3L.backOutX(Z3L) && Y3L.backOutX(Z3L) < X3L.rects.width + X3L.transform.translateX){return;}this.remove(e3L);}else {Y3L.addToHolder(e3L);J5L=! ![];}e3L.attached=!e3L.attached;e3L.active=!e3L.active;if(J5L){e3L.stxNodeCreator.positionPopUpNode(e3L);}};}};o2B=n5L=>{var O5L;O5L=typeof _CIQ !== "undefined"?_CIQ:n5L.CIQ;O5L.Renderer.OHLC.requestNew=function(p5L,g5L){var h5L,j5L,B5L,U5L,E5L,o5L,K4v,G5L;h5L=null;j5L=g5L.hlc;B5L=g5L.colored;U5L=g5L.hollow;E5L=g5L.volume;o5L=g5L.histogram;for(var i5L=0;i5L < p5L.length;i5L++){K4v="b";K4v+="ar";G5L=p5L[i5L];switch(G5L){case K4v:case "candle":h5L=G5L;break;case "volume":E5L=! ![];break;case "hollow":U5L=! ![];break;case "colored":B5L=! !{};break;case "histogram":o5L=! !"1";h5L="candle";break;case "hlc":j5L=! !"1";h5L="bar";break;default:return null;}}T5VV.d7Kh();if(h5L === null){return null;}return new O5L.Renderer.OHLC({params:O5L.extend(g5L,{type:h5L,hlc:j5L,colored:B5L,hollow:U5L,volume:E5L,histogram:o5L})});};O5L.Renderer.OHLC.getChartParts=function(x5L,N5L){var d8v,c8v,n8v,F8v,i8v,Z8v,I8v,N8v,M8v,e8v,o8v,j8v,x8v,L8v,t8v,w8v,S8v,U8v,v8v,H8v,s8v,Y4v,p4v,X4v,u4v,a4v,O4v,V4v,k5L,t5L,S5L,q5L,D5L,v5L;d8v="border_color_e";d8v+="ven";c8v="b";c8v+="or";c8v+="d";c8v+="er_color_up";n8v="fil";n8v+="l_co";n8v+="lor_";n8v+="up";F8v="s";F8v+="tx_hollow_ca";F8v+="ndle_even";i8v="cand";i8v+="l";i8v+="e";Z8v="b";Z8v+="ord";Z8v+="er_color_down";I8v="fill_c";I8v+="olor_down";N8v="border_c";N8v+="olo";N8v+="r_";N8v+="up";M8v="border_c";M8v+="ol";M8v+="or_down";e8v="cand";e8v+="l";e8v+="e";o8v="border_color_eve";o8v+="n";j8v="cand";j8v+="le";x8v="stx_c";x8v+="a";x8v+="ndle_shad";x8v+="ow_down";L8v="b";L8v+="order_color_up";t8v="b";t8v+="order_";t8v+="color_dow";t8v+="n";w8v="stx_";w8v+="bar";w8v+="_down";S8v="b";S8v+="a";S8v+="r";U8v="ba";U8v+="r";v8v="borde";v8v+="r_color";H8v="stx";H8v+="_bar_chart";s8v="b";s8v+="a";s8v+="r";Y4v="border_color_";Y4v+="even";p4v="stx_";p4v+="histo";p4v+="gra";p4v+="m_even";X4v="h";X4v+="istog";X4v+="ram";u4v="b";u4v+="order_color_up";a4v="fill";a4v+="_color";a4v+="_up";O4v="st";O4v+="x_histogr";O4v+="am";O4v+="_up";V4v="h";V4v+="ist";V4v+="o";V4v+="gram";k5L=1;t5L=2;S5L=4;T5VV.N3mK(22);q5L=T5VV.E3mK("8",0);D5L=+"16";v5L=32;return [{type:V4v,drawType:"histogram",style:O4v,condition:q5L,fill:a4v,border:u4v,useColorInMap:! ![],useBorderStyleProp:! !{}},{type:X4v,drawType:"histogram",style:"stx_histogram_down",condition:D5L,fill:"fill_color_down",border:"border_color_down",useColorInMap:! ![],useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:p4v,condition:v5L,fill:"fill_color_even",border:Y4v,skipIfPass:! !1,useColorInMap:! !{},useBorderStyleProp:! !"1"},{type:"bar",drawType:s8v,style:x5L || H8v,border:v8v,useColorInMap:! ![]},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:N5L?q5L:k5L,border:"border_color_up",useColorInMap:! ![]},{type:U8v,drawType:S8v,style:w8v,condition:N5L?D5L:t5L,border:t8v,useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_even",condition:N5L?v5L:S5L,border:"border_color_even",skipIfPass:!0,useColorInMap:!0},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:q5L,border:L8v},{type:"candle",drawType:"shadow",style:x8v,condition:D5L,border:"border_color_down"},{type:j8v,drawType:"shadow",style:"stx_candle_shadow_even",condition:v5L,border:o8v,skipIfPass:! !1},{type:e8v,drawType:"candle",style:"stx_candle_up",condition:q5L,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !"1",useBorderStyleProp:! !1},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:D5L,fill:"fill_color_down",border:M8v,useColorInMap:! ![],useBorderStyleProp:! !{}},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:k5L,border:N8v},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:t5L,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:S5L,border:"border_color_even",skipIfPass:! !1},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:k5L | D5L,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !{}},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:t5L | D5L,fill:I8v,border:Z8v,useColorInMap:!0},{type:"hollow",drawType:i8v,style:F8v,condition:S5L | D5L,fill:"fill_color_even",border:"border_color_even",skipIfPass:! ![],useColorInMap:! !1},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:k5L | q5L,fill:n8v,border:c8v},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:t5L | q5L,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:S5L | q5L,fill:"fill_color_even",border:d8v}];;};O5L.Renderer.Bars=function(a5L){var V5L;this.construct(a5L);V5L=this.params;V5L.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];V5L.hlc=V5L.volume=V5L.hollow=V5L.histogram=! !0;};O5L.inheritsFrom(O5L.Renderer.Bars,O5L.Renderer.OHLC,!1);O5L.Renderer.HLC=function(M5L){var m5L;this.construct(M5L);m5L=this.params;m5L.type="bar";m5L.hlc=! !{};this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !"1";m5L.volume=m5L.hollow=m5L.histogram=![];};O5L.inheritsFrom(O5L.Renderer.HLC,O5L.Renderer.Bars,!{});T5VV.d7Kh();O5L.Renderer.Shading=function(z5L){var b3v,h3v,z3v;b3v=-430151867;h3v=-914797189;z3v=2;for(var B3v=1;T5VV.Y6v(B3v.toString(),B3v.toString().length,"74739" | 74323) !== b3v;B3v++){this.construct(z5L);this.beenSetup=! !0;this.errTimeout=null;this.params.useChartLegend=!1;z3v+=2;}if(T5VV.Y6v(z3v.toString(),z3v.toString().length,45856) !== h3v){this.construct(z5L);this.beenSetup=! !"1";this.errTimeout=1;this.params.useChartLegend=!"";}this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=! !"1";}};O5L.inheritsFrom(O5L.Renderer.Shading,O5L.Renderer.Lines,!"1");O5L.Renderer.Shading.requestNew=function(A5L,y5L){var R5L,P5L,q8v,T5L;R5L=null;P5L=null;for(var s5L=0;s5L < A5L.length;s5L++){q8v="rang";q8v+="echannel";T5L=A5L[s5L];if(T5L == q8v){R5L="rangechannel";}else if(T5L == "step"){P5L=!"";}}if(R5L === null){return null;}return new O5L.Renderer.Shading({params:O5L.extend(y5L,{type:R5L,step:P5L})});};O5L.Renderer.Shading.prototype.setShading=function(C5L){T5VV.k7Kh();if(C5L.constructor != Array){C5L=[C5L];}this.shading=C5L;};O5L.Renderer.Shading.prototype.draw=function(){var E8v,b8v,I5L,l5L,u5L,h8v,Y5L,d5L,Z5L,w5L,z8v,H8L,r5L,f5L,W5L,G8v,B8v,b5L,J8L,m8v,L5L,Q5L,e5L,X5L,F5L;E8v="range";T5VV.k7Kh();E8v+="channel";b8v="ran";b8v+="ge";b8v+="ch";b8v+="annel";I5L=this.stx;l5L=this.params;u5L=I5L.panels[l5L.panel].chart;function c8L(n8L){var K8L,g8L,O8L;K8L=r5L[n8L];if(K8L){g8L=K8L.parameters.field;O8L=K8L.parameters.subField;T5VV.N3mK(0);return T5VV.e3mK(O8L?((320.13,762.06) < (6813,162)?("5841" & 2147483647) > (1570,1836)?("U",453.22):(![],8.25e+3):".") + O8L:"",g8L);}return n8L;}if(l5L.type == b8v){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams["2" & 2147483647].id);}}else {h8v="st";h8v+="x_line_up";this.beenSetup=! !{};l5L.display=this.seriesParams[+"0"].display;l5L.yAxis=this.seriesParams[0].yAxis;Y5L=this.seriesParams[+"0"].color || "auto";d5L=this.seriesParams[0].symbol;Z5L="";if(d5L){T5VV.i3mK(0);Z5L=T5VV.e3mK(".",d5L);}this.removeAllSeries(! !1);w5L=l5L.name;I5L.addSeries(null,{symbol:d5L,loadData:! !d5L,field:"High",renderer:"Shading",name:w5L,style:h8v,display:l5L.display,shareYAxis:! !{}});I5L.addSeries(null,{symbol:d5L,loadData:! !d5L,field:"Low",renderer:"Shading",name:w5L,style:"stx_line_down",display:l5L.display,shareYAxis:! ![]});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:Y5L});}}if(!this.shading){if(!this.errTimeout){z8v="Warning: no sha";z8v+="ding sc";z8v+="heme set.  Use myRenderer";z8v+=".setShading(scheme) to set.";console.log(z8v);H8L=this;this.errTimeout=setTimeout(function(){var P0v,f0v,D0v;P0v=1709253858;f0v=24623114;D0v=2;for(var k0v="1" >> 701630848;T5VV.s1v(k0v.toString(),k0v.toString().length,22164) !== P0v;k0v++){H8L.errTimeout=1;D0v+=2;}if(T5VV.s1v(D0v.toString(),D0v.toString().length,+"86316") !== f0v){H8L.errTimeout=null;}},10000);}}r5L={};for(f5L=+"0";f5L < this.seriesParams.length;f5L++){W5L={};if(u5L.series[this.seriesParams[f5L].id]){W5L=O5L.clone(u5L.series[this.seriesParams[f5L].id].parameters);}r5L[this.seriesParams[f5L].id]={parameters:O5L.extend(O5L.extend(W5L,l5L),this.seriesParams[f5L]),yValueCache:this.caches[this.seriesParams[f5L].id]};}I5L.drawSeries(u5L,r5L,l5L.yAxis,this);if(u5L.legend && l5L.type == E8v){G8v="stx_line_dow";G8v+="n";B8v="st";B8v+="x";B8v+="_line_up";if(!u5L.legend.colorMap){u5L.legend.colorMap={};}b5L=l5L.display;J8L=[I5L.getCanvasColor(B8v),I5L.getCanvasColor(G8v)];u5L.legend.colorMap[b5L]={color:J8L,display:b5L,isBase:this == I5L.mainSeriesRenderer};;}for(f5L in r5L){this.caches[f5L]=r5L[f5L].yValueCache;}for(f5L=0;f5L < this.shading.length;f5L++){m8v="Cl";m8v+="o";m8v+="s";m8v+="e";L5L=this.shading[f5L];Q5L=L5L.color;if(L5L.color == "auto"){Q5L=I5L.defaultColor;}if(!L5L.primary){L5L.primary="Close";}if(!L5L.secondary && this.seriesParams[+"0"]){L5L.secondary=this.seriesParams[0].field;}if(!L5L.secondary)continue;else if(!r5L[L5L.primary] && L5L.primary != "Close")continue;else if(!r5L[L5L.secondary])continue;else if(L5L.primary == "Close" && l5L.yAxis && l5L.yAxis != u5L.yAxis)continue;e5L=c8L(L5L.primary).split(194 !== (9730,"7810" - 0)?".":(! !"","u"));X5L=c8L(L5L.secondary).split(637.39 == (2700,1048)?(4.74e+3,"d"):".");F5L={topBand:e5L["0" | 0],topSubBand:e5L[+"1"],topColor:L5L.greater || Q5L || I5L.containerColor,topAxis:l5L.yAxis,bottomBand:X5L[0],bottomSubBand:X5L[1],bottomColor:L5L.lesser || Q5L || I5L.containerColor,bottomAxis:L5L.primary == m8v?null:l5L.yAxis,tension:l5L.tension || u5L.tension,opacity:0.1,step:l5L.step};if(!F5L.topColor && !F5L.bottomColor)continue;if(!l5L.highlight && I5L.highlightedDraggable){F5L.opacity*=0.3;}O5L.fillIntersecting(I5L,l5L.panel,F5L);}};O5L.Renderer.Histogram=function(h8L){var m4Kh=T5VV;var Y1v,s0v,H0v,P8v;this.construct(h8L);m4Kh.N3mK(22);Y1v=-m4Kh.e3mK("226789662",75497488);s0v=-683168925;m4Kh.N3mK(26);H0v=m4Kh.e3mK("2",0);for(var U0v="1" << 810360064;m4Kh.Y6v(U0v.toString(),U0v.toString().length,27234) !== Y1v;U0v++){P8v="hi";P8v+="sto";P8v+="gram";this.params.type=P8v;this.barsHaveWidth=this.standaloneBars=! ![];H0v+=2;}if(m4Kh.s1v(H0v.toString(),H0v.toString().length,12669) !== s0v){this.params.type="";this.barsHaveWidth=this.standaloneBars=! !0;}if(this.params.yAxis){this.params.bindToYAxis=! !1;if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};O5L.inheritsFrom(O5L.Renderer.Histogram,O5L.Renderer,!{});O5L.Renderer.Histogram.prototype.adjustYAxis=function(){var i8L;i8L=this.params.yAxis;if(!i8L || i8L.baseline){return;}i8L.min=0;T5VV.k7Kh();i8L.highValue/=this.params.heightPercentage || 1;};O5L.Renderer.Histogram.prototype.draw=function(){T5VV.d7Kh();var j8L,B8L,D8v,f8v,U8L,E8L;j8L=O5L.clone(this.params);j8L.type=j8L.subtype;this.useSum=j8L.subtype == "stacked";if(!j8L.yAxis || j8L.yAxis == this.stx.chart.yAxis){j8L.bindToYAxis=! ![];}this.stx.drawHistogram(j8L,this.seriesParams);B8L=j8L.yAxis && j8L.yAxis.baseline;if(B8L && B8L.color){D8v="desti";D8v+="nation-over";f8v="sol";f8v+="id";U8L=this.stx.panels[this.params.panel];E8L=this.stx.pixelFromPrice(B8L.value,U8L,this.params.yAxis) - 0.5;this.stx.plotLine({x0:U8L.left,x1:U8L.right,y0:E8L,y1:E8L,color:B8L.color,type:"line",context:U8L.chart.context,confineToPanel:U8L,pattern:B8L.pattern || f8v,lineWidth:B8L.lineWidth || 1,opacity:B8L.opacity || 0.8,globalCompositeOperation:D8v});}};O5L.Renderer.Histogram.prototype.getBasis=function(D8L,k8L,t8L){var p8L,y8v,q8L,o8L;T5VV.i3mK(4);p8L=T5VV.e3mK("0",2147483647);if(D8L && this.useSum){for(var G8L=0;G8L < this.seriesParams.length;G8L++){y8v="obj";y8v+="ect";q8L=this.seriesParams[G8L].field;if(q8L === k8L)break;o8L=D8L[q8L];if(o8L && typeof o8L === y8v){o8L=o8L[t8L || this.seriesParams[G8L].subField || this.stx.chart.defaultPlotField || "Close"];}if(o8L){p8L+=o8L;}}}return p8L;};O5L.Renderer.Heatmap=function(S8L){T5VV.k7Kh();this.construct(S8L);this.params.type="heatmap";this.params.highlightable=![];this.barsHaveWidth=this.standaloneBars=! !{};};O5L.inheritsFrom(O5L.Renderer.Heatmap,O5L.Renderer,! !0);O5L.Renderer.Heatmap.requestNew=function(x8L,a8L){var v8L,V8L;v8L=null;for(var N8L=0;N8L < x8L.length;N8L++){V8L=x8L[N8L];if(V8L == "heatmap"){v8L="heatmap";}}if(v8L === null){return null;}return new O5L.Renderer.Heatmap({params:O5L.extend(a8L,{type:v8L})});};O5L.Renderer.Heatmap.prototype.draw=function(){T5VV.d7Kh();this.stx.drawHeatmap(O5L.clone(this.params),this.seriesParams);};O5L.Renderer.Scatter=function(m8L){T5VV.d7Kh();this.construct(m8L);this.standaloneBars=this.barsHaveWidth=! !{};this.bounded=! !1;};O5L.inheritsFrom(O5L.Renderer.Scatter,O5L.Renderer.Lines,!"1");O5L.Renderer.Scatter.requestNew=function(R8L,P8L){var M8L,k8v,s8L;M8L=null;for(var z8L=0;z8L < R8L.length;z8L++){k8v="sca";k8v+="tte";k8v+="rplo";k8v+="t";s8L=R8L[z8L];if(s8L == k8v){M8L="scatter";}}if(M8L === null){return null;}return new O5L.Renderer.Scatter({params:O5L.extend(P8L,{type:M8L})});};O5L.Renderer.Scatter.prototype.drawIndividualSeries=function(C8L,A8L){var C8v,y8L,T8L;C8v="Error, Scatter renderer req";C8v+="uires customChart.";C8v+="js";y8L=this.stx.panels[A8L.panel] || C8L.panel;T8L={colors:[]};if(this.stx.scatter){T8L=this.stx.scatter(y8L,A8L);}else {console.warn(C8v);}return T8L;};};G2B=L8L=>{var A8v,l8L,g8v;T5VV.k7Kh();A8v="u";A8v+="ndefi";A8v+="ned";l8L=typeof _CIQ !== A8v?_CIQ:L8L.CIQ;if(!l8L.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {g8v="Accumulation/Distribu";g8v+="tion";l8L.Studies.calculateAccumulationDistribution=function(w8L,r8L){var F6bh=T5VV;F6bh.k7Kh();var Q8L,W8v,f8L,u8L,d8L,F8L;Q8L=r8L.chart.scrubbed;for(var I8L=r8L.startFrom;I8L < Q8L.length;I8L++){W8v="Resul";W8v+="t ";if(!I8L)continue;f8L=Q8L[I8L];if(f8L.futureTick)break;F6bh.i3mK(1);u8L=Q8L[F6bh.E3mK(1,I8L)];F6bh.N3mK(53);d8L=F6bh.e3mK("0",111400608);if(f8L.Close > u8L.Close){d8L=f8L.Close - Math.min(f8L.Low,u8L.Close);}else if(f8L.Close < u8L.Close){d8L=f8L.Close - Math.max(f8L.High,u8L.Close);}if(r8L.inputs["Use Volume"]){d8L*=f8L.Volume;}F8L=u8L["Result " + r8L.name];if(!F8L){F8L=0;}F8L+=d8L;if(!isNaN(f8L.Close)){f8L[W8v + r8L.name]=F8L;}}};l8L.Studies.studyLibrary=l8L.extend(l8L.Studies.studyLibrary,{"W Acc Dist":{name:g8v,calculateFN:l8L.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!1}}});}};p2B=b8L=>{T5VV.d7Kh();var W8L,T8v;W8L=typeof _CIQ !== "undefined"?_CIQ:b8L.CIQ;if(!W8L.Studies){T8v="adx ";T8v+="feature requires first activatin";T8v+="g studies featu";T8v+="re.";console.error(T8v);}else {W8L.Studies.calculateADX=function(o0y,e8L){var e6bh=T5VV;var J8v,Z8L,H0y,J0y,n0y,g0y,h0y,i0y,X8L,V8v,K8v,c0y,K0y,Q8v,r8v,l8v,R8v,j0y,B0y,U0y,u8v,a8v,O8v,X8v,Y8v,p8v,E0y,s6i;J8v="Smoothing Per";J8v+="iod";W8L.Studies.calculateStudyATR(o0y,e8L);Z8L=e8L.chart.scrubbed;e6bh.d7Kh();H0y=e8L.days;J0y=parseInt(e8L.inputs[J8v],10);if(!J0y && J0y !== 0){J0y=H0y;}if(Z8L.length < e8L.days + 1){e8L.error=! !{};return;}n0y=0;g0y=0;h0y=0;i0y=0;for(var Y8L=Math.max(1,e8L.startFrom);Y8L < Z8L.length;Y8L++){V8v="+DI";V8v+=" ";K8v="_s";K8v+="m";K8v+="+D";K8v+="M ";X8L=Z8L[Y8L];c0y=Math.max(0,X8L.High - Z8L[Y8L - 1].High);K0y=Math.max(+"0",Z8L[Y8L - 1].Low - X8L.Low);if(c0y > K0y){K0y=0;}else if(K0y > c0y){c0y=+"0";}else {c0y=K0y=0;}if(Y8L <= H0y){Q8v="T";Q8v+="rue Ra";Q8v+="n";Q8v+="ge ";g0y+=c0y;h0y+=K0y;n0y+=X8L[Q8v + e8L.name];}else {r8v="True R";r8v+="a";r8v+="ng";r8v+="e ";l8v="_";l8v+="s";l8v+="mTR";l8v+=" ";R8v="_s";R8v+="m";R8v+="-DM ";e6bh.N3mK(24);var O8uu=e6bh.e3mK(8,8,1,10,7);e6bh.i3mK(1);var a8uu=e6bh.e3mK(16,17);g0y=Z8L[Y8L - O8uu]["_sm+DM " + e8L.name] * (H0y - a8uu) / H0y + c0y;e6bh.i3mK(115);var u8uu=e6bh.E3mK(14,5,15,15,12);e6bh.i3mK(16);var X8uu=e6bh.E3mK(5,4);h0y=Z8L[Y8L - u8uu][R8v + e8L.name] * (H0y - X8uu) / H0y + K0y;e6bh.i3mK(23);var p8uu=e6bh.e3mK(958836878,15341390030,17);n0y=Z8L[Y8L - ("1" >> p8uu)][l8v + e8L.name] * (H0y - +"1") / H0y + X8L[r8v + e8L.name];}X8L[K8v + e8L.name]=g0y;X8L["_sm-DM " + e8L.name]=h0y;X8L["_smTR " + e8L.name]=n0y;if(Y8L < H0y)continue;e6bh.i3mK(116);j0y=e6bh.e3mK("100",0,n0y,g0y);e6bh.N3mK(117);B0y=e6bh.E3mK(n0y,h0y,100);e6bh.i3mK(58);var Y8uu=e6bh.e3mK(808003121,808003103,808003121);U0y=("100" << Y8uu) * Math.abs(j0y - B0y) / (j0y + B0y);X8L[V8v + e8L.name]=j0y;X8L["-DI " + e8L.name]=B0y;if(e8L.inputs.Series !== ! !"" && J0y){if(Y8L < H0y + J0y - 1){if(Y8L == e8L.startFrom){for(var O0y=H0y;O0y < e8L.startFrom;O0y++){u8v="+DI";u8v+=" ";a8v="-DI";a8v+=" ";O8v="+";O8v+="D";O8v+="I";O8v+=" ";e6bh.i3mK(23);var s6Vu=e6bh.E3mK(113,2160,20);i0y+=s6Vu * Math.abs(Z8L[O0y][O8v + e8L.name] - Z8L[O0y][a8v + e8L.name]) / (Z8L[O0y][u8v + e8L.name] + Z8L[O0y]["-DI " + e8L.name]);}}i0y+=U0y;}else if(Y8L == H0y + J0y - 1){e6bh.i3mK(10);X8L["ADX " + e8L.name]=e6bh.e3mK(i0y,J0y);}else {X8v="A";X8v+="DX ";e6bh.N3mK(36);var H6Vu=e6bh.E3mK(3,0,2,1);X8L[X8v + e8L.name]=(Z8L[Y8L - +"1"]["ADX " + e8L.name] * (J0y - H6Vu) + U0y) / J0y;}}if(e8L.inputs.Histogram){Y8v="-";Y8v+="DI ";p8v="+D";p8v+="I";p8v+=" ";E0y=e8L.name + "_hist";if(!X8L["+DI " + e8L.name] && X8L[p8v + e8L.name] !== 0)continue;if(!X8L[Y8v + e8L.name] && X8L["-DI " + e8L.name] !== 0)continue;X8L[E0y]=X8L["+DI " + e8L.name] - X8L["-DI " + e8L.name];if(e8L.inputs.Series === !1){s6i="-";s6i+="DI";s6i+=" ";X8L["+DI " + e8L.name]=null;X8L[s6i + e8L.name]=null;}e8L.outputMap[E0y]="";}}};W8L.Studies.displayADX=function(p0y,G0y,S0y){var v0y,H6i,q0y,D0y,N0y,x0y,k0y,t0y;v0y=G0y.underlay?"0.3" * 1:G0y.inputs.Series?+"0.4":1;if(G0y.inputs.Series && G0y.inputs.Shading){H6i="+";H6i+="D";H6i+="I";H6i+=" ";q0y=H6i + G0y.name;D0y="-DI " + G0y.name;N0y=W8L.Studies.determineColor(G0y.outputs[G0y.outputMap[q0y]]);x0y=W8L.Studies.determineColor(G0y.outputs[G0y.outputMap[D0y]]);k0y=G0y.getYAxis(p0y);t0y={topBand:q0y,bottomBand:D0y,topColor:N0y,bottomColor:x0y,skipTransform:p0y.panels[G0y.panel].name != G0y.chart.name,topAxis:k0y,bottomAxis:k0y,opacity:+"0.3"};if(!G0y.highlight && p0y.highlightedDraggable){t0y.opacity*=0.3;}W8L.fillIntersecting(p0y,G0y.panel,t0y);}if(G0y.inputs.Histogram){W8L.Studies.createHistogram(p0y,G0y,S0y,!{},v0y);}if(G0y.inputs.Series !== ! !""){W8L.Studies.displaySeriesAsLine(p0y,G0y,S0y);}else if(!G0y.inputs.Series && !G0y.inputs.Histogram){p0y.displayErrorAsWatermark(G0y.panel,p0y.translateIf(G0y.name) + ": " + p0y.translateIf("Nothing to display"));}};W8L.Studies.studyLibrary=W8L.extend(W8L.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:W8L.Studies.calculateADX,seriesFN:W8L.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!"",Shading:![],Histogram:! !""},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};q2B=a0y=>{var V0y,Z6i,I6i,N6i;V0y=typeof _CIQ !== "undefined"?_CIQ:a0y.CIQ;T5VV.k7Kh();if(!V0y.Studies){console.error("alligator feature requires first activating studies feature.");}else {Z6i="#FF";Z6i+="0000";I6i="#0";I6i+="0";I6i+="00FF";N6i="A";N6i+="lli";N6i+="ga";N6i+="tor";V0y.Studies.calculateAlligator=function(A0y,z0y){var r6bh=T5VV;var F3v,n3v,c3v,R0y,m0y,U6i,v6i,t6i,S6i,P0y,T0y,s0y,w6i,L6i;F3v=1610106494;r6bh.i3mK(15);n3v=r6bh.e3mK(1526476128,"1020898704");c3v=2;for(var q3v=1;r6bh.Y6v(q3v.toString(),q3v.toString().length,+"73944") !== F3v;q3v++){R0y={J:Number(z0y.inputs["Jaw Period"]),T:Number(z0y.inputs["Teeth Period"]),L:Number(z0y.inputs["Lips Period"])};c3v+=2;}r6bh.k7Kh();if(r6bh.s1v(c3v.toString(),c3v.toString().length,95345) !== n3v){R0y={J:Number(z0y.inputs["Jaw Period"]),T:Number(z0y.inputs["Jaw Period"]),L:Number(z0y.inputs["Jaw Period"])};}m0y=z0y.chart.scrubbed;if(m0y.length < Math.max(R0y.J,R0y.T,R0y.L) + 1){z0y.error=! ![];return;}if(z0y.type === "Gator" || z0y.inputs["Show Lines"]){U6i="Lips";U6i+=" Offset";v6i="well";v6i+="es wilder";V0y.Studies.MA("welles wilder",R0y.J,"hl/2",z0y.inputs["Jaw Offset"],"Jaw",A0y,z0y);V0y.Studies.MA(v6i,R0y.T,"hl/2",z0y.inputs["Teeth Offset"],"Teeth",A0y,z0y);V0y.Studies.MA("welles wilder",R0y.L,"hl/2",z0y.inputs[U6i],"Lips",A0y,z0y);}for(var M0y=z0y.startFrom;M0y < m0y.length;M0y++){if(!m0y[M0y])continue;if(z0y.type == "Gator"){t6i="_h";t6i+="is";t6i+="t";t6i+="2";S6i="L";S6i+="ip";S6i+="s ";P0y=m0y[M0y]["Jaw " + z0y.name];T0y=m0y[M0y][S6i + z0y.name];s0y=m0y[M0y]["Teeth " + z0y.name];if(s0y || s0y === 0){w6i="_";w6i+="h";w6i+="ist";w6i+="2";if(P0y || P0y === 0){r6bh.N3mK(1);m0y[M0y][z0y.name + "_hist1"]=Math.abs(r6bh.E3mK(s0y,P0y));}if(T0y || T0y === ("0" & 2147483647)){r6bh.i3mK(1);m0y[M0y][z0y.name + w6i]=-Math.abs(r6bh.E3mK(T0y,s0y));}}z0y.outputMap={};z0y.outputMap[z0y.name + "_hist1"]="";z0y.outputMap[z0y.name + t6i]="";}if(z0y.inputs["Show Fractals"]){if(!m0y[M0y - 2] || !m0y[M0y - 1] || !m0y[M0y] || !m0y[M0y + 1] || !m0y[M0y + 2])continue;if(m0y[M0y - 2].High && m0y[M0y - 1].High && m0y[M0y].High && m0y[M0y + 1].High && m0y[M0y + +"2"].High){if(m0y[M0y].High > m0y[M0y - 1].High && m0y[M0y].High > m0y[M0y - ("2" << 1028101696)].High && m0y[M0y].High > m0y[M0y + 1].High && m0y[M0y].High > m0y[M0y + 2].High){L6i="Fract";L6i+="al ";L6i+="H";L6i+="igh ";m0y[M0y][L6i + z0y.name]=1;}}if(m0y[M0y - +"2"].Low && m0y[M0y - 1].Low && m0y[M0y].Low && m0y[M0y + 1].Low && m0y[M0y + 2].Low){if(m0y[M0y].Low < m0y[M0y - 1].Low && m0y[M0y].Low < m0y[M0y - 2].Low && m0y[M0y].Low < m0y[M0y + 1].Low && m0y[M0y].Low < m0y[M0y + +"2"].Low){m0y[M0y]["Fractal Low " + z0y.name]=1;}}}}};V0y.Studies.displayAlligator=function(y0y,L0y,f0y){var x6i,C0y,j6i;x6i="Sh";T5VV.d7Kh();function I0y(d0y,F0y){var r0y,u0y;u0y=y0y.chart.panel.yAxis.flipped;if(d0y == "high"){C0y.fillStyle=y0y.defaultColor;C0y.textBaseline=u0y?"top":"bottom";r0y=y0y.pixelFromPrice(f0y[F0y].High);C0y.fillText(u0y?(8040,523.16) == 7990?0x1d8a:"\u25BC":(1600,964.43) >= 3560?9482 != 3501?(0x402,8.28e+3):"G":"\u25B2",y0y.pixelFromBar(l0y,y0y.chart) - C0y.measureText("\u25B2").width / 2 + 1,u0y?r0y + +"5":r0y - 5);;}else if(d0y == "low"){C0y.fillStyle=y0y.defaultColor;C0y.textBaseline=u0y?"bottom":"top";r0y=y0y.pixelFromPrice(f0y[F0y].Low);C0y.fillText(u0y?"\u25B2":(7098,+"995.22") <= (288.04,729.22)?! !"":+"906" < (305.08,9857)?"\u25BC":0x10d0,y0y.pixelFromBar(l0y,y0y.chart) - C0y.measureText(649.27 !== (446.56,496.27)?"\u25BC":9900 > (975.33,"718.74" * 1)?(0x17dc,"P"):0x1855).width / 2 + 1,u0y?r0y - 5:r0y + 5);;}}x6i+="ow";x6i+=" Lin";x6i+="es";C0y=L0y.getContext(y0y);if(L0y.inputs[x6i]){V0y.Studies.displaySeriesAsLine(y0y,L0y,f0y);}if(L0y.inputs["Show Fractals"]){y0y.startClip();C0y.globalAlpha=L0y.underlay?0.3:1;if(!L0y.highlight && y0y.highlightedDraggable){C0y.globalAlpha*=+"0.3";}for(var l0y=2;l0y < f0y.length - +"2";l0y++){if(f0y[l0y]){j6i="hi";j6i+="g";j6i+="h";if(f0y[l0y]["Fractal High " + L0y.name]){I0y(j6i,l0y);}if(f0y[l0y]["Fractal Low " + L0y.name]){I0y("low",l0y);}}}y0y.endClip();}};V0y.Studies.displayGator=function(w0y,Q0y,J1y){var m6bh=T5VV;var e6i,o6i,H1y,b0y,c1y,K1y,Y0y,O1y,n1y,X0y,Z0y,M6i;e6i="stx_hist";e6i+="ogram";o6i="Inc";o6i+="r";o6i+="easi";o6i+="ng Bar";H1y=w0y.panels[Q0y.panel];b0y=Q0y.getContext(w0y);c1y=Q0y.getYAxis(w0y);K1y=w0y.pixelFromPrice(0,H1y,c1y);m6bh.d7Kh();m6bh.N3mK(23);var v6Vu=m6bh.E3mK(8,22,3);Y0y=w0y.layout.candleWidth - v6Vu;if(Y0y < 2){Y0y=1;}O1y=V0y.Studies.determineColor(Q0y.outputs[o6i]);n1y=V0y.Studies.determineColor(Q0y.outputs["Decreasing Bar"]);w0y.canvasColor(e6i);if(!Q0y.underlay){b0y.globalAlpha=1;}b0y.fillStyle="#CCCCCC";w0y.startClip(Q0y.panel);if(!Q0y.highlight && w0y.highlightedDraggable){b0y.globalAlpha*=0.3;}for(var e0y=0;e0y < J1y.length;e0y++){X0y=J1y[e0y];m6bh.N3mK(1);Z0y=J1y[m6bh.e3mK(1,e0y)];if(!X0y)continue;for(var W0y=1;W0y <= 2;W0y++){M6i="_h";M6i+="ist";if(!Z0y){Z0y=w0y.getPreviousBar(w0y.chart,Q0y.name + M6i + W0y,e0y);}if(!Z0y){b0y.fillStyle="#CCCCCC";}else if(Math.abs(Z0y[Q0y.name + "_hist" + W0y]) < Math.abs(X0y[Q0y.name + "_hist" + W0y])){b0y.fillStyle=O1y;}else if(Math.abs(Z0y[Q0y.name + "_hist" + W0y]) > Math.abs(X0y[Q0y.name + "_hist" + W0y])){b0y.fillStyle=n1y;}if(X0y.candleWidth){Y0y=Math.floor(Math.max(1,X0y.candleWidth - 2));}b0y.fillRect(Math.floor(w0y.pixelFromBar(e0y,H1y.chart) - Y0y / 2),Math.floor(K1y),Math.floor(Y0y),Math.floor(w0y.pixelFromPrice(X0y[Q0y.name + "_hist" + W0y],H1y,c1y) - K1y));}}w0y.endClip();};V0y.Studies.studyLibrary=V0y.extend(V0y.Studies.studyLibrary,{Alligator:{name:N6i,overlay:! !{},seriesFN:V0y.Studies.displayAlligator,calculateFN:V0y.Studies.calculateAlligator,inputs:{"Show Lines":! ![],"Jaw Period":13,"Jaw Offset":8,"Teeth Period":+"8","Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!{}},outputs:{Jaw:I6i,Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:V0y.Studies.displayGator,calculateFN:V0y.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":Z6i},centerline:0}});}};D2B=h1y=>{var i6i,g1y,d6i,c6i,n6i;i6i="u";i6i+="ndefined";g1y=typeof _CIQ !== i6i?_CIQ:h1y.CIQ;if(!g1y.Studies){console.error("aroon feature requires first activating studies feature.");}else {d6i="a";d6i+="uto";c6i="0 to ";c6i+="10";c6i+="0";n6i="Ar";n6i+="oon";g1y.Studies.calculateAroon=function(N1y,i1y){var b6bh=T5VV;var o1y,G1y,p1y,B1y,U1y,D1y,E1y,F6i,j1y,k1y,t1y,S1y,v1y;o1y=i1y.chart.scrubbed;if(o1y.length < i1y.days + ("1" & 2147483647)){i1y.error=! ![];return;}G1y=0;p1y=0;b6bh.k7Kh();B1y=null;U1y=null;if(i1y.startFrom > 0){b6bh.i3mK(118);var U6Vu=b6bh.E3mK(0,101,12,16,7);D1y=o1y[i1y.startFrom - U6Vu]["_state " + i1y.name];if(D1y){G1y=D1y[0];p1y=D1y[1];B1y=D1y[2];U1y=D1y[3];}}for(var q1y=i1y.startFrom;q1y < o1y.length;q1y++){F6i="_state";F6i+=" ";j1y=o1y[q1y];if(j1y.futureTick)break;if(B1y === null){B1y=j1y.High;}if(U1y === null){U1y=j1y.Low;}B1y=Math.max(B1y,j1y.High);if(B1y == j1y.High){G1y=0;}else {G1y++;if(G1y > i1y.days){B1y=j1y.High;G1y=0;for(E1y=1;E1y <= i1y.days;E1y++){B1y=Math.max(B1y,o1y[q1y - E1y].High);if(B1y == o1y[q1y - E1y].High){G1y=E1y;}}}}U1y=Math.min(U1y,j1y.Low);if(U1y == j1y.Low){p1y=0;}else {p1y++;if(p1y > i1y.days){U1y=j1y.Low;p1y=0;for(E1y=1;E1y <= i1y.days;E1y++){U1y=Math.min(U1y,o1y[q1y - E1y].Low);if(U1y == o1y[q1y - E1y].Low){p1y=E1y;}}}}k1y=!isNaN(j1y.High);t1y=!isNaN(j1y.Low);b6bh.N3mK(58);var S6Vu=b6bh.E3mK(88,92,11);b6bh.i3mK(119);var w6Vu=b6bh.E3mK(2,15,15);S1y=S6Vu * (w6Vu - G1y / i1y.days);if(k1y){j1y["Aroon Up " + i1y.name]=S1y;}b6bh.N3mK(119);var t6Vu=b6bh.e3mK(2,11,11);v1y=+"100" * (t6Vu - p1y / i1y.days);if(t1y){j1y["Aroon Down " + i1y.name]=v1y;}if(k1y && t1y){j1y["Aroon Oscillator " + i1y.name]=j1y["Aroon Up " + i1y.name] - j1y["Aroon Down " + i1y.name];}j1y[F6i + i1y.name]=[G1y,p1y,B1y,U1y];}};g1y.Studies.studyLibrary=g1y.extend(g1y.Studies.studyLibrary,{Aroon:{name:n6i,range:c6i,calculateFN:g1y.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:g1y.Studies.calculateAroon,outputs:{"Aroon Oscillator":d6i}}});}};k2B=V1y=>{var n4Kh=T5VV;var N7v,I7v,Z7v,x1y,D6i,f6i,P6i,m6i,G6i,B6i;n4Kh.i3mK(15);N7v=-n4Kh.e3mK(95373664,"1180997017");I7v=-268703385;Z7v=2;for(var F7v=1;n4Kh.s1v(F7v.toString(),F7v.toString().length,"13521" * 1) !== N7v;F7v++){x1y=!_CIQ != ""?_CIQ:V1y.CIQ;Z7v+=2;}if(n4Kh.Y6v(Z7v.toString(),Z7v.toString().length,+"3754") !== I7v){x1y=typeof _CIQ !== "undefined"?_CIQ:V1y.CIQ;}n4Kh.d7Kh();if(!x1y.Studies){console.error("atr feature requires first activating studies feature.");}else {D6i="squarewa";D6i+="ve";f6i="AT";f6i+="R ";f6i+="Trailing Stops";P6i="a";P6i+="uto";m6i="a";m6i+="ut";m6i+="o";G6i="aut";G6i+="o";B6i="Av";B6i+="er";B6i+="age ";B6i+="True Range";x1y.Studies.calculateATRBands=function(M1y,a1y){var q6i,m1y;q6i="Clos";q6i+="e";x1y.Studies.calculateStudyATR(M1y,a1y);m1y=a1y.inputs.Field;if(!m1y || m1y == "field"){m1y=q6i;}x1y.Studies.calculateGenericEnvelope(M1y,a1y,a1y.inputs.Shift,m1y,"ATR " + a1y.name);};x1y.Studies.calculateSTARCBands=function(R1y,z1y){var h6i,J0v,Q0v,R0v,b6i;h6i="A";h6i+="T";h6i+="R";h6i+=" ";x1y.Studies.calculateStudyATR(R1y,z1y);J0v=1785758445;Q0v=-1346163251;R0v=2;for(var r0v=1;n4Kh.s1v(r0v.toString(),r0v.toString().length,9750) !== J0v;r0v++){x1y.Studies.MA("_MA",z1y.inputs["_MA"],"_MA","3" | 1,"_MA",R1y,z1y);R0v+=+"2";}if(n4Kh.Y6v(R0v.toString(),R0v.toString().length,73449) !== Q0v){b6i="simp";b6i+="l";b6i+="e";x1y.Studies.MA(b6i,z1y.inputs["MA Period"],"Close",0,"_MA",R1y,z1y);}x1y.Studies.calculateGenericEnvelope(R1y,z1y,z1y.inputs.Multiplier,"_MA " + z1y.name,h6i + z1y.name);};x1y.Studies.calculateATRStops=function(u1y,s1y){var y1y,L1y,z6i,P1y,I1y,T1y,A1y,l1y,f1y,E6i;y1y=s1y.chart.scrubbed;n4Kh.d7Kh();if(!y1y){return;}x1y.Studies.calculateStudyATR(u1y,s1y);L1y=s1y.inputs.HighLow;for(var C1y=Math.max(s1y.startFrom - 1,+"1");C1y < y1y.length - 1;C1y++){z6i="Sell";z6i+=" St";z6i+="ops";z6i+=" ";P1y=y1y[C1y];n4Kh.i3mK(1);I1y=y1y[n4Kh.e3mK(1,C1y)];T1y=P1y["Buy Stops " + s1y.name];if(!T1y){T1y=P1y[z6i + s1y.name];}if(!T1y){T1y=0;}if(!P1y || !I1y)continue;A1y=P1y.Close;l1y=A1y;f1y=P1y["ATR " + s1y.name] * s1y.inputs.Multiplier;if(P1y.Close > T1y && I1y.Close > T1y){if(L1y){A1y=P1y.High;}n4Kh.N3mK(1);l1y=Math.max(T1y,n4Kh.E3mK(f1y,A1y));}else if(P1y.Close <= T1y && I1y.Close <= T1y){if(L1y){A1y=P1y.Low;}n4Kh.i3mK(0);l1y=Math.min(T1y,n4Kh.e3mK(f1y,A1y));}else if(P1y.Close > T1y){if(L1y){A1y=P1y.High;}n4Kh.i3mK(1);l1y=n4Kh.E3mK(f1y,A1y);}else if(P1y.Close <= T1y){if(L1y){A1y=P1y.Low;}n4Kh.N3mK(0);l1y=n4Kh.E3mK(f1y,A1y);}if(A1y <= l1y){E6i="Sell Sto";E6i+="ps ";n4Kh.i3mK(0);y1y[n4Kh.e3mK(1,C1y)]["Buy Stops " + s1y.name]=l1y;n4Kh.i3mK(0);delete y1y[n4Kh.E3mK(1,C1y)][E6i + s1y.name];}else if(A1y > l1y){n4Kh.N3mK(120);y1y[n4Kh.E3mK("1",C1y)]["Sell Stops " + s1y.name]=l1y;n4Kh.N3mK(0);delete y1y[n4Kh.E3mK(1,C1y)]["Buy Stops " + s1y.name];}n4Kh.N3mK(0);y1y[n4Kh.e3mK(1,C1y)]["All Stops " + s1y.name]=l1y;}s1y.referenceOutput="All Stops";s1y.outputMap={};s1y.outputMap["All Stops " + s1y.name]="";};x1y.Studies.studyLibrary=x1y.extend(x1y.Studies.studyLibrary,{ATR:{name:B6i,calculateFN:x1y.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:! !{},seriesFN:x1y.Studies.displayChannel,calculateFN:x1y.Studies.calculateATRBands,inputs:{Period:+"5",Field:"field",Shift:3,"Channel Fill":! ![]},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":G6i,"ATR Bands Channel":m6i},attributes:{Shift:{min:"0.1" - 0,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:!"",seriesFN:x1y.Studies.displayChannel,calculateFN:x1y.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":! !{}},outputs:{"STARC Bands Top":P6i,"STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:f6i,overlay:!0,seriesFN:x1y.Studies.displayPSAR2,calculateFN:x1y.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points",D6i],HighLow:!"1"},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:+"0.1",step:0.1}}}});}};t2B=d1y=>{T5VV.k7Kh();var r1y,y6i,R6i,Q6i,J6i;r1y=typeof _CIQ !== "undefined"?_CIQ:d1y.CIQ;if(!r1y.Studies){y6i="awesomeOs";y6i+="cillator fe";y6i+="ature requires first ac";y6i+="tivating studies feature.";console.error(y6i);}else {R6i="#F";R6i+="F0";R6i+="00";R6i+="0";Q6i="#";Q6i+="00DD";Q6i+="0";Q6i+="0";J6i="A";J6i+="w";J6i+="esome Oscillator";r1y.Studies.calculateAwesomeOscillator=function(W1y,F1y){var W6i,C6i,k6i,Q1y,A6i;W6i="_h";W6i+="i";W6i+="s";T5VV.k7Kh();W6i+="t";C6i="_";C6i+="MA";C6i+="3";C6i+="4";k6i="s";k6i+="imp";k6i+="le";Q1y=F1y.chart.scrubbed;if(Q1y.length < 33){F1y.error=! !1;return;}r1y.Studies.MA("simple",5,"hl/2",0,"_MA5",W1y,F1y);r1y.Studies.MA(k6i,+"34","hl/2",+"0",C6i,W1y,F1y);for(var w1y=Math.max(F1y.startFrom,33);w1y < Q1y.length;w1y++){A6i="_";A6i+="h";A6i+="i";A6i+="st";if(!Q1y[w1y])continue;Q1y[w1y][F1y.name + A6i]=Q1y[w1y]["_MA5 " + F1y.name] - Q1y[w1y]["_MA34 " + F1y.name];}F1y.outputMap={};F1y.outputMap[F1y.name + W6i]="";};r1y.Studies.displayAwesomeOscillator=function(e1y,b1y,K2y){var c2y,X1y,O2y,n2y,H2y,g2y,h2y,T6i,g6i,Z1y,J2y;c2y=e1y.panels[b1y.panel];X1y=b1y.getContext(e1y);O2y=b1y.getYAxis(e1y);n2y=e1y.pixelFromPrice(0,c2y,O2y);T5VV.i3mK(121);var L6Vu=T5VV.E3mK(12,19,9,8,8);H2y=e1y.layout.candleWidth - L6Vu;if(H2y < +"2"){H2y=1;}g2y=r1y.Studies.determineColor(b1y.outputs["Increasing Bar"]);h2y=r1y.Studies.determineColor(b1y.outputs["Decreasing Bar"]);e1y.canvasColor("stx_histogram");if(!b1y.underlay){X1y.globalAlpha=1;}X1y.fillStyle="#CCCCCC";e1y.startClip(b1y.panel);if(!b1y.highlight && e1y.highlightedDraggable){X1y.globalAlpha*=+"0.3";}for(var Y1y=0;Y1y < K2y.length;Y1y++){T6i="_his";T6i+="t";g6i="_";g6i+="hi";g6i+="s";g6i+="t";Z1y=K2y[Y1y];T5VV.N3mK(1);J2y=K2y[T5VV.E3mK(1,Y1y)];if(!J2y){J2y=e1y.getPreviousBar(e1y.chart,b1y.name + "_hist",Y1y);}if(!Z1y)continue;if(!J2y);else if(J2y[b1y.name + "_hist"] < Z1y[b1y.name + "_hist"]){X1y.fillStyle=g2y;}else if(J2y[b1y.name + g6i] > Z1y[b1y.name + "_hist"]){X1y.fillStyle=h2y;}if(Z1y.candleWidth){H2y=Math.floor(Math.max(1,Z1y.candleWidth - 2));}X1y.fillRect(Math.floor(e1y.pixelFromBar(Y1y,c2y.chart) - H2y / 2),Math.floor(n2y),Math.floor(H2y),Math.floor(e1y.pixelFromPrice(Z1y[b1y.name + T6i],c2y,O2y) - n2y));}e1y.endClip();};r1y.Studies.studyLibrary=r1y.extend(r1y.Studies.studyLibrary,{Awesome:{name:J6i,seriesFN:r1y.Studies.displayAwesomeOscillator,calculateFN:r1y.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":Q6i,"Decreasing Bar":R6i}}});}};S2B=j2y=>{var l6i,i2y;l6i="und";l6i+="efi";l6i+="ned";i2y=typeof _CIQ !== l6i?_CIQ:j2y.CIQ;if(!i2y.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {i2y.Studies.calculateBalanceOfPower=function(G2y,B2y){var V6i,K6i,E2y,r6i,U2y;V6i="R";V6i+="es";V6i+="ul";V6i+="t";K6i="Moving ";K6i+="Average Type";E2y=B2y.chart.scrubbed;if(E2y.length < B2y.days + 1){B2y.error=!0;return;}for(var o2y=B2y.startFrom;o2y < E2y.length;o2y++){r6i="_";r6i+="Rati";r6i+="o";r6i+=" ";U2y=E2y[o2y];U2y["_Ratio " + B2y.name]=U2y.Close - U2y.Open;if(U2y.High - U2y.Low !== 0){U2y[r6i + B2y.name]/=U2y.High - U2y.Low;}}i2y.Studies.MA(B2y.inputs[K6i],B2y.days,"_Ratio " + B2y.name,"0" << 714543648,V6i,G2y,B2y);};i2y.Studies.studyLibrary=i2y.extend(i2y.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:"0" - 0,calculateFN:i2y.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};v2B=q2y=>{var p2y,v1i,H1i,s1i,Y6i,p6i,X6i;p2y=typeof _CIQ !== "undefined"?_CIQ:q2y.CIQ;T5VV.k7Kh();if(!p2y.Studies){console.error("bollinger feature requires first activating studies feature.");}else {v1i="m";v1i+="a";H1i="Bo";H1i+="llinger Bandwidt";H1i+="h";s1i="au";s1i+="t";s1i+="o";Y6i="f";Y6i+="ield";p6i="Bo";p6i+="llinger";p6i+=" %";p6i+="b";X6i="au";X6i+="t";X6i+="o";p2y.Studies.calculateBollinger=function(t2y,D2y){var u6i,a6i,O6i,k2y;u6i="_ST";u6i+="D Dev ";a6i="_";a6i+="M";a6i+="A";a6i+=" ";O6i="S";O6i+="tandard Deviations";k2y=D2y.inputs.Field;if(!k2y || k2y == "field"){k2y="Close";}p2y.Studies.MA(D2y.inputs["Moving Average Type"],D2y.days,k2y,0,"_MA",t2y,D2y);D2y.std=new p2y.Studies.StudyDescriptor(D2y.name,"STD Dev",D2y.panel);D2y.std.chart=D2y.chart;D2y.std.startFrom=D2y.startFrom;D2y.std.days=D2y.days;D2y.std.inputs={Field:k2y,"Standard Deviations":"1" & 2147483647,Type:D2y.inputs["Moving Average Type"]};D2y.std.outputs={"_STD Dev":null};p2y.Studies.calculateStandardDeviation(t2y,D2y.std);p2y.Studies.calculateGenericEnvelope(t2y,D2y,D2y.inputs[O6i],a6i + D2y.name,u6i + D2y.name);if(D2y.type == "Boll %b"){D2y.zoneOutput="%b";}};p2y.Studies.studyLibrary=p2y.extend(p2y.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:! !1,calculateFN:p2y.Studies.calculateBollinger,seriesFN:p2y.Studies.displayChannel,inputs:{Period:"20" | 0,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":! !"1"},outputs:{"Bollinger Bands Top":X6i,"Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:p6i,calculateFN:p2y.Studies.calculateBollinger,inputs:{Period:20,Field:Y6i,"Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:100,studyOverBoughtColor:s1i,studyOverSoldValue:"0" * 1,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:"0.1" * 1}}},"Boll BW":{name:H1i,calculateFN:p2y.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":v1i},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:"0.1" - 0,step:0.1}}}});}};N2B=v2y=>{var S2y,w1i;S2y=typeof _CIQ !== "undefined"?_CIQ:v2y.CIQ;T5VV.d7Kh();if(!S2y.Studies){console.error("cci feature requires first activating studies feature.");}else {w1i="Commodity Ch";w1i+="annel Index";S2y.Studies.calculateCCI=function(z2y,N2y){var S1i,U1i,V2y,x2y,m2y;S1i="M";S1i+="A";U1i="s";U1i+="im";U1i+="ple";V2y=N2y.chart.scrubbed;if(V2y.length < N2y.days + 1){N2y.error=! ![];return;}S2y.Studies.MA(U1i,N2y.days,"hlc/3",0,S1i,z2y,N2y);for(var a2y=Math.max(N2y.startFrom,N2y.days - ("1" >> 1411662208));a2y < V2y.length;a2y++){x2y=V2y[a2y];if(!x2y)continue;m2y=0;for(var M2y="0" & 2147483647;M2y < N2y.days;M2y++){m2y+=Math.abs(V2y[a2y - M2y]["hlc/3"] - x2y["MA " + N2y.name]);}m2y/=N2y.days;if(Math.abs(m2y) < 0.00000001){x2y["Result " + N2y.name]=0;}else {x2y["Result " + N2y.name]=(x2y["hlc/3"] - x2y["MA " + N2y.name]) / (("0.015" - 0) * m2y);}}};S2y.Studies.studyLibrary=S2y.extend(S2y.Studies.studyLibrary,{CCI:{name:w1i,calculateFN:S2y.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:- +"100",studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});}};x2B=s2y=>{var R2y,L1i;R2y=typeof _CIQ !== "undefined"?_CIQ:s2y.CIQ;if(!R2y.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {L1i="f";L1i+="ie";L1i+="l";L1i+="d";R2y.Studies.calculateCenterOfGravity=function(I2y,P2y){var M6bh=T5VV;var t1i,T2y,A2y,L2y,l2y,f2y;t1i="f";t1i+="ield";T2y=P2y.chart.scrubbed;if(T2y.length < P2y.days){P2y.error=!"";return;}A2y=P2y.inputs.Field;if(!A2y || A2y == t1i){A2y="Close";}M6bh.k7Kh();for(var y2y=Math.max(P2y.startFrom,P2y.days - "1" * 1);y2y < T2y.length;y2y++){L2y=0;l2y=0;for(var C2y=0;C2y < P2y.days;C2y++){M6bh.i3mK(1);f2y=T2y[M6bh.E3mK(C2y,y2y)][A2y];M6bh.N3mK(122);L2y-=M6bh.e3mK("1",f2y,0,C2y);l2y+=f2y;}if(l2y){M6bh.i3mK(10);T2y[y2y]["Result " + P2y.name]=M6bh.E3mK(L2y,l2y);}}};R2y.Studies.studyLibrary=R2y.extend(R2y.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:R2y.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:L1i}}});}};V2B=r2y=>{var u2y,Z1i;u2y=typeof _CIQ !== "undefined"?_CIQ:r2y.CIQ;if(!u2y.Studies){console.error("chaikin feature requires first activating studies feature.");}else {Z1i="Chaik";Z1i+="in Money Flow";u2y.Studies.calculateChaikinMoneyFlow=function(e2y,Q2y){var d2y,W2y,w2y,b2y,j1i,x1i,M1i,o1i,e1i;d2y=Q2y.chart.scrubbed;if(d2y.length < Q2y.days){Q2y.error=!0;return;}W2y=0;w2y=0;T5VV.N3mK(23);var x6Vu=T5VV.E3mK(2,33,17);b2y=d2y[Q2y.startFrom - x6Vu];if(b2y){j1i="_";j1i+="sumV ";x1i="_sumMF";x1i+=" ";if(b2y[x1i + Q2y.name]){W2y=b2y["_sumMF " + Q2y.name];}if(b2y[j1i + Q2y.name]){w2y=b2y["_sumV " + Q2y.name];}}for(var F2y=Q2y.startFrom;F2y < d2y.length;F2y++){M1i="_su";M1i+="mV ";o1i="_";o1i+="MFV ";if(d2y[F2y].High == d2y[F2y].Low){d2y[F2y]["_MFV " + Q2y.name]=0;}else {d2y[F2y]["_MFV " + Q2y.name]=d2y[F2y].Volume * (+"2" * d2y[F2y].Close - d2y[F2y].High - d2y[F2y].Low) / (d2y[F2y].High - d2y[F2y].Low);}W2y+=d2y[F2y][o1i + Q2y.name];w2y+=d2y[F2y].Volume;if(F2y > Q2y.days - 1){e1i="Res";e1i+="ul";e1i+="t";e1i+=" ";W2y-=d2y[F2y - Q2y.days]["_MFV " + Q2y.name];w2y-=d2y[F2y - Q2y.days].Volume;if(w2y){T5VV.N3mK(10);d2y[F2y][e1i + Q2y.name]=T5VV.e3mK(W2y,w2y);}}d2y[F2y]["_sumMF " + Q2y.name]=W2y;d2y[F2y][M1i + Q2y.name]=w2y;}};u2y.Studies.calculateChaikinVolatility=function(J3y,X2y){var N1i,Z2y,Y2y,H3y,I1i;N1i="Rate ";N1i+="Of Cha";N1i+="nge";Z2y=X2y.chart.scrubbed;if(Z2y.length < X2y.days){X2y.error=!0;return;}for(Y2y=X2y.startFrom;Y2y < Z2y.length;Y2y++){if(Z2y[Y2y].futureTick)break;Z2y[Y2y]["_High-Low " + X2y.name]=Z2y[Y2y].High - Z2y[Y2y].Low;}u2y.Studies.MA(X2y.inputs["Moving Average Type"],X2y.days,"_High-Low " + X2y.name,"0" * 1,"_MA",J3y,X2y);H3y=X2y.inputs[N1i];if(!H3y){H3y=X2y.days;}for(Y2y=Math.max(X2y.startFrom,H3y);Y2y < Z2y.length;Y2y++){I1i="_";I1i+="M";I1i+="A";I1i+=" ";if(!Z2y[Y2y - H3y]["_MA " + X2y.name])continue;if(Z2y[Y2y].futureTick)break;T5VV.N3mK(123);var j6Vu=T5VV.E3mK(95720,1600,3,3,20);T5VV.i3mK(0);var o6Vu=T5VV.e3mK(1,0);Z2y[Y2y]["Result " + X2y.name]=j6Vu * (Z2y[Y2y][I1i + X2y.name] / Z2y[Y2y - H3y]["_MA " + X2y.name] - o6Vu);}};u2y.Studies.studyLibrary=u2y.extend(u2y.Studies.studyLibrary,{"Chaikin MF":{name:Z1i,calculateFN:u2y.Studies.calculateChaikinMoneyFlow,inputs:{Period:+"20"}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:u2y.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};a2B=K3y=>{var c3y,d1i;c3y=typeof _CIQ !== "undefined"?_CIQ:K3y.CIQ;if(!c3y.Studies){console.error("chande feature requires first activating studies feature.");}else {d1i="au";d1i+="to";c3y.Studies.prettify.variable="vma";c3y.Studies.movingAverage.conversions.vma="variable";c3y.Studies.movingAverage.translations.variable="Variable";c3y.Studies.movingAverage.typeMap.vma="Variable";c3y.Studies.movingAverage.typeMap.variable="Variable";c3y.Studies.calculateChandeForecast=function(j3y,O3y){var i1i,n3y,g3y,i3y;i1i="f";i1i+="ield";n3y=O3y.chart.scrubbed;if(n3y.length < O3y.days + 1){O3y.error=! !1;return;}g3y=O3y.inputs.Field;if(!g3y || g3y == i1i){g3y="Close";}c3y.Studies.MA("time series",O3y.days,g3y,0,"MA",j3y,O3y);for(var h3y=Math.max(1,O3y.startFrom);h3y < n3y.length;h3y++){i3y=n3y[h3y][g3y];if(i3y && typeof i3y == "object"){i3y=i3y[O3y.subField];}T5VV.N3mK(23);var e6Vu=T5VV.e3mK(82,228,4);T5VV.N3mK(31);var M6Vu=T5VV.E3mK(0,13,25,13);n3y[h3y]["Result " + O3y.name]=e6Vu * (M6Vu - n3y[h3y]["MA " + O3y.name] / i3y);}};c3y.Studies.calculateChandeMomentum=function(x3y,B3y){var P6bh=T5VV;var q3y,o3y,G3y,D3y,k3y,t3y,p3y,E3y,S3y,v3y;q3y=B3y.name;for(var N3y in B3y.outputs){P6bh.i3mK(93);q3y=P6bh.E3mK(q3y,N3y,(9375,736.18) <= (4980,1950)?" ":0x1437);}o3y=B3y.chart.scrubbed;if(o3y.length < B3y.days + 1){B3y.error=! ![];return;}G3y=B3y.inputs.Field;if(!G3y || G3y == "field"){G3y="Close";}P6bh.k7Kh();D3y=0;k3y=0;t3y=[];for(var U3y=B3y.startFrom - B3y.days + 1;U3y < o3y.length;U3y++){if(U3y < 1)continue;p3y=o3y[U3y][G3y];P6bh.N3mK(1);E3y=o3y[P6bh.e3mK(1,U3y)][G3y];if(p3y && typeof p3y == "object"){p3y=p3y.Close;}if(E3y && typeof E3y == "object"){E3y=E3y.Close;}if(E3y === undefined)continue;P6bh.N3mK(1);S3y=P6bh.E3mK(E3y,p3y);t3y.push(S3y);D3y+=S3y;k3y+=Math.abs(S3y);if(t3y.length == B3y.days){P6bh.i3mK(117);o3y[U3y][q3y]=P6bh.E3mK(k3y,D3y,100);v3y=t3y.shift();D3y-=v3y;k3y-=Math.abs(v3y);}}};c3y.Studies.calculateMovingAverageVariable=function(r3y,V3y){var N6bh=T5VV;var F1i,Q3y,z3y,f3y,s3y,R3y,P3y,M3y,a3y,m3y,T3y,l3y,I3y,L3y,c1i,n1i,A3y,F3y,y3y,u3y,C3y;F1i="f";F1i+="ie";F1i+="l";F1i+="d";Q3y=V3y.inputs.Type;z3y=V3y.chart.scrubbed;N6bh.N3mK(124);var N6Vu=N6bh.E3mK(11,2,19,20,419);N6bh.i3mK(16);var I6Vu=N6bh.e3mK(14,13);f3y=N6Vu / (V3y.days + I6Vu);s3y=null;R3y=V3y.name;for(var d3y in V3y.outputs){N6bh.N3mK(93);R3y=N6bh.E3mK(R3y,d3y,4783 !== "25.6" * 1?(309,"252.71" - 0) != 640.62?" ":(4.96,"L"):(! !{},"L"));}P3y=V3y.inputs.Field;if(!P3y || P3y == F1i){P3y="Close";}V3y.cmo=new c3y.Studies.StudyDescriptor(V3y.name,"cmo",V3y.panel);V3y.cmo.chart=V3y.chart;V3y.cmo.days=9;V3y.cmo.inputs={Field:P3y};V3y.cmo.startFrom=V3y.startFrom;V3y.cmo.outputs={_CMO:null};c3y.Studies.calculateChandeMomentum(r3y,V3y.cmo);M3y=parseInt(V3y.inputs.Offset,10);if(isNaN(M3y)){M3y=0;}l3y=V3y.startFrom;I3y=M3y;for(a3y=V3y.startFrom - 1;a3y >= +"0";a3y--){m3y=z3y[a3y][R3y];if(!m3y && m3y !== +"0")continue;if(s3y === null){s3y=m3y;}if(I3y <= "0" >> 1367207392)break;I3y--;l3y=a3y;}if(s3y === null){s3y=l3y=0;}L3y=[];for(a3y=l3y;a3y < z3y.length;a3y++){c1i="_";c1i+="CMO ";n1i="ob";n1i+="ject";A3y=z3y[a3y];m3y=A3y[P3y];if(m3y && typeof m3y == n1i){m3y=m3y[V3y.subField];}F3y=a3y + M3y >= 0 && a3y + M3y < z3y.length;y3y=F3y?z3y[a3y + M3y]:null;if(!m3y && m3y !== 0){if(y3y){y3y[R3y]=null;}else if(a3y + M3y >= z3y.length){T3y={};T3y[R3y]=null;L3y.push(T3y);}continue;}if(!A3y[c1i + V3y.name] && A3y["_CMO " + V3y.name] !== 0)continue;N6bh.i3mK(1);var Z6Vu=N6bh.E3mK(8,108);u3y=Math.abs(A3y["_CMO " + V3y.name]) / Z6Vu;N6bh.N3mK(125);C3y=N6bh.E3mK(f3y,1,u3y,s3y,m3y,u3y,f3y);s3y=C3y;if(a3y < V3y.days){C3y=null;}if(y3y){y3y[R3y]=C3y;}else if(a3y + M3y >= z3y.length){T3y={};T3y[R3y]=C3y;L3y.push(T3y);}}V3y.appendFutureTicks(r3y,L3y);};c3y.Studies.studyLibrary=c3y.extend(c3y.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:c3y.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:c3y.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:50,studyOverBoughtColor:d1i,studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};m2B=W3y=>{var w3y,b1i;w3y=typeof _CIQ !== "undefined"?_CIQ:W3y.CIQ;if(!w3y.Studies){console.error("choppiness feature requires first activating studies feature.");}else {b1i="0";b1i+=".";b1i+="1";w3y.Studies.calculateChoppiness=function(H4y,b3y){var X3y,e3y,Z3y,q1i;w3y.Studies.calculateStudyATR(H4y,b3y);X3y=b3y.chart.scrubbed;function J4y(g4y,n4y){T5VV.k7Kh();var K4y,O4y;T5VV.N3mK(126);var i6Vu=T5VV.E3mK(7,13,10,11,6);K4y=Number.MAX_VALUE * -("1" * i6Vu);O4y=Number.MAX_VALUE;for(var c4y=n4y - g4y + 1;c4y <= n4y;c4y++){if(c4y < 0)continue;K4y=Math.max(K4y,X3y[c4y].High);O4y=Math.min(O4y,X3y[c4y].Low);}return [O4y,K4y];}if(X3y.length < b3y.days + 1){b3y.error=! ![];return;}for(var Y3y=Math.max(b3y.startFrom,b3y.days);Y3y < X3y.length;Y3y++){e3y=X3y[Y3y];if(!e3y)continue;if(e3y.futureTick)break;Z3y=J4y(b3y.days,Y3y);if(e3y["Sum True Range " + b3y.name]){q1i="Sum True Range";q1i+=" ";T5VV.i3mK(60);var F6Vu=T5VV.e3mK(134300,16,1200,7);T5VV.N3mK(0);var n6Vu=T5VV.e3mK(1,0);e3y["Result " + b3y.name]=F6Vu * Math.log(e3y[q1i + b3y.name] / Math.max(0.000001,Z3y[n6Vu] - Z3y["0" | 0])) / Math.log(b3y.days);}else if(!isNaN(e3y)){e3y["Result " + b3y.name]=0;}}};w3y.Studies.studyLibrary=w3y.extend(w3y.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:w3y.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:+"61.8",studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:+"50",step:b1i},studyOverSoldValue:{max:+"50",step:"0.1"}}}});}};M2B=i4y=>{var h4y,h1i,O1i,V1i,K1i,r1i;h4y=typeof _CIQ !== "undefined"?_CIQ:i4y.CIQ;if(!h4y.Studies){h1i="comparisonStudies feature requires";h1i+=" ";h1i+="first activatin";h1i+="g studies feature.";console.error(h1i);}else if(!h4y.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {O1i="S";O1i+="P";O1i+="Y";V1i="#";V1i+="FF";V1i+="000";V1i+="0";K1i="-";K1i+="1";K1i+=" ";K1i+="to 1";r1i="Co";r1i+="rrelation C";r1i+="oefficient";h4y.Studies.calculateCorrelationCoefficient=function(x4y,j4y){var f6bh=T5VV;var z1i,U4y,o4y,G4y,p4y,q4y,k4y,t4y,S4y,v4y,N4y,m1i,G1i,B1i,E4y,E1i,f1i,P1i,a4y,m4y,M4y,z4y;z1i="Compare ";z1i+="To";U4y=j4y.chart.scrubbed;o4y=j4y.days;if(U4y.length < o4y + +"1"){j4y.error=! !"1";return;}f6bh.k7Kh();j4y.compare=j4y.inputs[z1i];if(!j4y.compare){j4y.compare=[];j4y.outputs={};j4y.outputMap={};for(var V4y in x4y.chart.series){G4y=x4y.chart.series[V4y];if(G4y.parameters.color){j4y.compare.push(G4y.display);j4y.outputs["Result " + G4y.display]=G4y.parameters.color;f6bh.i3mK(127);var c6Vu=f6bh.E3mK(13,18,715,171,5716);j4y.outputMap["Result " + G4y.display + (769.71 !== c6Vu?593.05 == ("1440" - 0,+"4757")?(! !0,! !1):" ":(!0,"L")) + j4y.name]="Result " + G4y.display;}}}else {j4y.compare=[j4y.compare];}if(!j4y.compare.length){j4y.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var D4y=0;D4y < j4y.compare.length;D4y++){f6bh.N3mK(5);p4y=f6bh.E3mK(1,"0");f6bh.N3mK(4);q4y=f6bh.e3mK("0",2147483647);k4y=0;t4y=0;S4y=0;v4y=j4y.compare[D4y];N4y=0;for(var B4y=j4y.startFrom - o4y;B4y < U4y.length;B4y++){m1i="_te";m1i+="mp";m1i+="s";m1i+=" ";G1i="_";G1i+="te";G1i+="m";G1i+="ps ";B1i="_tem";B1i+="ps";B1i+=" ";if(!U4y[B4y])continue;E4y=U4y[B4y][v4y];if(E4y && typeof E4y == "object"){E4y=E4y.Close;}if(!E4y && E4y !== +"0"){E1i="_te";E1i+="mp";E1i+="s ";if(B4y > ("0" ^ 0) && U4y[B4y - 1] && U4y[B4y - 1]["_temps " + j4y.name] && U4y[B4y - 1][E1i + j4y.name].c){E4y=U4y[B4y - 1]["_temps " + j4y.name].c;}else {E4y=0;}}if(E4y && typeof E4y == "object"){E4y=E4y.Close;}U4y[B4y]["_temps " + j4y.name]={};p4y+=U4y[B4y]["_temps " + j4y.name].b=U4y[B4y].Close;q4y+=U4y[B4y][B1i + j4y.name].c=E4y;k4y+=U4y[B4y][G1i + j4y.name].b2=Math.pow(U4y[B4y].Close,"2" | 2);t4y+=U4y[B4y][m1i + j4y.name].c2=Math.pow(E4y,2);S4y+=U4y[B4y]["_temps " + j4y.name].bc=U4y[B4y].Close * E4y;if(N4y >= o4y){f1i="_t";f1i+="emps ";P1i="_";P1i+="tem";P1i+="ps ";p4y-=U4y[B4y - o4y][P1i + j4y.name].b;q4y-=U4y[B4y - o4y]["_temps " + j4y.name].c;k4y-=U4y[B4y - o4y][f1i + j4y.name].b2;t4y-=U4y[B4y - o4y]["_temps " + j4y.name].c2;S4y-=U4y[B4y - o4y]["_temps " + j4y.name].bc;f6bh.N3mK(23);var d6Vu=f6bh.E3mK(18,340,19);a4y=k4y / o4y - Math.pow(p4y / o4y,d6Vu);f6bh.N3mK(128);var q6Vu=f6bh.e3mK(3,406,8,9,17);m4y=t4y / o4y - Math.pow(q4y / o4y,q6Vu);f6bh.N3mK(1);var b6Vu=f6bh.e3mK(4,6);M4y=S4y / o4y - p4y * q4y / Math.pow(o4y,b6Vu);z4y=M4y / Math.sqrt(a4y * m4y);f6bh.i3mK(93);var h6Vu=f6bh.E3mK(944,473,3);f6bh.i3mK(105);var z6Vu=f6bh.e3mK(44940299,19,7731,18,17);f6bh.i3mK(0);var E6Vu=f6bh.E3mK(6092,508);f6bh.i3mK(40);var B6Vu=f6bh.E3mK(1081,17,8633,15);f6bh.i3mK(71);var G6Vu=f6bh.e3mK(3,6173,9,12305);f6bh.i3mK(7);var m6Vu=f6bh.e3mK(108306,10,102299);f6bh.N3mK(36);var P6Vu=f6bh.E3mK(2614,132,4,8);U4y[B4y]["Result " + v4y + ((895.18,+"749") != (h6Vu,+"290")?" ":493.06 == (z6Vu,E6Vu)?("u",! !""):(B6Vu,G6Vu) <= (m6Vu,782.88)?210.91:("R",P6Vu)) + j4y.name]=z4y;}N4y++;}}};h4y.Studies.calculatePerformance=function(y4y,R4y){var C1i,k1i,y1i,D1i,s4y,A4y,T4y;C1i="_MA ";C1i+="Com";C1i+="p";k1i="m";T5VV.d7Kh();k1i+="a";y1i="C";y1i+="l";y1i+="o";y1i+="se";D1i="Compari";D1i+="so";D1i+="n Symbol";s4y=R4y.chart.scrubbed;A4y=R4y.inputs["Comparison Symbol"].toUpperCase();if(!A4y){A4y=R4y.study.inputs[D1i];}if(!R4y.days){R4y.days=R4y.study.inputs.Period;}if(s4y.length < R4y.days + 1){R4y.error=! !{};return;}h4y.Studies.MA("ma",R4y.days,y1i,0,"_MA Base",y4y,R4y);h4y.Studies.MA(k1i,R4y.days,A4y,0,C1i,y4y,R4y);for(var P4y=R4y.startFrom;P4y < s4y.length;P4y++){T4y=s4y[P4y][A4y];if(T4y && (T4y.Close || T4y.Close === 0)){T4y=T4y.Close;}s4y[P4y]["Result " + R4y.name]=s4y[P4y].Close / T4y * (s4y[P4y]["_MA Comp " + R4y.name] / s4y[P4y]["_MA Base " + R4y.name]);}};h4y.Studies.calculateBeta=function(r4y,C4y){var T6bh=T5VV;var l1i,R1i,Q1i,g1i,A1i,L4y,u4y,W1i,f4y,I4y,J1i,T1i;l1i="_V";l1i+="ARn";l1i+=" ";R1i="_C";R1i+="OVAR";T6bh.d7Kh();Q1i="_";Q1i+="COVA";Q1i+="Rn";Q1i+=" ";g1i="m";g1i+="a";A1i="C";A1i+="omparis";A1i+="on Symbo";A1i+="l";L4y=C4y.chart.scrubbed;u4y=C4y.inputs[A1i].toUpperCase();if(!u4y){u4y=C4y.study.inputs["Comparison Symbol"];}if(!C4y.days){C4y.days=C4y.study.inputs.Period;}if(L4y.length < C4y.days + 1){C4y.error=!0;return;}for(var l4y=Math.max(C4y.startFrom,1);l4y < L4y.length;l4y++){W1i="_C";W1i+="ompCha";W1i+="n";W1i+="ge ";T6bh.i3mK(1);var f6Vu=T6bh.e3mK(7,8);T6bh.i3mK(1);var D6Vu=T6bh.e3mK(8,9);L4y[l4y]["_BaseChange " + C4y.name]=L4y[l4y].Close / L4y[l4y - f6Vu].Close - D6Vu;f4y=L4y[l4y][u4y];if(f4y && (f4y.Close || f4y.Close === +"0")){f4y=f4y.Close;}T6bh.N3mK(1);I4y=L4y[T6bh.E3mK(1,l4y)][u4y];if(I4y && (I4y.Close || I4y.Close === 0)){I4y=I4y.Close;}T6bh.N3mK(52);L4y[l4y][W1i + C4y.name]=T6bh.e3mK(f4y,1,I4y);}h4y.Studies.MA("ma",C4y.days,"_BaseChange " + C4y.name,0,"_MA Base",r4y,C4y);h4y.Studies.MA(g1i,C4y.days,"_CompChange " + C4y.name,0,"_MA Comp",r4y,C4y);for(l4y=Math.max(C4y.startFrom,C4y.days);l4y < L4y.length;l4y++){J1i="_MA Ba";J1i+="se ";T1i="_BaseC";T1i+="h";T1i+="ang";T1i+="e ";L4y[l4y]["_COVARn " + C4y.name]=(L4y[l4y][T1i + C4y.name] - L4y[l4y][J1i + C4y.name]) * (L4y[l4y]["_CompChange " + C4y.name] - L4y[l4y]["_MA Comp " + C4y.name]);L4y[l4y]["_VARn " + C4y.name]=Math.pow(L4y[l4y]["_CompChange " + C4y.name] - L4y[l4y]["_MA Comp " + C4y.name],+"2");}h4y.Studies.MA("ma",C4y.days,Q1i + C4y.name,"0" << 243024224,R1i,r4y,C4y);h4y.Studies.MA("ma",C4y.days,l1i + C4y.name,"0" | 0,"_VAR",r4y,C4y);for(l4y=Math.max(C4y.startFrom,C4y.days * +"2" - ("1" >> 209083488));l4y < L4y.length;l4y++){L4y[l4y]["Result " + C4y.name]=L4y[l4y]["_COVAR " + C4y.name] / L4y[l4y]["_VAR " + C4y.name];}};h4y.Studies.studyLibrary=h4y.extend(h4y.Studies.studyLibrary,{correl:{name:r1i,range:K1i,calculateFN:h4y.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:h4y.Studies.initPriceRelative,seriesFN:h4y.Studies.displayVsComparisonSymbol,calculateFN:h4y.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:V1i},deferUpdate:! !"1"},Beta:{name:"Beta",centerline:1,initializeFN:h4y.Studies.initPriceRelative,seriesFN:h4y.Studies.displayVsComparisonSymbol,calculateFN:h4y.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":O1i},deferUpdate:! !1}});}};z2B=F4y=>{var d4y,X1i;d4y=typeof _CIQ !== "undefined"?_CIQ:F4y.CIQ;if(!d4y.Studies){console.error("coppock feature requires first activating studies feature.");}else {X1i="fi";X1i+="eld";d4y.Studies.calculateCoppock=function(J7y,Q4y){var n6bh=T5VV;var u1i,w4y,W4y,e4y,X4y,Y4y,Z4y,H7y,a1i;u1i="R";u1i+="es";u1i+="ul";u1i+="t";w4y=Q4y.chart.scrubbed;W4y=Q4y.inputs.Field;if(!W4y || W4y == "field"){W4y="Close";}e4y=parseInt(Q4y.inputs["Long RoC"],10);if(!e4y){e4y=14;}X4y=parseInt(Q4y.inputs["Short RoC"],+"10");if(!X4y){X4y=11;}Y4y=Q4y.days;if(!Y4y){Y4y=10;}if(e4y < X4y){return;}if(w4y.length < Math.max(X4y,e4y,Y4y) + 1){Q4y.error=! ![];return;}for(var b4y=Math.max(Q4y.startFrom,e4y);b4y < w4y.length;b4y++){n6bh.N3mK(1);Z4y=w4y[n6bh.E3mK(X4y,b4y)][W4y];n6bh.i3mK(1);H7y=w4y[n6bh.E3mK(e4y,b4y)][W4y];if(Z4y && H7y){a1i="_S";a1i+="um ";n6bh.N3mK(36);var y6Vu=n6bh.E3mK(3,0,11,11);w4y[b4y][a1i + Q4y.name]=+"100" * (w4y[b4y][W4y] / Z4y + w4y[b4y][W4y] / H7y - y6Vu);}}d4y.Studies.MA("weighted",Y4y,"_Sum " + Q4y.name,0,u1i,J7y,Q4y);};d4y.Studies.studyLibrary=d4y.extend(d4y.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:d4y.Studies.calculateCoppock,inputs:{Period:10,Field:X1i,"Short RoC":11,"Long RoC":14}}});}};R2B=K7y=>{var p1i,c7y,b0i,q0i;p1i="undefi";p1i+="ned";c7y=typeof _CIQ !== p1i?_CIQ:K7y.CIQ;if(!c7y.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {b0i="#69";b0i+="9158";q0i="Dar";q0i+="vas";q0i+=" Box";c7y.Studies.calculateDarvas=function(x7y,U7y){var s6bh=T5VV;var H0i,s0i,O7y,B7y,t7y,Y1i,v7y,E7y,h7y,j7y,p7y,o7y,q7y,G7y,g7y,i7y,D7y,v0i,n7y,L0i,w0i,U0i,S0i,t0i,j0i,x0i,o0i,M0i,e0i,N0i,I0i,Z0i;H0i="D";H0i+="arv";H0i+="as";s0i="V";s0i+="olume ";s0i+="% of Av";s0i+="g";O7y=U7y.chart.scrubbed;B7y=0;t7y=parseInt(U7y.inputs["ATH Lookback Period"],10);if(U7y.inputs["Volume Spike"]){Y1i="Vo";Y1i+="lu";Y1i+="m";Y1i+="e";c7y.Studies.MA("simple",t7y,Y1i,0,"ADV",x7y,U7y);}s6bh.N3mK(65);var k6Vu=s6bh.E3mK(114,3,61,3);v7y=parseFloat(U7y.inputs[s0i]) / k6Vu;E7y="none";h7y={};j7y=null;p7y=null;o7y=null;s6bh.d7Kh();q7y=parseFloat(U7y.inputs["Level Offset"]);G7y=![];if(G7y){console.log("*****************");}i7y={};[H0i,"Ghost","Profit","Loss","ATH","ADV","Spike"].forEach(function(V7y){s6bh.N3mK(129);var C6Vu=s6bh.e3mK(1,17,55846,5077,12);s6bh.i3mK(55);var A6Vu=s6bh.E3mK(3403,19,200,950);i7y[V7y]=V7y + ((C6Vu,A6Vu) <= (865.95,+"8100")?" ":! !1) + U7y.name;});for(g7y=U7y.startFrom - 1;g7y > 0;g7y--){D7y=O7y[g7y];if(D7y[i7y.Darvas] || D7y[i7y.Ghost]){for(var N7y in i7y){D7y[N7y]=null;}}else {B7y=D7y[i7y.ATH] || 0;p7y=D7y[i7y.Profit];o7y=D7y[i7y.Loss];break;}}for(g7y;g7y < O7y.length;g7y++){v0i="P";v0i+="rice";v0i+=" Min";v0i+="imum";n7y=O7y[g7y];if(!n7y)continue;if(parseFloat(U7y.inputs[v0i]) <= O7y[B7y].Close){L0i="da";L0i+="rvas";w0i="h";w0i+="i";w0i+="g";w0i+="h";U0i="Exit";U0i+=" Fiel";U0i+="d";if(j7y && (!j7y.End || g7y == j7y.End + 1)){if(O7y[g7y - 1].Close > h7y.High){h7y={State:1,High:2 * h7y.High - h7y.Low,Low:h7y.High,Start:g7y,End:+"2" * h7y.End - h7y.Start + 1};}else {j7y=null;;}if(j7y){n7y[i7y.Ghost]=c7y.clone(h7y);if(G7y){console.log("Ghost begin:" + n7y.DT);}h7y.State=0;if(O7y[h7y.End]){O7y[h7y.End][i7y.Ghost]=c7y.clone(h7y);if(G7y){console.log("Ghost end:" + O7y[h7y.End].DT);}}j7y={Start:h7y.Start,End:h7y.End};p7y=h7y.High + q7y;if(!o7y || o7y < h7y.Low - q7y){o7y=h7y.Low - q7y;}}}n7y[i7y.Profit]=p7y;n7y[i7y.Loss]=o7y;if(n7y.Close >= p7y){p7y=null;}else if(U7y.inputs[U0i] == "high/low" && n7y.High >= p7y){p7y=null;}if(E7y == "none"){if(g7y == B7y + +"3"){if(!O7y[B7y + ("2" ^ 0)][i7y.Darvas] && !O7y[B7y + 1][i7y.Darvas] && !O7y[B7y][i7y.Darvas] && O7y[B7y].High > n7y.High){S0i="h";S0i+="i";S0i+="g";S0i+="h";E7y=S0i;;}}}if(E7y == w0i){if(n7y.High > O7y[B7y].High){t0i="non";t0i+="e";E7y=t0i;}else if(O7y[g7y - 3].Low < O7y[g7y - 2].Low && O7y[g7y - 3].Low < O7y[g7y - ("1" - 0)].Low && O7y[g7y - +"3"].Low < n7y.Low){h7y={State:1,High:O7y[B7y].High,Low:O7y[g7y - 3].Low,Start:B7y};O7y[B7y][i7y.Darvas]=c7y.clone(h7y);E7y="darvas";if(G7y){console.log("Darvas begin:" + O7y[B7y].DT);}if(G7y){console.log("Darvas established:" + n7y.DT);}if(j7y){if(j7y.End > g7y && O7y[j7y.Start]){n7y[i7y.Ghost]=c7y.clone(O7y[j7y.Start][i7y.Ghost]);n7y[i7y.Ghost].End=g7y;if(O7y[j7y.End]){delete O7y[j7y.End][i7y.Ghost];if(G7y){console.log("Ghost End removed:" + O7y[j7y.End].DT);}}}n7y[i7y.Ghost].State=0;O7y[j7y.Start][i7y.Ghost].End=g7y;if(G7y){console.log("Ghost end:" + n7y.DT);}j7y=null;}p7y=h7y.High + q7y;if(!o7y || o7y < h7y.Low - q7y){o7y=h7y.Low - q7y;}}}if(E7y == L0i){j0i="n";j0i+="o";j0i+="n";j0i+="e";x0i="hi";x0i+="gh/";x0i+="lo";x0i+="w";if(n7y.Close > h7y.High){j7y={};}else if(U7y.inputs["Exit Field"] == x0i && n7y.High > h7y.High){j7y={};}else if(n7y.Close < h7y.Low){E7y="none";}else if(U7y.inputs["Exit Field"] == "high/low" && n7y.Low < h7y.Low){E7y="none";}if(j7y){E7y=j0i;}else if(E7y == "none"){p7y=null;o7y=null;}if(!U7y.inputs["Ghost Boxes"]){j7y=null;}if(E7y == "none"){o0i="Da";o0i+="rv";o0i+="as en";o0i+="d:";for(var S7y=h7y.Start + 1;S7y < g7y;S7y++){O7y[S7y][i7y.Darvas]=c7y.clone(h7y);}h7y.State=0;h7y.End=g7y;n7y[i7y.Darvas]=c7y.clone(h7y);if(G7y){console.log(o0i + n7y.DT);}n7y[i7y.ATH]=B7y;continue;}}if(o7y){M0i="h";M0i+="ig";M0i+="h";M0i+="/low";e0i="Exit Fie";e0i+="ld";if(n7y.Close < h7y.Low || U7y.inputs[e0i] == M0i && n7y.Low < h7y.Low){N0i="no";N0i+="ne";if(E7y == "darvas"){E7y=N0i;}if(n7y.Close < o7y || U7y.inputs["Exit Field"] == "high/low" && n7y.Low < o7y){p7y=null;o7y=null;}if(j7y){I0i="Gho";I0i+="s";I0i+="t";I0i+=" end:";if(j7y.End > g7y && O7y[j7y.Start]){n7y[i7y.Ghost]=c7y.clone(O7y[j7y.Start][i7y.Ghost]);n7y[i7y.Ghost].End=g7y;if(O7y[j7y.End]){delete O7y[j7y.End][i7y.Ghost];if(G7y){console.log("Ghost End removed:" + O7y[j7y.End].DT);}}}n7y[i7y.Ghost].State=0;O7y[j7y.Start][i7y.Ghost].End=g7y;if(G7y){console.log(I0i + n7y.DT);}j7y=null;}}}}if(n7y.High >= O7y[B7y].High){Z0i="All Ti";Z0i+="me ";Z0i+="Hig";Z0i+="h:";B7y=g7y;if(G7y){console.log(Z0i + n7y.DT);}}if(g7y < 3 || n7y.High >= O7y[g7y - 1].High && n7y.High >= O7y[g7y - 2].High && n7y.High >= O7y[g7y - 3].High){if(g7y - B7y >= t7y){B7y=g7y;for(var k7y=0;k7y < t7y;k7y++){if(g7y - k7y < +"0")break;if(O7y[g7y - k7y].High > O7y[B7y].High){s6bh.N3mK(1);B7y=s6bh.E3mK(k7y,g7y);}}if(G7y){console.log("All Time High:" + n7y.DT);}}}if(U7y.inputs["Volume Spike"] && g7y > t7y && g7y == B7y){if(n7y[i7y.ADV] * v7y < n7y.Volume){n7y[i7y.Spike]=1;if(G7y){console.log("Volume Spike:" + n7y.DT);}}}n7y[i7y.ATH]=B7y;}};c7y.Studies.displayDarvas=function(m7y,R7y,P7y){var q6bh=T5VV;var i0i,F7y,C7y,I7y,s7y,a7y,M7y,z7y,X7y,l7y,T7y,b7y,Y7y,J6y,Z7y,A7y,y7y,L7y,Q7y,f7y,d7y,u7y,W7y,r7y,w7y,c6y,e7y,n0i,F0i,K6y,c0i,d0i,H6y;i0i="a";i0i+="u";i0i+="to";F7y=c7y.Studies.determineColor(R7y.outputs.Levels);q6bh.k7Kh();if(!F7y || F7y == "auto" || c7y.isTransparent(F7y)){F7y=m7y.defaultColor;}C7y=c7y.Studies.determineColor(R7y.outputs.Darvas);if(!C7y || C7y == i0i || c7y.isTransparent(C7y)){C7y=m7y.defaultColor;}I7y=c7y.Studies.determineColor(R7y.outputs.Ghost);if(!I7y || I7y == "auto" || c7y.isTransparent(I7y)){I7y=m7y.defaultColor;}s7y=m7y.panels[R7y.panel];a7y=R7y.getContext(m7y);q6bh.i3mK(130);var W6Vu=q6bh.e3mK(14,18,1,2);T7y=m7y.layout.candleWidth - W6Vu;if(T7y < 2){T7y=1;}m7y.startClip(R7y.panel);if(R7y.inputs["Stop Levels"]){if(a7y.setLineDash){a7y.setLineDash([2,2]);}a7y.lineWidth=2;a7y.strokeStyle=F7y;a7y.beginPath();for(M7y="0" | 0;M7y < P7y.length;M7y++){z7y=P7y[M7y];q6bh.N3mK(1);b7y=P7y[q6bh.E3mK(1,M7y)];if(!z7y)continue;l7y=z7y["Loss " + R7y.name]?Math.floor(m7y.pixelFromPrice(z7y["Loss " + R7y.name],s7y)):null;Y7y=b7y && b7y["Loss " + R7y.name]?Math.floor(m7y.pixelFromPrice(b7y["Loss " + R7y.name],s7y)):null;if(l7y){if(z7y.candleWidth){T7y=Math.floor(Math.max(1,z7y.candleWidth));}J6y=Math.floor(m7y.pixelFromBar(M7y,s7y.chart) + T7y / 2);Z7y=Math.floor(m7y.pixelFromBar(M7y,s7y.chart) - T7y / 2);if(Y7y && Y7y >= l7y){a7y.lineTo(Z7y,l7y);}else if(M7y === 0){a7y.moveTo(m7y.chart.left,l7y);}else {a7y.moveTo(Z7y,l7y);}a7y.lineTo(J6y,l7y);}}a7y.stroke();if(a7y.setLineDash){a7y.setLineDash([]);}a7y.lineWidth=1;}A7y=-10;q6bh.i3mK(22);L7y=q6bh.E3mK("0",0);q6bh.i3mK(26);f7y=-q6bh.e3mK("10",0);u7y=0;r7y=!"1";w7y=!"1";q6bh.i3mK(131);var g6Vu=q6bh.E3mK(10,18,506,3,11);c6y=a7y.measureText("\u25B2").width / ("2" * g6Vu);e7y=0;for(M7y=+"0";M7y < P7y.length;M7y++){n0i="D";n0i+="a";n0i+="r";n0i+="vas ";if(!P7y[M7y])continue;if(P7y[M7y].Close || P7y[M7y].Close === 0){e7y=M7y;}if(P7y[M7y]["Spike " + R7y.name]){F0i="b";F0i+="ot";F0i+="to";F0i+="m";a7y.fillStyle=C7y;a7y.textBaseline=F0i;K6y=m7y.pixelFromPrice(P7y[M7y].High,m7y.chart.panel);a7y.fillText(1128 < "483" << 1764959808?(191.68,+"0xb0c"):(5960,6566) != 824?"\u25BC":+"0x264f",m7y.pixelFromBar(M7y) - c6y,K6y - 5);;}if(P7y[M7y].candleWidth){T7y=Math.floor(Math.max(1,P7y[M7y].candleWidth));}if(P7y[M7y][n0i + R7y.name]){z7y=P7y[M7y]["Darvas " + R7y.name];if(z7y.State == 1 && !r7y){A7y=Math.floor(m7y.pixelFromBar(M7y,s7y.chart) - T7y / +"2");y7y=Math.floor(m7y.pixelFromPrice(z7y.High,s7y));Q7y=Math.floor(m7y.pixelFromPrice(z7y.Low,s7y)) - y7y;r7y=! ![];}else if(z7y.State === 0){q6bh.i3mK(132);var T6Vu=q6bh.e3mK(14,7,5,18);L7y=Math.floor(m7y.pixelFromBar(M7y,s7y.chart) + T7y / T6Vu) - A7y;y7y=Math.floor(m7y.pixelFromPrice(z7y.High,s7y));Q7y=Math.floor(m7y.pixelFromPrice(z7y.Low,s7y)) - y7y;a7y.strokeStyle=C7y;a7y.fillStyle=C7y;if(!R7y.inputs["Stop Levels"]){a7y.strokeRect(A7y,y7y,L7y,Q7y);a7y.globalAlpha=0.2;}else {a7y.globalAlpha=0.3;}a7y.fillRect(A7y,y7y,L7y,Q7y);a7y.globalAlpha=+"1";r7y=!1;}}if(P7y[M7y]["Ghost " + R7y.name] && R7y.inputs["Ghost Boxes"]){z7y=P7y[M7y]["Ghost " + R7y.name];if(z7y.State == 1 && !w7y){f7y=Math.floor(m7y.pixelFromBar(M7y,s7y.chart) - T7y / 2);d7y=Math.floor(m7y.pixelFromPrice(z7y.High,s7y));u7y=Math.floor((z7y.End - z7y.Start + 1) * m7y.layout.candleWidth + T7y / ("2" ^ 0));W7y=Math.floor(m7y.pixelFromPrice(z7y.Low,s7y)) - d7y;w7y=! !{};}else if(z7y.State === 0){c0i="S";c0i+="top Le";c0i+="vels";if(z7y.Start == z7y.End){f7y=Math.floor(m7y.pixelFromBar(M7y,s7y.chart) - T7y / 2);}q6bh.N3mK(23);var J6Vu=q6bh.e3mK(12,142,12);u7y=Math.floor(m7y.pixelFromBar(M7y,s7y.chart) + T7y / J6Vu) - f7y;d7y=Math.floor(m7y.pixelFromPrice(z7y.High,s7y));W7y=Math.floor(m7y.pixelFromPrice(z7y.Low,s7y)) - d7y;a7y.strokeStyle=I7y;a7y.fillStyle=I7y;if(!R7y.inputs[c0i]){a7y.strokeRect(f7y,d7y,u7y,W7y);a7y.globalAlpha=+"0.2";}else {a7y.globalAlpha=0.3;}a7y.fillRect(f7y,d7y,u7y,W7y);a7y.globalAlpha=1;w7y=!1;}}}if(r7y){L7y=Math.floor(m7y.pixelFromBar(e7y,s7y.chart) + T7y / 2) - A7y;a7y.strokeStyle=C7y;a7y.fillStyle=C7y;if(!R7y.inputs["Stop Levels"]){a7y.beginPath();q6bh.i3mK(94);a7y.moveTo(q6bh.e3mK(L7y,2,A7y),y7y);a7y.lineTo(A7y,y7y);q6bh.i3mK(0);a7y.lineTo(A7y,q6bh.e3mK(Q7y,y7y));q6bh.i3mK(94);a7y.lineTo(q6bh.E3mK(L7y,2,A7y),q6bh.e3mK(Q7y,y7y,q6bh.i3mK(0)));a7y.stroke();a7y.globalAlpha=0.2;}else {a7y.globalAlpha=0.3;}q6bh.i3mK(5);a7y.fillRect(A7y,y7y,q6bh.e3mK(L7y,2),Q7y);a7y.globalAlpha=1;}if(w7y){d0i="Stop ";d0i+="Levels";a7y.strokeStyle=I7y;a7y.fillStyle=I7y;if(!R7y.inputs[d0i]){a7y.strokeRect(f7y,d7y,u7y,W7y);a7y.globalAlpha=0.2;}else {a7y.globalAlpha=0.3;}a7y.fillRect(f7y,d7y,u7y,W7y);a7y.globalAlpha=1;}if(r7y || w7y){if(R7y.inputs["Stop Levels"]){if(a7y.setLineDash){q6bh.N3mK(53);a7y.setLineDash([q6bh.E3mK("2",1144850944),2]);}a7y.lineWidth=2;a7y.strokeStyle=F7y;H6y=Math.floor(m7y.pixelFromBar(e7y - 1,s7y.chart) + T7y / 2);if(X7y){a7y.beginPath();a7y.moveTo(H6y,X7y);a7y.lineTo(r7y?A7y + 2 * L7y:f7y + u7y,X7y);a7y.stroke();}if(l7y){a7y.beginPath();a7y.moveTo(H6y,l7y);a7y.lineTo(r7y?A7y + 2 * L7y:f7y + u7y,l7y);a7y.stroke();}if(a7y.setLineDash){a7y.setLineDash([]);}a7y.lineWidth=1;}r7y=![];w7y=![];}m7y.endClip();};c7y.Studies.studyLibrary=c7y.extend(c7y.Studies.studyLibrary,{Darvas:{name:q0i,underlay:!"",calculateFN:c7y.Studies.calculateDarvas,seriesFN:c7y.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":! !"1","Stop Levels":! !"","Level Offset":0.01,"Price Minimum":5,"Volume Spike":!1,"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:b0i,Levels:"auto"},customRemoval:! !{},attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:! !{}},panelName:{hidden:! !"1"},flippedEnabled:{hidden:! !{}}}}});}};s2B=n6y=>{var O6y,B0i,E0i,z0i;O6y=typeof _CIQ !== "undefined"?_CIQ:n6y.CIQ;if(!O6y.Studies){console.error("detrended feature requires first activating studies feature.");}else {B0i="m";B0i+="a";E0i="fi";E0i+="el";E0i+="d";z0i="Detrended Price Os";z0i+="cillator";O6y.Studies.calculateDetrendedPrice=function(o6y,g6y){var j6y,B6y,U6y,h0i,h6y,E6y;T5VV.k7Kh();j6y=g6y.chart.scrubbed;if(j6y.length < g6y.days + ("1" | 0)){g6y.error=! !{};return;}B6y=g6y.inputs.Field;if(!B6y || B6y == "field"){B6y="Close";}U6y=Math.floor(g6y.days / 2 + 1);O6y.Studies.MA(g6y.inputs["Moving Average Type"],g6y.days,B6y,-U6y,"MA",o6y,g6y);for(var i6y=Math.max(g6y.days - U6y - 1,g6y.startFrom - U6y);i6y < j6y.length - U6y;i6y++){h0i="R";h0i+="esult ";if(i6y < 0)continue;h6y=j6y[i6y][B6y];if(h6y && typeof h6y == "object"){h6y=h6y[g6y.subField];}E6y=j6y[i6y]["MA " + g6y.name];if((h6y || h6y === 0) && (E6y || E6y === 0)){T5VV.i3mK(1);j6y[i6y][h0i + g6y.name]=T5VV.e3mK(E6y,h6y);}}};O6y.Studies.studyLibrary=O6y.extend(O6y.Studies.studyLibrary,{Detrended:{name:z0i,calculateFN:O6y.Studies.calculateDetrendedPrice,inputs:{Period:+"14",Field:E0i,"Moving Average Type":B0i}}});}};P2B=p6y=>{var t4Kh=T5VV;t4Kh.k7Kh();var G0i,G6y,i1v,F1v,n1v,P0i;G0i="u";G0i+="ndefin";G0i+="e";G0i+="d";G6y=typeof _CIQ !== G0i?_CIQ:p6y.CIQ;if(!G6y.Studies){console.error("disparity feature requires first activating studies feature.");}else {G6y.Studies.calculateDisparity=function(v6y,q6y){var D6y,t6y,m0i,S6y;D6y=q6y.chart.scrubbed;if(D6y.length < q6y.days + 1){q6y.error=!"";return;}t6y=q6y.inputs.Field;if(!t6y || t6y == "field"){t6y="Close";}G6y.Studies.MA(q6y.inputs["Moving Average Type"],q6y.days,t6y,0,"_MA",v6y,q6y);for(var k6y=Math.max(q6y.startFrom,q6y.days - +"1");k6y < D6y.length;k6y++){m0i="R";m0i+="e";m0i+="su";m0i+="lt ";if(!D6y[k6y])continue;S6y=D6y[k6y]["_MA " + q6y.name];if(S6y){t4Kh.N3mK(58);var Q6Vu=t4Kh.E3mK(96,84,6);t4Kh.N3mK(31);var R6Vu=t4Kh.E3mK(8,19,32,6);D6y[k6y][m0i + q6y.name]=Q6Vu * (D6y[k6y][t6y] / S6y - R6Vu);}}};i1v=-396119409;t4Kh.N3mK(5);F1v=t4Kh.e3mK(1,"2135585500");n1v=2;for(var d1v=1;t4Kh.Y6v(d1v.toString(),d1v.toString().length,80587) !== i1v;d1v++){P0i="m";P0i+="a";G6y.Studies.studyLibrary=G6y.extend(G6y.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:G6y.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":P0i}}});n1v+=2;}if(t4Kh.Y6v(n1v.toString(),n1v.toString().length,5751) !== F1v){G6y.Studies.studyLibrary=G6y.extend(G6y.Studies.studyLibrary,{Disparity:{name:"field",calculateFN:G6y.Studies.calculateDisparity,inputs:{Period:52,Field:"Moving Average Type","Moving Average Type":"Moving Average Type"}}});}}};T2B=x6y=>{var f0i,N6y;f0i="u";f0i+="n";f0i+="define";f0i+="d";N6y=typeof _CIQ !== f0i?_CIQ:x6y.CIQ;if(!N6y.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {N6y.Studies.calculateEaseOfMovement=function(T6y,m6y){var t6bh=T5VV;var D0i,V6y,z6y,R6y,s6y,P6y,M6y;D0i="_E";D0i+="OM1";t6bh.d7Kh();D0i+=" ";V6y=m6y.chart.scrubbed;if(V6y.length < m6y.days){m6y.error=! ![];return;}for(var a6y=Math.max(1,m6y.startFrom);a6y < V6y.length;a6y++){t6bh.N3mK(133);var l6Vu=t6bh.e3mK(17,18,1,33);z6y=(V6y[a6y].High + V6y[a6y].Low) / l6Vu;t6bh.N3mK(134);var r6Vu=t6bh.E3mK(17,1,0,16);t6bh.N3mK(0);var K6Vu=t6bh.E3mK(1,0);t6bh.N3mK(135);var V6Vu=t6bh.E3mK(15,3,5,15);R6y=(V6y[a6y - r6Vu].High + V6y[a6y - K6Vu].Low) / V6Vu;t6bh.i3mK(1);s6y=t6bh.E3mK(R6y,z6y);t6bh.N3mK(7);var O6Vu=t6bh.e3mK(600000000,3,500000003);P6y=V6y[a6y].Volume / O6Vu / (V6y[a6y].High - V6y[a6y].Low);t6bh.N3mK(10);M6y=t6bh.E3mK(s6y,P6y);if(!isFinite(M6y)){V6y[a6y]["_EOM1 " + m6y.name]=NaN;}else {V6y[a6y]["_EOM1 " + m6y.name]=M6y;}}N6y.Studies.MA(m6y.inputs["Moving Average Type"],m6y.days,D0i + m6y.name,0,"Result",T6y,m6y);};N6y.Studies.studyLibrary=N6y.extend(N6y.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:N6y.Studies.calculateEaseOfMovement,inputs:{Period:+"14","Moving Average Type":"ma"}}});}};A2B=y6y=>{var A6y,k0i;T5VV.d7Kh();A6y=typeof _CIQ !== "undefined"?_CIQ:y6y.CIQ;if(!A6y.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {k0i="Eh";k0i+="ler Fisher";k0i+=" Tra";k0i+="nsform";A6y.Studies.calculateEhlerFisher=function(F6y,C6y){var U6bh=T5VV;var L6y,l6y,y0i,I6y,u6y,r6y;L6y=C6y.chart.scrubbed;function d6y(X6y,e6y){var w6y,W6y,b6y;w6y=Number.MAX_VALUE;U6bh.N3mK(136);var a6Vu=U6bh.e3mK(4,1,19,18,40);W6y=Number.MAX_VALUE * a6Vu;for(var Q6y=e6y - X6y + 1;Q6y <= e6y;Q6y++){U6bh.N3mK(135);var u6Vu=U6bh.E3mK(187,0,22,17);b6y=(L6y[Q6y].High + L6y[Q6y].Low) / u6Vu;w6y=Math.min(w6y,b6y);W6y=Math.max(W6y,b6y);}return [w6y,W6y];}if(L6y.length < C6y.days + 1){C6y.error=! !{};return;}l6y=0;if(C6y.startFrom > 1){U6bh.i3mK(137);var X6Vu=U6bh.e3mK(1,0,14,13,1);l6y=L6y[C6y.startFrom - X6Vu]["_n " + C6y.name];}for(var f6y=C6y.startFrom;f6y < L6y.length;f6y++){y0i="E";y0i+="F";y0i+=" ";I6y=L6y[f6y];if(I6y.futureTick)break;if(f6y < C6y.days - +"1"){I6y["EF " + C6y.name]=I6y["EF Trigger " + C6y.name]=l6y;continue;}u6y=d6y(C6y.days,f6y);U6bh.i3mK(7);var p6Vu=U6bh.e3mK(2115981888,16,1410654608);U6bh.N3mK(138);var Y6Vu=U6bh.e3mK(24,11,2,1);U6bh.i3mK(0);var s1Vu=U6bh.E3mK(1,0);l6y=0.33 * ("2" << p6Vu) * (((L6y[f6y].High + L6y[f6y].Low) / Y6Vu - u6y[0]) / Math.max(0.000001,u6y[s1Vu] - u6y[0]) - 0.5) + 0.67 * l6y;if(l6y > "0" << 1725063968){l6y=Math.min(l6y,+"0.9999");}else if(l6y < 0){l6y=Math.max(l6y,-0.9999);}r6y=f6y?L6y[f6y - 1]["EF " + C6y.name]:0;U6bh.N3mK(60);var H1Vu=U6bh.E3mK(197,11,6,3);U6bh.N3mK(7);var v1Vu=U6bh.e3mK(0,3,2);I6y[y0i + C6y.name]=0.5 * Math.log(("1" * H1Vu + l6y) / (v1Vu - l6y)) + +"0.5" * r6y;I6y["EF Trigger " + C6y.name]=r6y;I6y["_n " + C6y.name]=l6y;}};A6y.Studies.studyLibrary=A6y.extend(A6y.Studies.studyLibrary,{"Ehler Fisher":{name:k0i,calculateFN:A6y.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};y2B=Z6y=>{var Y6y,O0i,V0i,K0i;Y6y=typeof _CIQ !== "undefined"?_CIQ:Z6y.CIQ;T5VV.d7Kh();if(!Y6y.Studies){console.error("elder feature requires first activating studies feature.");}else {O0i="#DD3E";O0i+="3";O0i+="9";V0i="#00";V0i+="D";V0i+="D00";K0i="El";K0i+="de";K0i+="r Ray";K0i+=" Index";Y6y.Studies.calculateElderImpulse=function(j5y,H5y){var C0i,g5y,B5y,E5y,i5y,h5y,W0i,A0i;C0i="_";C0i+="MA";T5VV.k7Kh();g5y=H5y.chart.scrubbed;B5y=H5y.outputs.Bullish;E5y=H5y.outputs.Bearish;i5y=H5y.outputs.Neutral;T5VV.N3mK(15);Y6y.Studies.MA("exponential",T5VV.E3mK(2115521056,"13"),"Close",0,C0i,j5y,H5y);H5y.macd=new Y6y.Studies.StudyDescriptor("_" + H5y.name,"macd",H5y.panel);H5y.macd.chart=H5y.chart;H5y.macd.days=H5y.days;H5y.macd.startFrom=H5y.startFrom;H5y.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":"9" & 2147483647};H5y.macd.outputs={_MACD:null,_Signal:null};Y6y.Studies.calculateMACD(j5y,H5y.macd);for(var c5y=H5y.startFrom;c5y < g5y.length;c5y++){W0i="R";W0i+="e";W0i+="su";W0i+="lt ";A0i="_";A0i+="M";A0i+="A ";if(c5y === 0){h5y=i5y;}else if(g5y[c5y]["_MA " + H5y.name] > g5y[c5y - 1]["_MA " + H5y.name] && g5y[c5y][((9554,5080) != 2130?"_":("n",9.49e+3)) + H5y.name + "_hist"] > g5y[c5y - 1][((5794,1580) >= 1212?"_":239 <= 901.58?0x996:(8.03e+3,"x")) + H5y.name + "_hist"]){h5y=B5y;}else if(g5y[c5y]["_MA " + H5y.name] < g5y[c5y - 1][A0i + H5y.name] && g5y[c5y][(461.64 <= (937,5791)?(216.24,"147.71" - 0) > (2400,2120)?3400 < 3617?(! !1,+"0x2375"):666.40:"_":(1.17e+3,!{})) + H5y.name + "_hist"] < g5y[c5y - ("1" ^ 0)][(204 <= (9060,9300)?"_":("5417" >> 92055520,6046) >= ("143.72" * 1,"564.34" * 1)?(4420,"2020" - 0) == (185.56,1186)?0x483:0x183f:("o",! !1)) + H5y.name + "_hist"]){h5y=E5y;}else {h5y=i5y;}g5y[c5y][W0i + H5y.name]=h5y;;}};Y6y.Studies.calculateElderRay=function(t5y,G5y){var T0i,Q9v,R9v,l9v,p5y,g0i;T0i="_h";T0i+="ist";T0i+="1";Q9v=-552604838;R9v=1373720599;l9v=+"2";for(var K9v=1;T5VV.s1v(K9v.toString(),K9v.toString().length,57966) !== Q9v;K9v++){p5y=G5y.chart.scrubbed;l9v+=+"2";}if(T5VV.Y6v(l9v.toString(),l9v.toString().length,93821) !== R9v){p5y=G5y.chart.scrubbed;}if(p5y.length < G5y.days){G5y.error=! ![];return;}Y6y.Studies.MA("exponential",G5y.days,"Close",0,"_EMA",t5y,G5y);for(var q5y=Math.max(G5y.startFrom,G5y.days - 1);q5y < p5y.length;q5y++){g0i="_hi";g0i+="s";g0i+="t";g0i+="2";p5y[q5y][G5y.name + "_hist1"]=p5y[q5y].High - p5y[q5y]["_EMA " + G5y.name];p5y[q5y][G5y.name + g0i]=p5y[q5y].Low - p5y[q5y]["_EMA " + G5y.name];}G5y.outputMap={};G5y.outputMap[G5y.name + T0i]="";G5y.outputMap[G5y.name + "_hist2"]="";};Y6y.Studies.calculateElderForce=function(m5y,v5y){var J0i,N5y;J0i="_";J0i+="E";J0i+="F1 ";T5VV.k7Kh();N5y=v5y.chart.scrubbed;if(N5y.length < v5y.days){v5y.error=!"";return;}for(var x5y=Math.max(1,v5y.startFrom);x5y < N5y.length;x5y++){T5VV.i3mK(18);var U1Vu=T5VV.e3mK(14,4,16,11);N5y[x5y]["_EF1 " + v5y.name]=N5y[x5y].Volume * (N5y[x5y].Close - N5y[x5y - U1Vu].Close);}Y6y.Studies.MA("exponential",v5y.days,J0i + v5y.name,0,"Result",m5y,v5y);};Y6y.Studies.initElderImpulse=function(y5y,l5y,f5y,u5y,C5y,r5y){var M5y;M5y=Y6y.Studies.initializeFN(y5y,l5y,f5y,u5y,C5y,r5y);if(C5y.calculateOnly){return M5y;}y5y.chart.customChart={chartType:"colored_bar",colorFunction:function(H8y,e5y,J8y){var Q0i,d5y;Q0i="Resu";Q0i+="lt ";d5y=e5y[Q0i + M5y.name];if(d5y && typeof d5y == "object"){d5y=d5y.color;}return d5y;}};y5y.setMainSeriesRenderer();return M5y;};Y6y.Studies.displayElderForce=function(O8y,K8y,j8y){var g8y,h8y,i8y,n8y;Y6y.Studies.displaySeriesAsLine(O8y,K8y,j8y);g8y=Y6y.Studies.determineColor(K8y.outputs.Result);h8y=O8y.panels[K8y.panel];i8y=K8y.getYAxis(O8y);n8y={skipTransform:h8y.name != K8y.chart.name,panelName:K8y.panel,band:"Result " + K8y.name,threshold:0,color:g8y,yAxis:i8y};if(!K8y.highlight && O8y.highlightedDraggable){n8y.opacity=0.3;}n8y.direction=1;Y6y.preparePeakValleyFill(O8y,n8y);n8y.direction=-1;Y6y.preparePeakValleyFill(O8y,n8y);};Y6y.Studies.displayElderRay=function(U8y,B8y,S8y){var c6bh=T5VV;var R0i,q8y,G8y,k8y,t8y,p8y,v8y,r0i,l0i,E8y;R0i="stx_h";c6bh.d7Kh();function D8y(x8y,N8y,V8y,a8y){G8y.fillStyle=Y6y.Studies.determineColor(B8y.outputs[V8y]);G8y.fillRect(Math.floor(U8y.pixelFromBar(x8y,q8y.chart) - p8y / 2 + p8y * N8y),Math.floor(t8y),Math.floor(p8y * (1 - ("2" >> 430819008) * N8y)),Math.floor(U8y.pixelFromPrice(E8y[B8y.name + a8y],q8y,k8y) - t8y));}R0i+="istogr";R0i+="am";q8y=U8y.panels[B8y.panel];G8y=B8y.getContext(U8y);k8y=B8y.getYAxis(U8y);t8y=U8y.pixelFromPrice(0,q8y,k8y);c6bh.i3mK(7);var S1Vu=c6bh.e3mK(0,3,1);p8y=U8y.layout.candleWidth - S1Vu;if(p8y < "2" >> 1536754272){p8y=1;}U8y.canvasColor(R0i);v8y=G8y.fillStyle;if(!B8y.underlay){G8y.globalAlpha=1;}U8y.startClip(B8y.panel);if(!B8y.highlight && U8y.highlightedDraggable){G8y.globalAlpha*=0.3;}for(var o8y=0;o8y < S8y.length;o8y++){r0i="E";r0i+="lder Bu";r0i+="ll Power";l0i="El";l0i+="der Bull ";l0i+="Power";E8y=S8y[o8y];if(!E8y)continue;if(E8y.candleWidth){p8y=Math.floor(Math.max(1,E8y.candleWidth - 2));}if(E8y[B8y.name + "_hist1"] > 0){D8y(o8y,0,l0i,"_hist1");}if(E8y[B8y.name + "_hist2"] < 0){D8y(o8y,0,"Elder Bear Power","_hist2");}if(E8y[B8y.name + "_hist1"] < 0){c6bh.N3mK(5);D8y(o8y,c6bh.e3mK(1,"0.1"),r0i,"_hist1");}if(E8y[B8y.name + "_hist2"] > 0){D8y(o8y,0.1,"Elder Bear Power","_hist2");}}U8y.endClip();G8y.fillStyle=v8y;};Y6y.Studies.studyLibrary=Y6y.extend(Y6y.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:Y6y.Studies.calculateElderForce,seriesFN:Y6y.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:K0i,seriesFN:Y6y.Studies.displayElderRay,calculateFN:Y6y.Studies.calculateElderRay,centerline:"0" | 0,inputs:{Period:13},outputs:{"Elder Bull Power":V0i,"Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:Y6y.Studies.calculateElderImpulse,initializeFN:Y6y.Studies.initElderImpulse,seriesFN:null,customRemoval:! !"1",underlay:! !{},inputs:{},outputs:{Bullish:"#8BC176",Bearish:O0i,Neutral:"#5F7CB8"},removeFN:function(m8y,M8y){m8y.chart.customChart=null;T5VV.k7Kh();m8y.setMainSeriesRenderer();}}});}};C2B=R8y=>{var z8y,a0i;z8y=typeof _CIQ !== "undefined"?_CIQ:R8y.CIQ;if(!z8y.Studies){a0i="fracta";a0i+="lChaos feature requires first activating studies fe";a0i+="ature.";console.error(a0i);}else {z8y.Studies.calculateFractalChaos=function(r8y,A8y){var z6bh=T5VV;var P8y,L8y,f8y,l8y,u0i,X0i,I8y,u8y,T8y;P8y=A8y.chart.scrubbed;z6bh.k7Kh();z6bh.i3mK(4);L8y=z6bh.E3mK("0",2147483647);f8y=0;l8y=0;if(A8y.startFrom && A8y.type == "Fractal Chaos Bands"){u0i="F";u0i+="ractal Low ";z6bh.N3mK(1);var w1Vu=z6bh.E3mK(20,21);L8y=P8y[A8y.startFrom - w1Vu]["Fractal High " + A8y.name];z6bh.i3mK(52);var t1Vu=z6bh.e3mK(2,1,1);f8y=P8y[A8y.startFrom - "1" * t1Vu][u0i + A8y.name];}for(var s8y=Math.max(4,A8y.startFrom);s8y < P8y.length;s8y++){X0i="Fractal";X0i+=" Chaos";X0i+=" Bands";if(P8y[s8y].futureTick)break;I8y=!isNaN(P8y[s8y].High);u8y=!isNaN(P8y[s8y].Low);if(I8y || u8y){P8y[s8y]["Result " + A8y.name]=0;}l8y=0;for(T8y=0;T8y <= s8y;T8y++){if(!P8y[s8y - T8y])break;if(P8y[s8y - T8y].High > P8y[s8y - +"2"].High)break;if(T8y < 2 && P8y[s8y - T8y].High == P8y[s8y - 2].High)break;if(P8y[s8y - T8y].High < P8y[s8y - 2].High){l8y++;}if(l8y == 4){L8y=P8y[s8y - 2].High;break;}}if(A8y.type == "Fractal Chaos Bands"){if(I8y){P8y[s8y]["Fractal High " + A8y.name]=L8y > 0?L8y:null;}}else if(l8y == 4){z6bh.i3mK(4);P8y[s8y]["Result " + A8y.name]=z6bh.E3mK("1",2147483647);}l8y=0;for(T8y=+"0";T8y <= s8y;T8y++){if(!P8y[s8y - T8y])break;if(P8y[s8y - T8y].Low < P8y[s8y - ("2" >> 229558400)].Low)break;if(T8y < 2 && P8y[s8y - T8y].Low == P8y[s8y - ("2" >> 913944704)].Low)break;if(P8y[s8y - T8y].Low > P8y[s8y - +"2"].Low){l8y++;}if(l8y == "4" * 1){f8y=P8y[s8y - 2].Low;break;}}if(A8y.type == X0i){if(u8y){P8y[s8y]["Fractal Low " + A8y.name]=f8y > 0?f8y:null;}}else if(l8y == 4){P8y[s8y]["Result " + A8y.name]=-1;}}};z8y.Studies.studyLibrary=z8y.extend(z8y.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:z8y.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! !{},calculateFN:z8y.Studies.calculateFractalChaos,seriesFN:z8y.Studies.displayChannel,inputs:{"Channel Fill":! ![]},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}});}};l2B=F8y=>{var d8y,j3i,x3i,L3i,t3i;d8y=typeof _CIQ !== "undefined"?_CIQ:F8y.CIQ;if(!d8y.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {j3i="Verti";j3i+="cal Horizontal";j3i+=" Fil";j3i+="ter";x3i="a";x3i+="uto";L3i="Willi";L3i+="ams %";L3i+="R";t3i="aut";t3i+="o";d8y.Studies.calculateMaxHighMinLow=function(c9y,Q8y){var C6bh=T5VV;var Y0i,p0i,w8y,J9y,H9y,Y8y,X8y,b8y,s3i,Z8y,H3i,v3i,S3i,U3i;Y0i="L";Y0i+="ow";Y0i+=" Peri";Y0i+="od";p0i="Hi";p0i+="g";p0i+="h";p0i+=" Period";w8y=Q8y.chart.scrubbed;J9y=Q8y.days;H9y=Q8y.days;if(Q8y.inputs[p0i]){J9y=Q8y.inputs["High Period"];}if(Q8y.inputs[Y0i]){H9y=Q8y.inputs["Low Period"];}if(w8y.length < Math.max(J9y,H9y) + 1){Q8y.error=! !{};return;}Y8y=Number.MAX_VALUE;C6bh.i3mK(139);var L1Vu=C6bh.e3mK(6,3,4);X8y=Number.MAX_VALUE * L1Vu;if(Q8y.startFrom > 1){for(b8y=+"1";b8y < J9y;b8y++){if(Q8y.startFrom - b8y >= 0){X8y=Math.max(X8y,w8y[Q8y.startFrom - b8y].High);}}for(b8y=1;b8y < H9y;b8y++){if(Q8y.startFrom - b8y >= 0){Y8y=Math.min(Y8y,w8y[Q8y.startFrom - b8y].Low);}}}for(var W8y=Math.max(0,Q8y.startFrom - 1);W8y < w8y.length;W8y++){s3i="VT";s3i+=" HZ Fil";s3i+="ter";X8y=Math.max(X8y,w8y[W8y].High);Y8y=Math.min(Y8y,w8y[W8y].Low);if(W8y >= J9y){if(w8y[W8y - J9y].High == X8y){X8y=w8y[W8y].High;for(b8y=1;b8y < J9y;b8y++){X8y=Math.max(X8y,w8y[W8y - b8y].High);}}}if(W8y >= H9y){if(w8y[W8y - H9y].Low == Y8y){Y8y=w8y[W8y].Low;for(b8y=1;b8y < H9y;b8y++){Y8y=Math.min(Y8y,w8y[W8y - b8y].Low);}}}Z8y=0;if(Q8y.type == "HHV"){Z8y=X8y;}else if(Q8y.type == "LLV"){Z8y=Y8y;}else if(Q8y.type == "Donchian Width"){C6bh.i3mK(1);Z8y=C6bh.E3mK(Y8y,X8y);}else if(Q8y.type == "GAPO" || Q8y.type == "Gopala"){Z8y=Math.log(X8y - Y8y) / Math.log(H9y);}else if(Q8y.type == s3i){H3i="_M";H3i+="H";H3i+="M";H3i+="L ";C6bh.i3mK(1);Z8y=C6bh.E3mK(Y8y,X8y);w8y[W8y][H3i + Q8y.name]=Z8y;continue;}else if(Q8y.type == "Williams %R"){C6bh.i3mK(140);var x1Vu=C6bh.E3mK(2,114,4380,10,4);Z8y=x1Vu * (X8y - w8y[W8y].Close) / (X8y - Y8y);w8y[W8y]["Result " + Q8y.name]=Z8y;continue;}if(W8y == w8y.length - 1)break;if(!w8y[W8y + 1].futureTick){v3i="Do";v3i+="nchian Channel";if(Q8y.type == v3i){S3i="Donch";S3i+="ia";S3i+="n Medi";S3i+="an ";U3i="D";U3i+="onchian";U3i+=" High ";C6bh.N3mK(0);w8y[C6bh.e3mK(1,W8y)][U3i + Q8y.name]=X8y;C6bh.i3mK(0);w8y[C6bh.e3mK(1,W8y)]["Donchian Low " + Q8y.name]=Y8y;C6bh.i3mK(0);w8y[C6bh.e3mK(1,W8y)][S3i + Q8y.name]=C6bh.e3mK(2,X8y,Y8y,C6bh.i3mK(6));}else {C6bh.i3mK(120);w8y[C6bh.E3mK("1",W8y)]["Result " + Q8y.name]=Z8y;}}}};d8y.Studies.calculateVerticalHorizontalFilter=function(j9y,K9y){var O9y,g9y,h9y,i9y,w3i;O9y=K9y.chart.scrubbed;if(O9y.length < K9y.days + 1){K9y.error=! ![];return;}K9y.mhml=new d8y.Studies.StudyDescriptor(K9y.name,K9y.type,K9y.panel);K9y.mhml.chart=K9y.chart;K9y.mhml.days=K9y.days;K9y.mhml.startFrom=K9y.startFrom;K9y.mhml.inputs={};K9y.mhml.outputs={_MHML:null};d8y.Studies.calculateMaxHighMinLow(j9y,K9y.mhml);T5VV.d7Kh();g9y=0;h9y=[];for(var n9y=Math.max(1,K9y.startFrom - K9y.days);n9y < O9y.length;n9y++){i9y=Math.abs(O9y[n9y].Close - O9y[n9y - 1].Close);h9y.push(i9y);g9y+=i9y;if(h9y.length == K9y.days){w3i="_";w3i+="MH";w3i+="ML ";O9y[n9y]["Result " + K9y.name]=O9y[n9y][w3i + K9y.name] / g9y;g9y-=h9y.shift();}}};d8y.Studies.studyLibrary=d8y.extend(d8y.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:! !{},calculateFN:d8y.Studies.calculateMaxHighMinLow,seriesFN:d8y.Studies.displayChannel,inputs:{"High Period":+"20","Low Period":20,"Channel Fill":! !{}},outputs:{"Donchian High":t3i,"Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:d8y.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:d8y.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:d8y.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:d8y.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:L3i,calculateFN:d8y.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:- +"80",studyOverSoldColor:x3i}}},"VT HZ Filter":{name:j3i,calculateFN:d8y.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(o9y,E9y){var U9y;U9y=E9y.chart.scrubbed;for(var B9y=E9y.startFrom;B9y < U9y.length;B9y++){U9y[B9y]["Result " + E9y.name]=U9y[B9y].High - U9y[B9y].Low;}},inputs:{}}});}};L2B=p9y=>{var G9y,d3i,c3i,n3i,F3i;G9y=typeof _CIQ !== "undefined"?_CIQ:p9y.CIQ;if(!G9y.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {d3i="#";d3i+="808000";c3i="#00";c3i+="FF00";n3i="#";n3i+="FF";n3i+="0";n3i+="000";F3i="Ichimo";F3i+="ku";F3i+=" Cl";F3i+="ouds";G9y.Studies.calculateIchimoku=function(m9y,D9y){var S6bh=T5VV;var o3i,k9y,t9y,q9y,S9y,N3i,M3i,e3i,x9y,V9y,a9y,Z3i,I3i,i3i,v9y;S6bh.k7Kh();o3i="Lagging S";o3i+="pan Period";k9y=D9y.chart.scrubbed;t9y={Base:Number(D9y.inputs["Base Line Period"]),Conv:Number(D9y.inputs["Conversion Line Period"]),LeadB:Number(D9y.inputs["Leading Span B Period"]),Lag:Number(D9y.inputs[o3i])};for(q9y=D9y.startFrom;q9y < k9y.length;q9y++){N3i="L";N3i+="ag";N3i+="ging Sp";N3i+="an ";M3i="Ba";M3i+="se ";M3i+="Line ";e3i="Co";e3i+="nversion Line ";if(!k9y[q9y])continue;S9y=N9y(t9y.Conv,q9y);S6bh.i3mK(126);var j1Vu=S6bh.E3mK(20,14,13,34,13);k9y[q9y][e3i + D9y.name]=(S9y[+"1"] + S9y[0]) / j1Vu;S9y=N9y(t9y.Base,q9y);S6bh.i3mK(43);var o1Vu=S6bh.e3mK(13,5,16,8,1026);k9y[q9y][M3i + D9y.name]=(S9y["1" - 0] + S9y[0]) / o1Vu;if(q9y < t9y.Lag)continue;k9y[q9y - t9y.Lag][N3i + D9y.name]=k9y[q9y].Close;}x9y=[];for(q9y=Math.max(0,D9y.startFrom - t9y.Base);q9y < k9y.length;q9y++){S9y=N9y(t9y.LeadB,q9y);S6bh.i3mK(61);var e1Vu=S6bh.e3mK(20,20,0,19,16);V9y=(k9y[q9y]["Conversion Line " + D9y.name] + k9y[q9y]["Base Line " + D9y.name]) / e1Vu;S6bh.i3mK(141);var M1Vu=S6bh.E3mK(16,19,8,0,4);S6bh.N3mK(52);var N1Vu=S6bh.E3mK(12,1,4);a9y=(S9y[M1Vu] + S9y[0]) / N1Vu;if(k9y[q9y + t9y.Base]){Z3i="Le";Z3i+="ading S";Z3i+="pan B ";I3i="L";I3i+="eading Span ";I3i+="A ";k9y[q9y + t9y.Base][I3i + D9y.name]=V9y;k9y[q9y + t9y.Base][Z3i + D9y.name]=a9y;}else {i3i="Leading Span ";i3i+="B ";v9y={};v9y["Leading Span A " + D9y.name]=V9y;v9y[i3i + D9y.name]=a9y;x9y.push(v9y);}}function N9y(P9y,s9y){var z9y,R9y;z9y=Number.MAX_VALUE;S6bh.N3mK(1);var I1Vu=S6bh.e3mK(1,0);R9y=Number.MAX_VALUE * I1Vu;for(var M9y=s9y - P9y + 1;M9y <= s9y;M9y++){if(M9y < 0)continue;z9y=Math.min(z9y,k9y[M9y].Low);R9y=Math.max(R9y,k9y[M9y].High);}return [z9y,R9y];}D9y.appendFutureTicks(m9y,x9y);};G9y.Studies.displayIchimoku=function(A9y,T9y,r9y){var y9y,C9y,f9y,I9y,u9y,l9y,L9y;y9y="Leading Span A " + T9y.name;C9y="Leading Span B " + T9y.name;f9y=G9y.Studies.determineColor(T9y.outputs[T9y.outputMap[y9y]]);I9y=G9y.Studies.determineColor(T9y.outputs[T9y.outputMap[C9y]]);u9y=A9y.panels[T9y.panel];l9y=T9y.getYAxis(A9y);L9y={topBand:y9y,bottomBand:C9y,topColor:f9y,bottomColor:I9y,skipTransform:u9y.name != T9y.chart.name,topAxis:l9y,bottomAxis:l9y,opacity:0.3};if(!T9y.highlight && A9y.highlightedDraggable){L9y.opacity*=0.3;}G9y.fillIntersecting(A9y,T9y.panel,L9y);G9y.Studies.displaySeriesAsLine(A9y,T9y,r9y);};G9y.Studies.studyLibrary=G9y.extend(G9y.Studies.studyLibrary,{"Ichimoku Clouds":{name:F3i,overlay:!"",calculateFN:G9y.Studies.calculateIchimoku,seriesFN:G9y.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":+"52","Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":n3i,"Leading Span A":c3i,"Leading Span B":"#FF0000","Lagging Span":d3i}}});}};f2B=F9y=>{var d9y,z3i,h3i,b3i;d9y=typeof _CIQ !== "undefined"?_CIQ:F9y.CIQ;if(!d9y.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {z3i="a";z3i+="u";z3i+="t";z3i+="o";h3i="a";h3i+="u";h3i+="t";h3i+="o";b3i="Intraday";b3i+=" Momentum Index";d9y.Studies.calculateIntradayMomentum=function(H0U,Q9y){var y6bh=T5VV;var w9y,X9y,b9y,e9y,q3i,Y9y,Z9y;w9y=Q9y.chart.scrubbed;X9y=Q9y.days;if(w9y.length < X9y + 1){Q9y.error=! !"1";return;}b9y=0;y6bh.k7Kh();e9y=0;if(Q9y.startFrom > +"1"){y6bh.N3mK(16);var Z1Vu=y6bh.E3mK(4,3);b9y=w9y[Q9y.startFrom - Z1Vu]["_totUp " + Q9y.name];y6bh.N3mK(142);var i1Vu=y6bh.e3mK(31,15,12,6);e9y=w9y[Q9y.startFrom - i1Vu]["_totDn " + Q9y.name];}for(var W9y=Q9y.startFrom;W9y < w9y.length;W9y++){q3i="_t";q3i+="ot";q3i+="Dn";q3i+=" ";Y9y=w9y[W9y].Close - w9y[W9y].Open;if(Y9y > 0){b9y+=Y9y;}else {e9y-=Y9y;}if(W9y >= X9y){Z9y=w9y[W9y - X9y].Close - w9y[W9y - X9y].Open;if(Z9y > 0){b9y-=Z9y;}else {e9y+=Z9y;}}y6bh.N3mK(143);w9y[W9y]["Result " + Q9y.name]=y6bh.e3mK(e9y,b9y,b9y,100);w9y[W9y]["_totUp " + Q9y.name]=b9y;w9y[W9y][q3i + Q9y.name]=e9y;}};d9y.Studies.studyLibrary=d9y.extend(d9y.Studies.studyLibrary,{"Intraday Mtm":{name:b3i,calculateFN:d9y.Studies.calculateIntradayMomentum,inputs:{Period:+"20"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:70,studyOverBoughtColor:h3i,studyOverSoldValue:30,studyOverSoldColor:z3i}}}});}};I2B=c0U=>{var I4Kh=T5VV;var J0U,f3i,j0v,o0v,e0v,m3i,G3i,P3i;J0U=typeof _CIQ !== "undefined"?_CIQ:c0U.CIQ;if(!J0U.Studies){console.error("keltner feature requires first activating studies feature.");}else {f3i="a";f3i+="u";f3i+="to";J0U.Studies.calculateKeltner=function(O0U,K0U){var B3i,E3i;B3i="Cl";I4Kh.d7Kh();B3i+="o";B3i+="s";B3i+="e";E3i="Movin";E3i+="g Averag";E3i+="e Type";J0U.Studies.MA(K0U.inputs[E3i],K0U.days,B3i,0,"MA",O0U,K0U);J0U.Studies.calculateStudyATR(O0U,K0U);J0U.Studies.calculateGenericEnvelope(O0U,K0U,K0U.inputs.Shift,"MA " + K0U.name,"ATR " + K0U.name);};j0v=-822345410;I4Kh.i3mK(26);o0v=-I4Kh.e3mK("1527375596",0);I4Kh.N3mK(22);e0v=I4Kh.e3mK("2",2);for(var N0v=1;I4Kh.Y6v(N0v.toString(),N0v.toString().length,"60288" >> 1215318368) !== j0v;N0v++){m3i="Cha";m3i+="nnel";m3i+=" Fill";G3i="a";G3i+="u";G3i+="t";G3i+="o";J0U.Studies.studyLibrary=J0U.extend(J0U.Studies.studyLibrary,{Keltner:{name:"Channel Fill",overlay:![],seriesFN:J0U.Studies.displayChannel,calculateFN:J0U.Studies.calculateKeltner,inputs:{Period:97,Shift:+"2","Moving Average Type":"Keltner Top","Channel Fill":! !""},outputs:{"Keltner Top":"Keltner Bottom","Keltner Median":G3i,"Keltner Bottom":m3i},attributes:{Shift:{min:535,step:521}}}});e0v+=2;}if(I4Kh.s1v(e0v.toString(),e0v.toString().length,53135) !== o0v){P3i="Cha";P3i+="n";P3i+="nel ";P3i+="Fill";J0U.Studies.studyLibrary=J0U.extend(J0U.Studies.studyLibrary,{Keltner:{name:P3i,overlay:![],seriesFN:J0U.Studies.displayChannel,calculateFN:J0U.Studies.calculateKeltner,inputs:{Period:+"97",Shift:2,"Moving Average Type":"Keltner Top","Channel Fill":![]},outputs:{"Keltner Top":"Keltner Bottom","Keltner Median":"auto","Keltner Bottom":"Channel Fill"},attributes:{Shift:{min:535,step:+"521"}}}});}J0U.Studies.studyLibrary=J0U.extend(J0U.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! !1,seriesFN:J0U.Studies.displayChannel,calculateFN:J0U.Studies.calculateKeltner,inputs:{Period:50,Shift:+"5","Moving Average Type":"ema","Channel Fill":! !"1"},outputs:{"Keltner Top":f3i,"Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:"0.1" * 1,step:0.1}}}});}};u2B=g0U=>{var n0U;n0U=typeof _CIQ !== "undefined"?_CIQ:g0U.CIQ;if(!n0U.Studies){console.error("klinger feature requires first activating studies feature.");}else {n0U.Studies.calculateKlinger=function(G0U,i0U){var k3i,y3i,D3i,j0U,p0U,B0U,q0U,U0U,t0U,E0U,D0U,k0U,h0U,o0U;k3i="Signal Pe";k3i+="rio";k3i+="ds";y3i="_EM";y3i+="A-S ";D3i="K";D3i+="lingerSi";D3i+="gn";D3i+="al ";j0U=i0U.chart.scrubbed;p0U=Number(i0U.inputs["Short Cycle"]);B0U=Number(i0U.inputs["Long Cycle"]);if(j0U.length < Math.max(p0U,B0U) + 1){i0U.error=!"";return;}q0U=i0U.name + "_hist";U0U="Klinger " + i0U.name;t0U=D3i + i0U.name;E0U="_SV " + i0U.name;D0U=y3i + i0U.name;k0U="_EMA-L " + i0U.name;for(h0U=Math.max(1,i0U.startFrom);h0U < j0U.length;h0U++){o0U=j0U[h0U].Volume;if(j0U[h0U]["hlc/3"] < j0U[h0U - 1]["hlc/3"]){o0U*=-1;}if(o0U){j0U[h0U][E0U]=o0U;}}n0U.Studies.MA("exponential",p0U,E0U,0,"_EMA-S",G0U,i0U);n0U.Studies.MA("exponential",B0U,E0U,0,"_EMA-L",G0U,i0U);for(h0U=Math.max(B0U,i0U.startFrom);h0U < j0U.length;h0U++){if(j0U[h0U].futureTick || j0U[h0U][D0U] === null || j0U[h0U][k0U] === null)break;j0U[h0U][U0U]=j0U[h0U][D0U] - j0U[h0U][k0U];}n0U.Studies.MA("exponential",Number(i0U.inputs[k3i]),U0U,0,"KlingerSignal",G0U,i0U);for(h0U=i0U.startFrom;h0U < j0U.length;h0U++){j0U[h0U][q0U]=j0U[h0U][U0U] - j0U[h0U][t0U];}i0U.outputMap[q0U]="";};n0U.Studies.studyLibrary=n0U.extend(n0U.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:n0U.Studies.displayHistogramWithSeries,calculateFN:n0U.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":+"34","Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};r2B=v0U=>{var S0U,K3i,r3i,l3i,R3i,Q3i,A3i,C3i;S0U=typeof _CIQ !== "undefined"?_CIQ:v0U.CIQ;if(!S0U.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {K3i="fi";K3i+="e";K3i+="l";K3i+="d";r3i="au";r3i+="t";r3i+="o";l3i="fi";l3i+="e";l3i+="l";l3i+="d";R3i="Linear Reg Interce";R3i+="pt";Q3i="au";Q3i+="to";A3i="Tim";A3i+="e";A3i+="Serie";A3i+="s";C3i="tim";C3i+="e ";C3i+="se";C3i+="ries";S0U.Studies.prettify[C3i]="tsma";S0U.Studies.movingAverage.conversions.tsma="time series";S0U.Studies.movingAverage.translations["time series"]="Time Series";S0U.Studies.movingAverage.typeMap.tsma="TimeSeries";S0U.Studies.movingAverage.typeMap["time series"]=A3i;S0U.Studies.calculateMovingAverageTimeSeries=function(T0U,N0U){var j6bh=T5VV;var a0U,V0U,m0U,M0U,z0U,R0U,s0U,P0U;N0U.ma=new S0U.Studies.StudyDescriptor(N0U.name,"ma",N0U.panel);N0U.ma.chart=N0U.chart;N0U.ma.days=N0U.days;N0U.ma.startFrom=N0U.startFrom;N0U.ma.inputs=N0U.inputs;S0U.Studies.calculateLinearRegressionIndicator(T0U,N0U.ma);a0U=N0U.name;for(var A0U in N0U.outputs){j6bh.i3mK(93);a0U=j6bh.E3mK(a0U,A0U,4466 <= 3010?("3740" ^ 0,211) !== (8223,9560)?(1890,9544) >= 3627?0x10c7:("k",![]):18.97:" ");}V0U=parseInt(N0U.inputs.Offset,+"10");if(isNaN(V0U)){V0U=0;}m0U=N0U.chart.scrubbed;M0U=V0U;for(var x0U=N0U.startFrom - +"1";x0U >= 0;x0U--){z0U=m0U[x0U][a0U];if(!z0U && z0U !== "0" << 2083838752)continue;if(M0U > 0){M0U--;continue;}break;}R0U=[];j6bh.d7Kh();for(x0U++;x0U < m0U.length;x0U++){s0U=m0U[x0U];if(x0U + V0U >= 0){if(x0U + V0U < m0U.length){j6bh.N3mK(0);m0U[j6bh.E3mK(V0U,x0U)][a0U]=s0U["Forecast " + N0U.name];}else {P0U={};P0U[a0U]=s0U["Forecast " + N0U.name];R0U.push(P0U);}}}N0U.appendFutureTicks(T0U,R0U);};S0U.Studies.calculateLinearRegressionIndicator=function(Y0U,y0U){var v6bh=T5VV;var l0U,u0U,F0U,W0U,b0U,f0U,Q0U,r0U,w0U,J3i,T3i,g3i,L0U,W3i,I0U,d0U,e0U,X0U;l0U=y0U.chart.scrubbed;if(l0U.length < y0U.days + 1){y0U.error=!0;return;}u0U=y0U.inputs.Field;if(!u0U || u0U == "field"){u0U="Close";}v6bh.i3mK(70);var F1Vu=v6bh.e3mK(87,5,15,13);v6bh.N3mK(1);var n1Vu=v6bh.E3mK(13,15);F0U=y0U.days * (y0U.days + F1Vu) / n1Vu;W0U=Math.pow(F0U,+"2");v6bh.i3mK(45);var c1Vu=v6bh.E3mK(37,2,19,0);v6bh.N3mK(70);var d1Vu=v6bh.e3mK(161,12,13,8);b0U=F0U * ("2" * c1Vu * y0U.days + +"1") / d1Vu;f0U=0;Q0U=+"0";r0U=0;if(y0U.startFrom){v6bh.i3mK(28);var q1Vu=v6bh.e3mK(14,8,1,0,7);w0U=l0U[y0U.startFrom - q1Vu]["_sums " + y0U.name];if(w0U){Q0U=w0U[0];f0U=w0U[1];r0U=w0U[2];}}for(var C0U=y0U.startFrom;C0U < l0U.length;C0U++){J3i="Fore";J3i+="cast ";T3i="Int";T3i+="e";T3i+="rc";T3i+="ept ";g3i="Slo";g3i+="pe ";L0U=l0U[C0U][u0U];if(L0U && typeof L0U == "object"){L0U=L0U[y0U.subField];}if(!L0U && L0U !== "0" << 115812512)continue;Q0U+=y0U.days * L0U - f0U;f0U+=L0U;r0U+=Math.pow(L0U,2);if(C0U < y0U.days - 1)continue;else if(C0U > y0U.days - +"1"){W3i="ob";W3i+="je";W3i+="c";W3i+="t";I0U=l0U[C0U - y0U.days][u0U];if(I0U && typeof I0U == W3i){I0U=I0U[y0U.subField];}if(!I0U && I0U !== 0)continue;f0U-=I0U;r0U-=Math.pow(I0U,2);}d0U=(y0U.days * Q0U - F0U * f0U) / (y0U.days * b0U - W0U);l0U[C0U][g3i + y0U.name]=d0U;e0U=(f0U - d0U * F0U) / y0U.days;l0U[C0U][T3i + y0U.name]=e0U;l0U[C0U][J3i + y0U.name]=e0U + d0U * y0U.days;v6bh.N3mK(1);var b1Vu=v6bh.E3mK(8,10);X0U=(y0U.days * b0U - W0U) / (y0U.days * r0U - Math.pow(f0U,b1Vu));v6bh.N3mK(144);l0U[C0U]["RSquared " + y0U.name]=v6bh.E3mK(X0U,d0U,d0U);l0U[C0U]["_sums " + y0U.name]=[Q0U,f0U,r0U];}};S0U.Studies.studyLibrary=S0U.extend(S0U.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!0,calculateFN:S0U.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:Q3i}},"Lin Incpt":{name:R3i,overlay:! ![],calculateFN:S0U.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:l3i},outputs:{Intercept:r3i}},"Lin R2":{name:"Linear Reg R2",calculateFN:S0U.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:S0U.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:K3i},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:!"",calculateFN:S0U.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};d2B=H1U=>{var Z0U,V3i,H9i;Z0U=typeof _CIQ !== "undefined"?_CIQ:H1U.CIQ;if(!Z0U.Studies){V3i="mac";V3i+="d";V3i+=" feature requires first activating studies feature.";console.error(V3i);}else {H9i="M";H9i+="A";H9i+="C";H9i+="D";Z0U.Studies.calculateMACD=function(B1U,J1U){var i6bh=T5VV;var Y3i,a3i,O3i,n1U,g1U,c1U,h1U,i1U,O1U,K1U,U1U,p3i,X3i,u3i,j1U,E1U,s9i,o1U;Y3i="_";Y3i+="hist";a3i="Signal";a3i+=" Pe";a3i+="rio";a3i+="d";O3i="Fast MA P";O3i+="eriod";n1U=J1U.chart.scrubbed;g1U=J1U.inputs;c1U=J1U.name;if(!J1U.macd1Days){J1U.macd1Days=parseFloat(g1U[O3i]);}if(!J1U.macd2Days){J1U.macd2Days=parseFloat(g1U["Slow MA Period"]);}if(!J1U.signalDays){J1U.signalDays=parseFloat(g1U[a3i]);}if(!J1U.days){J1U.days=Math.max(J1U.macd1Days,J1U.macd2Days,J1U.signalDays);}if(n1U.length < J1U.days + 1){J1U.error=! !1;return;}h1U=J1U.inputs.Field;if(!h1U || h1U == "field"){h1U="Close";}i1U=g1U["Moving Average Type"];if(!i1U){i1U="exponential";}Z0U.Studies.MA(i1U,J1U.macd1Days,h1U,0,"_MACD1",B1U,J1U);Z0U.Studies.MA(i1U,J1U.macd2Days,h1U,0,"_MACD2",B1U,J1U);U1U=Math.max(J1U.startFrom,J1U.days - 1);for(O1U=U1U;O1U < n1U.length;O1U++){p3i="_M";p3i+="AC";p3i+="D";p3i+="2 ";X3i="_MACD1";X3i+=" ";u3i="_MACD";u3i+="1 ";K1U=n1U[O1U];if((K1U[u3i + c1U] || K1U[X3i + c1U] === 0) && (K1U[p3i + c1U] || K1U["_MACD2 " + c1U] === 0)){i6bh.i3mK(0);K1U[i6bh.E3mK(c1U,"MACD ")]=K1U["_MACD1 " + c1U] - K1U["_MACD2 " + c1U];}}j1U=g1U["Signal MA Type"];if(!j1U){j1U="exponential";}Z0U.Studies.MA(j1U,J1U.signalDays,"MACD " + c1U,"0" << 531080832,"Signal",B1U,J1U);i6bh.i3mK(0);E1U=i6bh.e3mK(Y3i,c1U);for(O1U=U1U;O1U < n1U.length;O1U++){s9i="Signa";s9i+="l ";K1U=n1U[O1U];i6bh.N3mK(0);o1U=K1U[i6bh.E3mK(c1U,s9i)];if(!o1U && o1U !== 0)continue;K1U[E1U]=K1U["MACD " + c1U] - K1U["Signal " + c1U];}J1U.outputMap[E1U]="";};Z0U.Studies.studyLibrary=Z0U.extend(Z0U.Studies.studyLibrary,{macd:{name:H9i,calculateFN:Z0U.Studies.calculateMACD,seriesFN:Z0U.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":+"26","Signal Period":+"9"},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};F2B=p1U=>{T5VV.d7Kh();var G1U,w9i;G1U=typeof _CIQ !== "undefined"?_CIQ:p1U.CIQ;if(!G1U.Studies){console.error("massIndex feature requires first activating studies feature.");}else {w9i="Mass";w9i+=" Ind";w9i+="ex";G1U.Studies.calculateMassIndex=function(v1U,q1U){var h6bh=T5VV;var v9i,D1U,S1U,S9i,U9i;v9i="_Hi";v9i+="g";v9i+="h-Low ";D1U=q1U.chart.scrubbed;if(D1U.length < Math.max(+"9",q1U.days + 1)){q1U.error=!0;return;}for(var t1U=q1U.startFrom;t1U < D1U.length;t1U++){D1U[t1U]["_High-Low " + q1U.name]=D1U[t1U].High - D1U[t1U].Low;}G1U.Studies.MA("exponential",9,v9i + q1U.name,0,"_EMA",v1U,q1U);h6bh.i3mK(5);G1U.Studies.MA("exponential",h6bh.E3mK(1,"9"),"_EMA " + q1U.name,0,"_EMA2",v1U,q1U);S1U=0;if(D1U[q1U.startFrom - 1] && D1U[q1U.startFrom - 1]["_total " + q1U.name]){h6bh.i3mK(145);var h1Vu=h6bh.e3mK(4,14,17);S1U=D1U[q1U.startFrom - h1Vu]["_total " + q1U.name];}for(var k1U=Math.max(17,q1U.startFrom);k1U < D1U.length;k1U++){S1U+=D1U[k1U]["_EMA " + q1U.name] / D1U[k1U]["_EMA2 " + q1U.name];if(k1U >= 17 + q1U.days - 1){S9i="_E";S9i+="M";S9i+="A";S9i+="2 ";U9i="Resu";U9i+="lt ";D1U[k1U][U9i + q1U.name]=S1U;h6bh.i3mK(2);var z1Vu=h6bh.e3mK(0,16,17);S1U-=D1U[k1U - q1U.days + z1Vu]["_EMA " + q1U.name] / D1U[k1U - q1U.days + ("1" ^ 0)][S9i + q1U.name];}D1U[k1U]["_total " + q1U.name]=S1U;}};G1U.Studies.displayMassIndex=function(x1U,N1U,z1U){var V1U,R1U,a1U,m1U,M1U;G1U.Studies.displaySeriesAsLine(x1U,N1U,z1U);V1U=N1U.inputs["Bulge Threshold"];R1U=x1U.panels[N1U.panel];a1U=N1U.getYAxis(x1U);m1U=G1U.Studies.determineColor(N1U.outputs.Result);M1U={skipTransform:x1U.panels[N1U.panel].name != N1U.chart.name,panelName:N1U.panel,band:"Result " + N1U.name,threshold:V1U,direction:1,color:m1U,yAxis:a1U,opacity:0.3};T5VV.d7Kh();if(!N1U.highlight && x1U.highlightedDraggable){M1U.opacity*=+"0.3";}G1U.preparePeakValleyFill(x1U,M1U);G1U.Studies.drawHorizontal(x1U,N1U,null,V1U,a1U,m1U);};G1U.Studies.studyLibrary=G1U.extend(G1U.Studies.studyLibrary,{"Mass Idx":{name:w9i,seriesFN:G1U.Studies.displayMassIndex,calculateFN:G1U.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:+"0.1"}}}});}};Q2B=P1U=>{var s1U;s1U=typeof _CIQ !== "undefined"?_CIQ:P1U.CIQ;if(!s1U.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {s1U.Studies.calculateMoneyFlowIndex=function(w1U,y1U){var K6bh=T5VV;var t9i,A1U,l1U,C1U,f1U,d1U,I1U,F1U,u1U,L9i,Q1U,L1U,r1U;t9i="Res";t9i+="ul";t9i+="t ";K6bh.k7Kh();A1U=y1U.chart.scrubbed;if(A1U.length < y1U.days + 1){y1U.error=! !{};return;}l1U=0;C1U=0;K6bh.i3mK(36);var E1Vu=K6bh.e3mK(2,7,16,9);f1U=A1U[y1U.startFrom - E1Vu];d1U="_rawMF " + y1U.name;I1U="_cumMF " + y1U.name;F1U=t9i + y1U.name;if(f1U && f1U[I1U]){l1U=f1U[I1U][+"0"];K6bh.N3mK(1);C1U=f1U[I1U][K6bh.E3mK(0,"1")];}for(var T1U=y1U.startFrom;T1U < A1U.length;T1U++){u1U=A1U[T1U]["hlc/3"];if(T1U > 0 && !A1U[T1U].futureTick){L9i="h";L9i+="lc/3";K6bh.N3mK(1);Q1U=A1U[K6bh.e3mK(1,T1U)][L9i];L1U=u1U * A1U[T1U].Volume;if(u1U > Q1U){l1U+=L1U;}else if(u1U < Q1U){L1U*=-1;C1U-=L1U;}else {L1U=0;}if(T1U > y1U.days){r1U=A1U[T1U - y1U.days][d1U];if(r1U > 0){l1U-=r1U;}else {C1U+=r1U;}if(C1U === "0" << 1721065824){A1U[T1U][F1U]=100;}else if(A1U[T1U].Volume){K6bh.N3mK(146);A1U[T1U][F1U]=K6bh.e3mK(C1U,2147483647,"100",l1U,100,1);}}A1U[T1U][d1U]=L1U;A1U[T1U][I1U]=[l1U,C1U];}}};s1U.Studies.studyLibrary=s1U.extend(s1U.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:s1U.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};w2B=b1U=>{T5VV.d7Kh();var W1U,x9i,k9i,y9i,D9i,f9i,P9i,N9i,M9i,e9i,o9i,j9i;W1U=typeof _CIQ !== "undefined"?_CIQ:b1U.CIQ;if(!W1U.Studies){x9i="movingAverages fe";x9i+="ature requires firs";x9i+="t activating studies feature.";console.error(x9i);}else {k9i="au";k9i+="t";k9i+="o";y9i="fi";y9i+="eld";D9i="P";D9i+="e";D9i+="rce";D9i+="nt";f9i="a";f9i+="u";f9i+="t";f9i+="o";P9i="f";P9i+="ie";P9i+="ld";N9i="T";N9i+="ripleEx";N9i+="ponential";M9i="DoubleEx";M9i+="ponential";e9i="Hu";e9i+="l";e9i+="l";o9i="H";o9i+="u";o9i+="l";o9i+="l";j9i="t";j9i+="e";j9i+="m";j9i+="a";W1U.Studies.prettify=W1U.extend({"2-exponential":"dema","3-exponential":j9i,hull:"hma"},W1U.Studies.prettify);W1U.extend(W1U.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:o9i,"2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:e9i,hull:"Hull",dema:"DoubleExponential","2-exponential":M9i,tema:N9i,"3-exponential":"TripleExponential"}});W1U.Studies.calculateMovingAverageHull=function(O2U,e1U){var O6bh=T5VV;O6bh.k7Kh();var i9i,Z9i,I9i,Y1U,Z1U,X1U,H2U,F9i,J2U,c2U,n2U,K2U;i9i="_WMA";i9i+="2";Z9i="_WM";Z9i+="A1";I9i="Cl";I9i+="o";I9i+="s";I9i+="e";Y1U=e1U.chart.scrubbed;Z1U=e1U.inputs.Field;if(!Z1U || Z1U == "field"){Z1U=I9i;}W1U.Studies.MA("wma",e1U.days,Z1U,0,Z9i,O2U,e1U);W1U.Studies.MA("wma",Math.ceil(e1U.days / 2),Z1U,0,i9i,O2U,e1U);for(X1U=e1U.startFrom - 1;X1U >= +"0";X1U--){H2U=Y1U[X1U][Z1U];if(H2U && typeof H2U == "object"){H2U=H2U[e1U.subField];}if(H2U || H2U === 0)break;}for(X1U++;X1U < Y1U.length;X1U++){F9i="_WM";F9i+="A";F9i+="2";F9i+=" ";J2U=Y1U[X1U];O6bh.i3mK(36);var B1Vu=O6bh.E3mK(1,17,9,8);J2U["_MMA " + e1U.name]=B1Vu * J2U[F9i + e1U.name] - J2U["_WMA1 " + e1U.name];}c2U=parseInt(e1U.inputs.Offset,"10" ^ 0);if(isNaN(c2U)){c2U=0;}n2U=Math.floor(Math.sqrt(e1U.days));W1U.Studies.MA("wma",n2U,"_MMA " + e1U.name,c2U,"_HMA",O2U,e1U);K2U=e1U.name;for(var g2U in e1U.outputs){O6bh.i3mK(93);K2U=O6bh.E3mK(K2U,g2U,1243 > (7350,9662)?(8.56,7.42e+3):(4015,215.24) <= (718,649.12)?" ":"7274" - 0 == (984.54,2083)?(2.41e+3,9.72e+3):(0x3c9,! !""));}for(X1U=Math.max(e1U.days + n2U - 1,e1U.startFrom);X1U < Y1U.length;X1U++){Y1U[X1U][K2U]=Y1U[X1U]["_HMA " + e1U.name];}};W1U.Studies.calculateMovingAverageDoubleExponential=function(G2U,h2U){var g6bh=T5VV;var U2U,E2U,j2U,i2U,B2U,p2U,o2U,q2U,D2U,k2U,t2U;U2U=h2U.chart.scrubbed;E2U=h2U.inputs.Field;if(!E2U || E2U == "field"){E2U="Close";}g6bh.k7Kh();W1U.Studies.MA("ema",h2U.days,E2U,0,"_EMA1",G2U,h2U);W1U.Studies.MA("ema",h2U.days,"_EMA1 " + h2U.name,+"0","_EMA2",G2U,h2U);j2U=parseInt(h2U.inputs.Offset,10);if(isNaN(j2U)){j2U=+"0";}p2U=j2U;for(i2U=h2U.startFrom - 1;i2U >= 0;i2U--){B2U=U2U[i2U][E2U];if(B2U && typeof B2U == "object"){B2U=B2U[h2U.subField];}if(!B2U && B2U !== ("0" & 2147483647))continue;if(p2U > ("0" | 0)){p2U--;continue;}break;}o2U=h2U.name;for(var S2U in h2U.outputs){g6bh.N3mK(93);o2U=g6bh.e3mK(o2U,S2U,(112.19,4664) > "573.44" - 0?" ":(0x153a,394.41));}q2U=[];for(i2U++;i2U < U2U.length;i2U++){if(i2U < 2 * (h2U.days - 1))continue;D2U=U2U[i2U];g6bh.N3mK(7);var G1Vu=g6bh.e3mK(1,19,18);k2U=("2" | G1Vu) * D2U["_EMA1 " + h2U.name] - D2U["_EMA2 " + h2U.name];if(i2U + j2U >= 0){if(i2U + j2U < U2U.length){g6bh.N3mK(0);U2U[g6bh.E3mK(j2U,i2U)][o2U]=k2U;}else {t2U={};t2U[o2U]=k2U;q2U.push(t2U);}}}h2U.appendFutureTicks(G2U,q2U);};W1U.Studies.calculateMovingAverageTripleExponential=function(z2U,v2U){var B6bh=T5VV;var c9i,n9i,a2U,m2U,x2U,N2U,V2U,s2U,d9i,M2U,P2U,b9i,q9i,R2U,T2U,A2U,v3v,U3v,S3v;c9i="_";c9i+="EMA2";n9i="_EMA";n9i+="1";a2U=v2U.chart.scrubbed;m2U=v2U.inputs.Field;if(!m2U || m2U == "field"){m2U="Close";}W1U.Studies.MA("ema",v2U.days,m2U,"0" - 0,n9i,z2U,v2U);W1U.Studies.MA("ema",v2U.days,"_EMA1 " + v2U.name,0,c9i,z2U,v2U);W1U.Studies.MA("ema",v2U.days,"_EMA2 " + v2U.name,0,"_EMA3",z2U,v2U);x2U=parseInt(v2U.inputs.Offset,"10" * 1);if(isNaN(x2U)){x2U=0;}s2U=x2U;for(N2U=v2U.startFrom - ("1" | 1);N2U >= 0;N2U--){d9i="obj";d9i+="e";d9i+="c";d9i+="t";V2U=a2U[N2U][m2U];if(V2U && typeof V2U == d9i){V2U=V2U[v2U.subField];}if(!V2U && V2U !== 0)continue;if(s2U > 0){s2U--;continue;}break;}M2U=v2U.name;for(var y2U in v2U.outputs){B6bh.i3mK(93);M2U=B6bh.E3mK(M2U,y2U,560.01 < 520.35?+"935.14" === (396,724.85)?+"7.55e+3":(9121,369.24) != (1950,+"7101")?("0x2a8" * 1,0xeb4):647.62:" ");}P2U=[];for(N2U++;N2U < a2U.length;N2U++){b9i="_";b9i+="E";b9i+="MA";b9i+="3 ";q9i="_";q9i+="EMA";q9i+="2";q9i+=" ";if(N2U < 3 * (v2U.days - 1))continue;R2U=a2U[N2U];B6bh.N3mK(147);var m1Vu=B6bh.E3mK(4,4,15,4,3);B6bh.N3mK(1);var P1Vu=B6bh.e3mK(6,9);T2U=m1Vu * R2U["_EMA1 " + v2U.name] - P1Vu * R2U[q9i + v2U.name] + R2U[b9i + v2U.name];if(N2U + x2U >= 0){if(N2U + x2U < a2U.length){B6bh.i3mK(0);a2U[B6bh.e3mK(x2U,N2U)][M2U]=T2U;}else {A2U={};A2U[M2U]=T2U;P2U.push(A2U);}}}v3v=-1417573364;U3v=-279626143;S3v=2;for(var t3v=1;B6bh.Y6v(t3v.toString(),t3v.toString().length,"15427" - 0) !== v3v;t3v++){v2U.appendFutureTicks(z2U,P2U);B6bh.i3mK(4);S3v+=B6bh.E3mK("2",2147483647);}if(B6bh.Y6v(S3v.toString(),S3v.toString().length,"44626" >> 772226752) !== U3v){v2U.appendFutureTicks(z2U,P2U);}};W1U.Studies.calculateMAEnvelope=function(I2U,C2U){var h9i,l2U,L2U,f2U,z9i;h9i="M";h9i+="A";l2U=C2U.inputs.Field;if(!l2U || l2U == "field"){l2U="Close";}W1U.Studies.MA(C2U.inputs["Moving Average Type"],C2U.days,l2U,0,h9i,I2U,C2U);L2U=C2U.inputs["Shift Type"];f2U=C2U.inputs.Shift;if(!L2U){z9i="pe";z9i+="rc";z9i+="en";z9i+="t";L2U=z9i;f2U=C2U.inputs["Shift Percentage"];}if(L2U == "percent"){T5VV.i3mK(10);W1U.Studies.calculateGenericEnvelope(I2U,C2U,T5VV.e3mK(f2U,100),"MA " + C2U.name);}else if(L2U == "points"){W1U.Studies.calculateGenericEnvelope(I2U,C2U,null,"MA " + C2U.name,null,Number(f2U));}};W1U.Studies.calculateMADev=function(Y2U,u2U){var m9i,B9i,E9i,w2U,d2U,W2U,b2U,X2U,G9i,F2U,r2U,Q2U;m9i="_";m9i+="hi";m9i+="st";B9i="_";B9i+="M";B9i+="A";E9i="Points ";E9i+="Or Percent";w2U=u2U.chart.scrubbed;if(w2U.length < u2U.days + ("1" >> 1118086368)){u2U.error=! !{};return;}d2U=u2U.inputs.Field;if(!d2U || d2U == "field"){d2U="Close";}W2U=u2U.inputs[E9i];if(!W2U){W2U="Points";}b2U=u2U.inputs["Moving Average Type"];if(!b2U){b2U="exponential";}W1U.Studies.MA(b2U,u2U.days,d2U,0,B9i,Y2U,u2U);X2U=u2U.name + "_hist";for(var e2U=Math.max(u2U.startFrom,u2U.days - 1);e2U < w2U.length;e2U++){G9i="obje";G9i+="ct";F2U=w2U[e2U];r2U=F2U[d2U];if(r2U && typeof r2U == G9i){r2U=r2U[u2U.subField];}Q2U=F2U["_MA " + u2U.name];if(Q2U || Q2U === 0){if(W2U == "Points"){T5VV.N3mK(1);F2U[X2U]=T5VV.E3mK(Q2U,r2U);}else {T5VV.i3mK(148);F2U[X2U]=T5VV.e3mK(100,r2U,Q2U,1);}}}u2U.outputMap={};u2U.outputMap[u2U.name + m9i]="";};W1U.Studies.studyLibrary=W1U.extend(W1U.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:! !{},seriesFN:W1U.Studies.displayChannel,calculateFN:W1U.Studies.calculateMAEnvelope,inputs:{Period:50,Field:P9i,"Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":! ![]},outputs:{"MA Env Top":f9i,"MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:W1U.Studies.calculateMADev,seriesFN:W1U.Studies.displayHistogramWithSeries,inputs:{Period:"12" ^ 0,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points",D9i]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:! ![],seriesFN:W1U.Studies.displayChannel,calculateFN:function(H3U,Z2U){Z2U.inputs["Moving Average Type"]="triangular";W1U.Studies.calculateMAEnvelope(H3U,Z2U);},inputs:{Period:"10" | 10,Field:y9i,"Shift Percentage":5,"Channel Fill":! !{}},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":k9i},attributes:{"Shift Percentage":{min:0.1,step:"0.1" - 0}}}});}};W2B=c3U=>{var C9i,J3U,A9i;C9i="u";T5VV.k7Kh();C9i+="n";C9i+="def";C9i+="ined";J3U=typeof _CIQ !== C9i?_CIQ:c3U.CIQ;if(!J3U.Studies){A9i="parabolicSAR featu";A9i+="re req";A9i+="uires first activating studies feature.";console.error(A9i);}else {J3U.Studies.calculatePSAR=function(D3U,h3U){var p8Kh=T5VV;var g9i,W9i,K3U,i3U,n3U,j3U,g3U,E3U,o3U,T9i,B3U,U3U,G3U,p3U,J9i;g9i="M";g9i+="aximum AF";W9i="Mi";W9i+="nimum AF";K3U=h3U.chart.scrubbed;i3U=0;n3U=null;function q3U(){i3U=0;p8Kh.k7Kh();n3U=null;j3U=!j3U;}j3U=! !0;g3U=0;E3U=parseFloat(h3U.inputs[W9i]);o3U=parseFloat(h3U.inputs[g9i]);if(h3U.startFrom > +"0"){T9i="Re";T9i+="su";T9i+="l";T9i+="t ";p8Kh.N3mK(141);var f1Vu=p8Kh.e3mK(4,3,2,11,13);g3U=K3U[h3U.startFrom - f1Vu][T9i + h3U.name];B3U=K3U[h3U.startFrom - +"1"]["_state " + h3U.name];if(B3U && B3U.length == 3){i3U=B3U[0];n3U=B3U[1];j3U=B3U[2];}}for(var O3U=h3U.startFrom - 1;O3U < K3U.length - 1;O3U++){if(O3U < 0)continue;if(K3U[O3U].futureTick)break;U3U=g3U;if(j3U){if(!n3U || n3U < K3U[O3U].High){n3U=K3U[O3U].High;p8Kh.i3mK(0);i3U=Math.min(p8Kh.e3mK(E3U,i3U),o3U);}p8Kh.N3mK(149);g3U=p8Kh.e3mK(U3U,n3U,i3U,U3U);G3U=Math.min(K3U[Math.max(1,O3U) - 1].Low,K3U[O3U].Low);if(g3U > K3U[O3U + 1].Low){g3U=n3U;q3U();}else if(g3U > G3U){g3U=G3U;}}else {if(!n3U || n3U > K3U[O3U].Low){n3U=K3U[O3U].Low;p8Kh.i3mK(0);i3U=Math.min(p8Kh.e3mK(E3U,i3U),o3U);}p8Kh.N3mK(149);g3U=p8Kh.E3mK(U3U,n3U,i3U,U3U);p3U=Math.max(K3U[Math.max("1" ^ 0,O3U) - 1].High,K3U[O3U].High);if(g3U < K3U[O3U + ("1" ^ 0)].High){g3U=n3U;q3U();}else if(g3U < p3U){g3U=p3U;}}p8Kh.i3mK(0);K3U[p8Kh.e3mK(1,O3U)]["_state " + h3U.name]=[i3U,n3U,j3U];if(!isNaN(K3U[O3U].High) || !isNaN(K3U[O3U].Low)){J9i="R";J9i+="esu";J9i+="lt ";p8Kh.N3mK(0);K3U[p8Kh.e3mK(1,O3U)][J9i + h3U.name]=g3U;}}};J3U.Studies.studyLibrary=J3U.extend(J3U.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:! ![],calculateFN:J3U.Studies.calculatePSAR,seriesFN:J3U.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};b2B=t3U=>{var Q9i,k3U,S7i,U7i,v7i,H7i;Q9i="un";Q9i+="d";Q9i+="efine";T5VV.k7Kh();Q9i+="d";k3U=typeof _CIQ !== Q9i?_CIQ:t3U.CIQ;if(!k3U.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {S7i="#ffd0c";S7i+="f";U7i="a";U7i+="u";U7i+="t";U7i+="o";v7i="f";v7i+="ibon";v7i+="acci";H7i="Pivo";H7i+="t P";H7i+="oints";k3U.Studies.calculatePivotPoints=function(m3U,x3U){var X8Kh=T5VV;var K9i,r9i,l9i,R9i,v3U,V3U,a3U,R3U,s3U,M3U,P3U,S3U,V9i,T3U,A3U,a9i,O9i,p9i,X9i,u9i;K9i="millise";K9i+="cond";X8Kh.d7Kh();r9i="s";r9i+="e";r9i+="co";r9i+="nd";l9i="yea";l9i+="r";R9i="mo";R9i+="n";R9i+="t";R9i+="h";v3U=x3U.chart.scrubbed;V3U="day";a3U=m3U.layout.interval;R3U=m3U.layout.timeUnit;if(a3U == "day"){V3U=R9i;}else if(k3U.ChartEngine.isDailyInterval(a3U)){V3U=l9i;}else if(a3U == r9i || a3U == "millisecond" || R3U == "second" || R3U == K9i){V3U="15min";}else {s3U=m3U.layout.periodicity;if(a3U != "minute"){s3U*=a3U;}if(s3U >= 30){V3U="week";}}M3U=null;X8Kh.N3mK(55);var D1Vu=X8Kh.e3mK(5,8,27,108);P3U=D1Vu - k3U.getFromNS(m3U.chart,"market.beginningDayOfWeek","0" | 0);S3U={pivotPoint:NaN,high:"0" & 2147483647,low:0,prevHigh:0,prevLow:0,hlSpread:"0" ^ 0};if(x3U.startFrom > 1 && v3U[x3U.startFrom - 1]["_pointers " + x3U.name]){S3U=k3U.clone(v3U[x3U.startFrom - 1]["_pointers " + x3U.name]);}for(var N3U=Math.max(1,x3U.startFrom);N3U < v3U.length;N3U++){V9i="y";V9i+="e";V9i+="a";V9i+="r";if(!v3U[N3U - 1])continue;S3U.high=Math.max(S3U.high,v3U[N3U - 1].High);S3U.low=Math.min(S3U.low > 0?S3U.low:v3U[N3U - 1].Low,v3U[N3U - 1].Low);if(x3U.inputs.Continuous){z3U();}else if(V3U == V9i && v3U[N3U].DT.getYear() != v3U[N3U - 1].DT.getYear()){z3U();}else if(V3U == "month" && v3U[N3U].DT.getMonth() != v3U[N3U - 1].DT.getMonth()){z3U();}else if(V3U == "week" && (v3U[N3U].DT.getDay() + P3U) % 7 < (v3U[N3U - 1].DT.getDay() + P3U) % 7){z3U();}else if(V3U == "day"){if(M3U === null){M3U=k3U.Studies.getMarketOffset({stx:m3U,localQuoteDate:v3U[N3U].DT,shiftToDateBoundary:!""});}T3U=new Date(new Date(+v3U[N3U].DT).setMilliseconds(v3U[N3U].DT.getMilliseconds() + M3U));A3U=new Date(new Date(+v3U[N3U - 1].DT).setMilliseconds(v3U[N3U - 1].DT.getMilliseconds() + M3U));if(A3U.getDate() !== T3U.getDate() && A3U.getDay() !== 0 && m3U.chart.market.isMarketDate(T3U)){M3U=null;z3U();}}else if(V3U == "15min" && (v3U[N3U].DT.getHours() != v3U[N3U - +"1"].DT.getHours() || Math.floor(v3U[N3U].DT.getMinutes() / ("15" * 1)) != Math.floor(v3U[N3U - 1].DT.getMinutes() / 15))){z3U();}v3U[N3U]["Pivot " + x3U.name]=S3U.pivotPoint;if(x3U.inputs.Type.toLowerCase() == "fibonacci"){a9i="Su";a9i+="p";a9i+="por";a9i+="t 3 ";O9i="Resis";O9i+="tanc";O9i+="e ";O9i+="2 ";v3U[N3U]["Resistance 1 " + x3U.name]=S3U.pivotPoint + 0.382 * S3U.hlSpread;v3U[N3U][O9i + x3U.name]=S3U.pivotPoint + 0.618 * S3U.hlSpread;v3U[N3U]["Resistance 3 " + x3U.name]=S3U.pivotPoint + S3U.hlSpread;v3U[N3U]["Support 1 " + x3U.name]=S3U.pivotPoint - 0.382 * S3U.hlSpread;v3U[N3U]["Support 2 " + x3U.name]=S3U.pivotPoint - 0.618 * S3U.hlSpread;v3U[N3U][a9i + x3U.name]=S3U.pivotPoint - S3U.hlSpread;}else {p9i="Sup";p9i+="port";p9i+=" 3 ";X9i="S";X9i+="uppo";X9i+="rt 1 ";u9i="Resistanc";u9i+="e 3";u9i+=" ";X8Kh.i3mK(23);var y1Vu=X8Kh.E3mK(4,22,6);v3U[N3U]["Resistance 1 " + x3U.name]=y1Vu * S3U.pivotPoint - S3U.prevLow;v3U[N3U]["Resistance 2 " + x3U.name]=S3U.pivotPoint + S3U.hlSpread;v3U[N3U][u9i + x3U.name]=S3U.prevHigh + +"2" * (S3U.pivotPoint - S3U.prevLow);X8Kh.i3mK(31);var k1Vu=X8Kh.e3mK(0,6,20,16);v3U[N3U][X9i + x3U.name]=k1Vu * S3U.pivotPoint - S3U.prevHigh;v3U[N3U]["Support 2 " + x3U.name]=S3U.pivotPoint - S3U.hlSpread;X8Kh.N3mK(135);var C1Vu=X8Kh.e3mK(6,98,30,20);v3U[N3U][p9i + x3U.name]=S3U.prevLow - C1Vu * (S3U.prevHigh - S3U.pivotPoint);}v3U[N3U]["_pointers " + x3U.name]=k3U.clone(S3U);}function z3U(){X8Kh.i3mK(31);var A1Vu=X8Kh.e3mK(0,11,13,3);X8Kh.i3mK(62);var W1Vu=X8Kh.E3mK(26,8,2,13);S3U.pivotPoint=(S3U.high + S3U.low + v3U[N3U - A1Vu].Close) / W1Vu;S3U.prevHigh=S3U.high;S3U.prevLow=S3U.low;S3U.hlSpread=S3U.high - S3U.low;S3U.high=S3U.low=0;}};k3U.Studies.displayPivotPoints=function(C3U,y3U,f3U){var s7i,Y9i,L3U,l3U;T5VV.d7Kh();y3U.noSlopes=!y3U.inputs.Continuous;k3U.Studies.displaySeriesAsLine(C3U,y3U,f3U);if(y3U.inputs.Shading){s7i="S";s7i+="upport 2 ";Y9i="Resis";Y9i+="tan";Y9i+="ce";Y9i+=" 1";L3U=C3U.panels[y3U.panel];l3U={noSlopes:y3U.noSlopes,opacity:y3U.parameters.opacity?y3U.parameters.opacity:0.2,skipTransform:L3U.name != y3U.chart.name,yAxis:y3U.getYAxis(C3U)};if(!y3U.highlight && C3U.highlightedDraggable){l3U.opacity*=+"0.3";}k3U.prepareChannelFill(C3U,k3U.extend({panelName:y3U.panel,topBand:"Resistance 3 " + y3U.name,bottomBand:"Resistance 2 " + y3U.name,color:k3U.Studies.determineColor(y3U.outputs["Resistance 3"])},l3U));k3U.prepareChannelFill(C3U,k3U.extend({panelName:y3U.panel,topBand:"Resistance 2 " + y3U.name,bottomBand:"Resistance 1 " + y3U.name,color:k3U.Studies.determineColor(y3U.outputs["Resistance 2"])},l3U));k3U.prepareChannelFill(C3U,k3U.extend({panelName:y3U.panel,topBand:"Resistance 1 " + y3U.name,bottomBand:"Pivot " + y3U.name,color:k3U.Studies.determineColor(y3U.outputs[Y9i])},l3U));k3U.prepareChannelFill(C3U,k3U.extend({panelName:y3U.panel,topBand:"Support 1 " + y3U.name,bottomBand:"Pivot " + y3U.name,color:k3U.Studies.determineColor(y3U.outputs["Support 1"])},l3U));k3U.prepareChannelFill(C3U,k3U.extend({panelName:y3U.panel,topBand:"Support 2 " + y3U.name,bottomBand:"Support 1 " + y3U.name,color:k3U.Studies.determineColor(y3U.outputs["Support 2"])},l3U));k3U.prepareChannelFill(C3U,k3U.extend({panelName:y3U.panel,topBand:"Support 3 " + y3U.name,bottomBand:s7i + y3U.name,color:k3U.Studies.determineColor(y3U.outputs["Support 3"])},l3U));}};k3U.Studies.studyLibrary=k3U.extend(k3U.Studies.studyLibrary,{"Pivot Points":{name:H7i,overlay:!0,seriesFN:k3U.Studies.displayPivotPoints,calculateFN:k3U.Studies.calculatePivotPoints,inputs:{Type:["standard",v7i],Continuous:!1,Shading:!{}},outputs:{Pivot:U7i,"Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":S7i,"Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};T5VV.k7Kh();e2B=u3U=>{var I3U,w7i;I3U=typeof _CIQ !== "undefined"?_CIQ:u3U.CIQ;if(!I3U.Studies){w7i="prettyGoodOscillator featu";w7i+="re requires first activating studies feature.";console.error(w7i);}else {I3U.Studies.calculatePrettyGoodOscillator=function(Q3U,r3U){var t7i,d3U,x7i,L7i;T5VV.k7Kh();t7i="true";t7i+="Range";d3U=r3U.chart.scrubbed;if(d3U.length < r3U.days + 1){r3U.error=! ![];return;}I3U.Studies.MA("exponential",r3U.days,t7i,0,"_EMA",Q3U,r3U);I3U.Studies.MA("simple",r3U.days,"Close","0" | 0,"_SMA",Q3U,r3U);for(var F3U=Math.max(1,r3U.startFrom);F3U < d3U.length;F3U++){x7i="_";x7i+="S";x7i+="MA ";L7i="R";L7i+="es";L7i+="ult ";if(!d3U[F3U]["_SMA " + r3U.name] || !d3U[F3U]["_EMA " + r3U.name])continue;d3U[F3U][L7i + r3U.name]=(d3U[F3U].Close - d3U[F3U][x7i + r3U.name]) / d3U[F3U]["_EMA " + r3U.name];}};I3U.Studies.studyLibrary=I3U.extend(I3U.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:I3U.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-("3" << 56044416),studyOverSoldColor:"auto"}}}});}};X2B=W3U=>{T5VV.d7Kh();var w3U,j7i,i7i,Z7i;w3U=typeof _CIQ !== "undefined"?_CIQ:W3U.CIQ;if(!w3U.Studies){j7i="priceMoment";j7i+="umOscillator feature requires first activating studies feature.";console.error(j7i);}else {i7i="0.0";i7i+="5";Z7i="aut";Z7i+="o";w3U.Studies.calculatePMO=function(H4U,b3U){var Q8Kh=T5VV;var I7i,N7i,M7i,o7i,Y3U,e3U,Z3U,X3U,J4U,e7i;I7i="PM";I7i+="O ";N7i="_E";N7i+="MAx1";N7i+="0";N7i+=" ";M7i="_RO";M7i+="C";M7i+="x10";M7i+=" ";o7i="Smo";o7i+="o";o7i+="thing Period";Y3U={Smooth:Number(b3U.inputs[o7i]) - 1,Double:Number(b3U.inputs["Double Smoothing Period"]) - 1,Signal:Number(b3U.inputs["Signal Period"])};e3U=b3U.chart.scrubbed;if(e3U.length < Y3U.Smooth + Y3U.Double){b3U.error=! ![];return;}Z3U=b3U.inputs.Field;if(!Z3U || Z3U == "field"){Z3U="Close";}for(X3U=b3U.startFrom;X3U < e3U.length;X3U++){if(!e3U[X3U])continue;if(!e3U[X3U - ("1" & 2147483647)])continue;Q8Kh.i3mK(1);J4U=e3U[Q8Kh.E3mK(1,X3U)][Z3U];if(J4U){e7i="_RO";e7i+="Cx10";e7i+=" ";Q8Kh.i3mK(108);var g1Vu=Q8Kh.E3mK(222,999,11,100,2);Q8Kh.N3mK(150);var T1Vu=Q8Kh.e3mK(6,9,10,1,6);e3U[X3U][e7i + b3U.name]=g1Vu * (e3U[X3U][Z3U] / J4U - T1Vu);}}w3U.Studies.MA("exponential",Y3U.Smooth,M7i + b3U.name,0,"_EMAx10",H4U,b3U);w3U.Studies.MA("exponential",Y3U.Double,N7i + b3U.name,0,"PMO",H4U,b3U);w3U.Studies.MA("exponential",Y3U.Signal,I7i + b3U.name,0,"PMOSignal",H4U,b3U);b3U.zoneOutput="PMO";};w3U.Studies.studyLibrary=w3U.extend(w3U.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:w3U.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":+"20","Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:Z7i}},attributes:{studyOverBoughtValue:{min:+"0",step:"0.05"},studyOverSoldValue:{max:0,step:i7i}}}});}};Y2B=K4U=>{var c4U,m7i,G7i,B7i,E7i;c4U=typeof _CIQ !== "undefined"?_CIQ:K4U.CIQ;if(!c4U.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {m7i="#F";m7i+="F000";m7i+="0";G7i="#";G7i+="00";G7i+="DD00";B7i="Per";B7i+="c";B7i+="en";B7i+="t";E7i="Poin";E7i+="ts";c4U.Studies.calculatePriceOscillator=function(p4U,O4U){var H8Kh=T5VV;var n7i,F7i,B4U,G4U,U4U,g4U,h4U,E4U,c7i,n4U,i4U,j4U,d7i;n7i="Perc";n7i+="e";n7i+="n";n7i+="t";F7i="Po";F7i+="ints Or";F7i+=" P";F7i+="ercent";B4U=O4U.chart.scrubbed;G4U=Number(O4U.inputs["Short Cycle"]);U4U=Number(O4U.inputs["Long Cycle"]);if(B4U.length < Math.max(G4U,U4U) + 1){O4U.error=! ![];return;}g4U=O4U.inputs.Field;h4U=O4U.inputs["Moving Average Type"];if(!h4U){h4U="simple";}if(!g4U || g4U == "field"){g4U="Close";}H8Kh.k7Kh();if(O4U.parameters.isVolume){g4U="Volume";h4U="exponential";}E4U=O4U.inputs[F7i];if(!E4U){E4U=n7i;}c4U.Studies.MA(h4U,G4U,g4U,0,"_Short MA",p4U,O4U);c4U.Studies.MA(h4U,U4U,g4U,0,"_Long MA",p4U,O4U);for(var o4U=Math.max(U4U,O4U.startFrom);o4U < B4U.length;o4U++){c7i="_Lon";c7i+="g ";c7i+="M";c7i+="A ";n4U=B4U[o4U];if(!n4U)continue;i4U=n4U["_Short MA " + O4U.name];j4U=n4U[c7i + O4U.name];if((i4U || i4U === 0) && (j4U || j4U === 0)){if(E4U == "Points"){H8Kh.N3mK(1);n4U["Result " + O4U.name]=H8Kh.E3mK(j4U,i4U);}else {H8Kh.N3mK(151);n4U["Result " + O4U.name]=H8Kh.E3mK(1,j4U,"100",i4U);}if(O4U.outputs["Increasing Bar"]){d7i="Res";d7i+="u";d7i+="lt";d7i+=" ";n4U[O4U.name + "_hist"]=n4U[d7i + O4U.name];O4U.outputMap={};O4U.outputMap[O4U.name + "_hist"]="";}}}};c4U.Studies.displayRAVI=function(D4U,q4U,V4U){var W8Kh=T5VV;var q7i,x4U,t4U,a4U,m4U,v4U,R4U,s4U,z7i,h7i,b7i,k4U,N4U,M4U,z4U;q7i="Incre";q7i+="asing Bar";x4U=D4U.panels[q4U.panel];t4U=q4U.getContext(D4U);a4U=q4U.getYAxis(D4U);m4U=D4U.pixelFromPrice(0,x4U,a4U);W8Kh.i3mK(152);var J1Vu=W8Kh.e3mK(5,19,17,12,2753);v4U=D4U.layout.candleWidth - J1Vu;if(v4U < 2){v4U=1;}R4U=c4U.Studies.determineColor(q4U.outputs[q7i]);s4U=c4U.Studies.determineColor(q4U.outputs["Decreasing Bar"]);D4U.startClip(q4U.panel);D4U.canvasColor("stx_histogram");if(!q4U.underlay){t4U.globalAlpha=1;}if(!q4U.highlight && D4U.highlightedDraggable){W8Kh.i3mK(1);t4U.globalAlpha*=W8Kh.E3mK(0,"0.3");}for(var S4U=0;S4U < V4U.length;S4U++){z7i="_h";z7i+="is";z7i+="t";h7i="_h";h7i+="ist";b7i="_hi";b7i+="st";k4U=V4U[S4U];W8Kh.N3mK(1);N4U=V4U[W8Kh.e3mK(1,S4U)];if(!N4U){N4U=D4U.getPreviousBar(D4U.chart,q4U.name + "_hist",S4U);}if(!k4U)continue;M4U=0;W8Kh.i3mK(5);z4U=W8Kh.E3mK(1,"0");if(q4U.parameters && q4U.parameters.studyOverZonesEnabled){M4U=parseFloat(q4U.parameters.studyOverBoughtValue);z4U=parseFloat(q4U.parameters.studyOverSoldValue);}if(!N4U){t4U.fillStyle="#CCCCCC";}else if(k4U[q4U.name + "_hist"] > M4U && N4U[q4U.name + b7i] < k4U[q4U.name + "_hist"]){t4U.fillStyle=R4U;}else if(k4U[q4U.name + "_hist"] < z4U && N4U[q4U.name + h7i] > k4U[q4U.name + "_hist"]){t4U.fillStyle=s4U;}else {t4U.fillStyle="#CCCCCC";}if(k4U.candleWidth){v4U=Math.floor(Math.max(1,k4U.candleWidth - 2));}t4U.fillRect(Math.floor(D4U.pixelFromBar(S4U,x4U.chart) - v4U / 2),Math.floor(m4U),Math.floor(v4U),Math.floor(D4U.pixelFromPrice(k4U[q4U.name + z7i],x4U,a4U) - m4U));}D4U.endClip();};c4U.Studies.studyLibrary=c4U.extend(c4U.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:c4U.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":"26" - 0,"Moving Average Type":"ema","Points Or Percent":[E7i,"Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:c4U.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points",B7i]},parameters:{init:{isVolume:! ![]}}},RAVI:{name:"RAVI",seriesFN:c4U.Studies.displayRAVI,calculateFN:c4U.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":G7i,"Decreasing Bar":m7i},centerline:+"0",parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:- +"3",studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};Z2B=T4U=>{var P4U,e1v,M1v,N1v,P7i,y7i;P4U=typeof _CIQ !== "undefined"?_CIQ:T4U.CIQ;T5VV.d7Kh();if(!P4U.Studies){e1v=-699919697;M1v=-1571753081;N1v=2;for(var Z1v=1;T5VV.s1v(Z1v.toString(),Z1v.toString().length,43971) !== e1v;Z1v++){P7i="primeNumber fe";P7i+="ature requires first activating studies feature.";console.error(P7i);N1v+=2;}if(T5VV.Y6v(N1v.toString(),N1v.toString().length,45054) !== M1v){console.error("");}}else {y7i="-1 ";y7i+="to 1";P4U.Studies.calculatePrimeNumber=function(W4U,l4U){var F8Kh=T5VV;var L4U,r4U,f7i,C4U,y4U,A4U,D7i,f4U,Q4U,w4U;L4U=[];r4U=l4U.chart.scrubbed;F8Kh.d7Kh();for(var u4U=l4U.startFrom;u4U < r4U.length;u4U++){f7i="Prime Num";f7i+="ber Bands";C4U=r4U[u4U];if(!C4U)continue;y4U=C4U.High;if(!isNaN(y4U)){for(var d4U=0;y4U > 0 && y4U <= 10;d4U++){y4U*=10;}if(I4U(y4U)){y4U+=+"2";}y4U=Math.ceil(y4U);if(y4U % 2 === 0){y4U++;}while(!I4U(y4U)){y4U+=2;}F8Kh.N3mK(5);y4U/=Math.pow(F8Kh.e3mK(1,"10"),d4U);}A4U=C4U.Low;if(!isNaN(A4U)){for(var F4U=0;A4U > 0 && A4U <= 10;F4U++){A4U*=10;}if(I4U(A4U)){A4U-=2;}A4U=Math.floor(A4U);if(A4U % ("2" | 2) === 0){A4U--;}if(A4U > 0){while(!I4U(A4U)){A4U-=2;}A4U/=Math.pow(10,F4U);}}if(l4U.type == f7i){D7i="Pr";D7i+="ime Bands To";D7i+="p ";if(!isNaN(y4U)){C4U[D7i + l4U.name]=y4U;}if(!isNaN(A4U)){C4U["Prime Bands Bottom " + l4U.name]=Math.max(0,A4U);}}else {f4U=0;F8Kh.i3mK(1);var Q1Vu=F8Kh.E3mK(1600,1700);Q4U=l4U.inputs["Tolerance Percentage"] * (y4U - A4U) / Q1Vu;F8Kh.i3mK(153);var R1Vu=F8Kh.e3mK(24,9,3,6,4);w4U=y4U + A4U - R1Vu * C4U.Close;if(w4U < Q4U){f4U=1;}else if(w4U > Q4U){F8Kh.N3mK(5);f4U=-F8Kh.e3mK(1,"1");}if(f4U){C4U["Result " + l4U.name]=f4U;}}}function I4U(b4U){var X4U;if(b4U <= 0){return !{};}else if(b4U != Math.floor(b4U)){return ! !"";}else if(L4U[b4U] === ! !{} || L4U[b4U] === !1){return L4U[b4U];}X4U=parseInt(Math.sqrt(b4U),10);for(var e4U=2;e4U <= X4U;e4U++){if(b4U % e4U === 0){L4U[b4U]=![];return !{};}}L4U[b4U]=!0;return ! !{};}};P4U.Studies.studyLibrary=P4U.extend(P4U.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:y7i,calculateFN:P4U.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":+"5"},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!0,calculateFN:P4U.Studies.calculatePrimeNumber,seriesFN:P4U.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};H3B=Z4U=>{var Y4U,O7i,V7i,K7i,r7i;T5VV.d7Kh();Y4U=typeof _CIQ !== "undefined"?_CIQ:Z4U.CIQ;if(!Y4U.Studies){console.error("pring feature requires first activating studies feature.");}else {O7i="Pring'";O7i+="s Spe";O7i+="cial K";V7i="#F";V7i+="F0000";K7i="f";K7i+="i";K7i+="e";K7i+="ld";r7i="Pring's Kno";r7i+="w Sure Thing";Y4U.Studies.calculateKST=function(U7U,J7U){var e8Kh=T5VV;var Q7i,g7i,W7i,g7U,i7U,d9v,q9v,b9v,k7i,h7U,j7U,A7i,C7i,o7U,n7U,c7U,T7i,J7i,B7U;Q7i="K";Q7i+="STSignal";g7i="Signal Peri";g7i+="od";W7i="Heav";W7i+="y ";W7i+="SMA Pe";W7i+="riod";g7U=J7U.chart.scrubbed;i7U=J7U.inputs.Field;d9v=-683580816;q9v=-936030243;b9v=2;for(var z9v=1;e8Kh.s1v(z9v.toString(),z9v.toString().length,29295) !== d9v;z9v++){k7i="fi";k7i+="el";k7i+="d";if(!i7U || i7U == k7i){i7U="Close";}h7U={};j7U={};h7U[1]=Number(J7U.inputs["Lightest Rate of Change Period"]);h7U[2]=Number(J7U.inputs["Light Rate of Change Period"]);h7U[3]=Number(J7U.inputs["Heavy Rate of Change Period"]);h7U[4]=Number(J7U.inputs["Heaviest Rate of Change Period"]);j7U[1]=Number(J7U.inputs["Lightest SMA Period"]);b9v+=2;}if(e8Kh.Y6v(b9v.toString(),b9v.toString().length,"15768" >> 852929216) !== q9v){A7i="Ligh";A7i+="test S";A7i+="MA Peri";A7i+="od";C7i="C";C7i+="l";C7i+="o";C7i+="se";if(-i7U && i7U != "Close"){i7U=C7i;}h7U={};j7U={};h7U[3]=Number(J7U.inputs["Heaviest Rate of Change Period"]);h7U[3]=Number(J7U.inputs[A7i]);h7U[2]=Number(J7U.inputs["Close"]);h7U[8]=Number(J7U.inputs["Lightest SMA Period"]);j7U[6]=Number(J7U.inputs["Close"]);}j7U[2]=Number(J7U.inputs["Light SMA Period"]);j7U[3]=Number(J7U.inputs[W7i]);e8Kh.i3mK(1);j7U[e8Kh.e3mK(0,"4")]=Number(J7U.inputs["Heaviest SMA Period"]);o7U=Number(J7U.inputs[g7i]);for(n7U=J7U.startFrom;n7U < g7U.length;n7U++){if(!g7U[n7U])continue;for(c7U=1;c7U <= 4;c7U++){if(n7U >= h7U[c7U] && g7U[n7U - h7U[c7U]] && g7U[n7U - h7U[c7U]][i7U]){e8Kh.i3mK(2);var l1Vu=e8Kh.e3mK(7,11,104);e8Kh.N3mK(154);var r1Vu=e8Kh.e3mK(0,11,8,17,2);g7U[n7U]["_ROC" + c7U + " " + J7U.name]=l1Vu * (g7U[n7U][i7U] / g7U[n7U - h7U[c7U]][i7U] - r1Vu);}}}for(c7U=+"1";c7U <= 4;c7U++){T7i="_";T7i+="S";T7i+="M";T7i+="A";Y4U.Studies.MA("simple",j7U[c7U],"_ROC" + c7U + " " + J7U.name,0,T7i + c7U,U7U,J7U);}for(n7U=J7U.startFrom;n7U < g7U.length;n7U++){g7U[n7U]["KST " + J7U.name]=null;for(c7U="1" | 1;c7U <= 4;c7U++){J7i="_S";J7i+="M";J7i+="A";e8Kh.N3mK(1);var K1Vu=e8Kh.E3mK(15,36);e8Kh.N3mK(155);var V1Vu=e8Kh.e3mK(7,10,10,8);e8Kh.i3mK(78);var O1Vu=e8Kh.e3mK(34920,4365,5796,3);e8Kh.i3mK(156);var a1Vu=e8Kh.E3mK(1,846,846,8455,6);e8Kh.i3mK(157);var u1Vu=e8Kh.E3mK(631,16,8,42,42);B7U=g7U[n7U][J7i + c7U + ((K1Vu,+"8488") <= (+"1475",+"7685")?"675.91" * V1Vu == (O1Vu,a1Vu)?(u1Vu,+"5.86e+3"):! !1:" ") + J7U.name];if(B7U || B7U === 0){e8Kh.i3mK(5);g7U[n7U]["KST " + J7U.name]+=e8Kh.e3mK(B7U,c7U);}}}Y4U.Studies.MA("simple",o7U,"KST " + J7U.name,0,Q7i,U7U,J7U);};Y4U.Studies.calculateSpecialK=function(T7U,v7U){var r8Kh=T5VV;var R7i,t7U,x7U,S7U,V7U,z7U,q7U,p7U,l7i,s7U;R7i="Clo";R7i+="se";t7U=v7U.chart.scrubbed;x7U=v7U.inputs.Field;if(!x7U || x7U == "field"){x7U=R7i;}S7U=v7U.inputs.Interval;if(!S7U){S7U="daily";}V7U={daily:[+"10",15,20,30,50,65,75,100,195,+"265",390,530],weekly:[4,"5" | 1,6,8,10,13,+"15","20" >> 853112192,39,52,78,104]};z7U={daily:[10,10,10,"15" - 0,50,65,75,100,130,130,130,195],weekly:[4,"5" * 1,6,8,+"10",13,15,+"20",+"26",26,26,39]};for(q7U=v7U.startFrom;q7U < t7U.length;q7U++){if(!t7U[q7U])continue;for(p7U=0;p7U < V7U[S7U].length;p7U++){if(q7U >= V7U[S7U][p7U] && t7U[q7U - V7U[S7U][p7U]] && t7U[q7U - V7U[S7U][p7U]][x7U]){r8Kh.N3mK(124);var X1Vu=r8Kh.e3mK(96,2,11,2,273);r8Kh.i3mK(7);var p1Vu=r8Kh.E3mK(0,11,10);t7U[q7U]["_ROC" + p7U + " " + v7U.name]=X1Vu * (t7U[q7U][x7U] / t7U[q7U - V7U[S7U][p7U]][x7U] - p1Vu);}}}for(p7U=0;p7U < z7U[S7U].length;p7U++){l7i="d";l7i+="a";l7i+="i";l7i+="ly";Y4U.Studies.MA(S7U == l7i?"simple":"exponential",z7U[S7U][p7U],"_ROC" + p7U + " " + v7U.name,0,"_MA" + p7U,T7U,v7U);}for(q7U=v7U.startFrom;q7U < t7U.length;q7U++){t7U[q7U]["Result " + v7U.name]=null;for(p7U=0;p7U < z7U[S7U].length;p7U++){r8Kh.i3mK(7);var Y1Vu=r8Kh.E3mK(64404,5,57253);r8Kh.N3mK(158);var s0Vu=r8Kh.e3mK(246,20,9,15,262);r8Kh.N3mK(1);var H0Vu=r8Kh.e3mK(68440,76995);r8Kh.N3mK(0);var v0Vu=r8Kh.e3mK(15,380);s7U=t7U[q7U]["_MA" + p7U + (+"744.99" != (Y1Vu,+"1190")?s0Vu === 485.72?!"":(+"912.26","111.9" - 0) !== (935.72,798.97)?" ":(H0Vu,"a"):v0Vu) + v7U.name];if(s7U || s7U === "0" >> 27249504){r8Kh.i3mK(159);t7U[q7U]["Result " + v7U.name]+=r8Kh.E3mK(4,1,p7U,s7U);}}}};Y4U.Studies.studyLibrary=Y4U.extend(Y4U.Studies.studyLibrary,{"Pring KST":{name:r7i,calculateFN:Y4U.Studies.calculateKST,inputs:{Field:K7i,"Lightest Rate of Change Period":10,"Lightest SMA Period":"10" << 1954681024,"Light Rate of Change Period":+"15","Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:V7i}},"Pring Sp-K":{name:O7i,calculateFN:Y4U.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}}});}};J3B=y7U=>{var a7i,A7U,C7U,u7i,I2i,N2i,M2i,e2i,o2i;a7i="unde";a7i+="fi";a7i+="ned";A7U=typeof _CIQ !== "undefined"?_CIQ:y7U.CIQ;C7U=typeof _timezoneJS !== a7i?_timezoneJS:y7U.timezoneJS;if(!A7U.Studies){u7i="projectedVolume feature requires first a";u7i+="ctivating st";u7i+="udies feature.";console.error(u7i);}else if(!A7U.Studies.studyLibrary.PVAT){I2i="s";I2i+="t";I2i+="e";I2i+="p";N2i="hh";N2i+=":";N2i+="m";N2i+="m:ss";M2i="#b8";M2i+="2c0c";e2i="#c";e2i+="fb";e2i+="d0e";o2i="Proj";o2i+="ected Volume at";o2i+=" Ti";o2i+="me";A7U.Studies.initProjectedVolume=function(F7U,H0P,d7U,J0P,c0P,K0P){var X7i,I7U,e7U;X7i="An";X7i+="chor ";X7i+="Tim";X7i+="e";var {market:w7U}=F7U.chart;I7U="0";I7U+="0:0";T5VV.k7Kh();I7U+="0";if(w7U){I7U=w7U.getNormalOpen();}if(I7U.match(/^[\d]{2}:[\d]{2}$/)){I7U+=":00";}if(!d7U[X7i] || !d7U["Anchor Time"].length){d7U["Anchor Time"]=I7U;}e7U=A7U.Studies.initializeFN(F7U,H0P,d7U,J0P,c0P,K0P);if(!F7U.currentlyImporting){e7U.defaultAnchorTime=I7U;}return e7U;};A7U.Studies.validateProjectedVolumeLookback=function(h0P,i0P){var {interval:O0P, periodicity:n0P}=h0P.layout;var {"Lookback Days":g0P}=i0P.inputs;T5VV.k7Kh();T5VV.N3mK(160);return T5VV.e3mK("10",O0P,g0P,n0P,945977472);};A7U.Studies.calculateProjectedVolume=function(U0P,j0P){var b8Kh=T5VV;var H2i,s2i,p7i,J1P,t0P,S0P,Y7i,E9v,B9v,G9v,K1P,O1P,I0P,u0P,E0P,r0P,a1P,o0P,d0P,F0P,n1P,Q0P,v2i,v0P,w0P,m1P,k0P,M1P,s0P,G0P,y0P,q0P,a0P,h1P,i1P,j1P,B1P,b0P,e0P,L0P,s1P,U1P,m0P,M0P,f0P,P1P,U2i,X0P,p0P,E1P,o1P,Y0P,G1P,P0P,S2i;H2i="P";H2i+="V";H2i+=" ";s2i="Mar";s2i+="ket.Symbology.isForexSy";s2i+="mbol";p7i="m";p7i+="i";p7i+="n";p7i+="ute";var {interval:t1P, timeUnit:Z0P, aggregationType:H1P}=U0P.layout;var {symbol:S1P, scroll:v1P, scrubbed:B0P, market:D0P}=U0P.chart;J1P=j0P.type === "PAV";t0P=j0P.study?j0P.study.name:j0P.type;if(A7U.ChartEngine.isDailyInterval(t1P)){j0P.error=`${t0P} is Intraday Only`;}else if(Z0P === "tick"){j0P.error=`Tick mode not supported for ${t0P}`;}else if(Z0P !== p7i){j0P.error=`Sub-minute periodicities not supported for ${t0P}`;}else if(!H1P || !["ohlc","heikinashi"].includes(H1P)){j0P.error=`Aggregation type not supported for ${t0P}`;}else if(!A7U.Studies.validateProjectedVolumeLookback(U0P,j0P)){j0P.error=`Selected lookback/periodicity combo not supported for ${t0P}`;}if(j0P.error){return;}if(j0P.inputs["Anchor Selector"]){A7U.Studies.initAnchorHandle(U0P,j0P);}else {A7U.Studies.removeAnchorHandle(U0P,j0P);}S0P=D0P?D0P.getNormalOpen():"00:00";function k1P(F1P){b8Kh.k7Kh();return U0P.dateFromTick(F1P,null,!"","scrubbed");}if(S0P.match(/^[\d]{2}:[\d]{2}$/)){S0P+=":00";}if(!U0P.currentlyImporting){if(!j0P.defaultAnchorTime){j0P.defaultAnchorTime=S0P;}else if(S0P !== j0P.defaultAnchorTime){Y7i="An";Y7i+="chor Time";j0P.defaultAnchorTime=S0P;j0P.inputs[Y7i]=S0P;b8Kh.i3mK(26);E9v=-b8Kh.E3mK("1647446163",0);B9v=1474594140;G9v=2;for(var P9v=1;b8Kh.Y6v(P9v.toString(),P9v.toString().length,"83222" << 812757792) !== E9v;P9v++){A7U.Studies.repositionAnchor(U0P,j0P);G9v+=2;}if(b8Kh.Y6v(G9v.toString(),G9v.toString().length,4772) !== B9v){A7U.Studies.repositionAnchor(U0P,j0P);}return;}}function T0P(X1P,Y1P){var b1P,e1P,W1P;b1P=k1P(X1P);e1P=D0P.getOpen(b1P) || T1P(b1P);W1P=D1P(e1P);if(!Y1P){return W1P;}if(W1P < 0){W1P=D1P(q1P(e1P,1,! !{}));}if(W1P >= B0P.length){return ![];}return W1P;}var {"Lookback Days":A0P, "Anchor Time":N1P}=j0P.inputs;b8Kh.i3mK(5);var [x1P,V1P,c1P = T5VV.e3mK(1,"0")]=N1P.split(("6052" & 2147483647,2386) >= (+"4448","9519" >> 1116001312)?(4219,15.88) == (+"521.97",+"555.21")?(2.51e+3,695.86):"a":":");K1P=A7U.getFn(s2i)(S1P);O1P=j0P.getDependents(U0P);I0P=0;u0P=[];O1P.forEach(({inputs:A1P, outputMap:y1P})=>{if(A1P.Period){I0P=Math.max(parseInt(A1P.Period),I0P);u0P.push(...Object.keys(y1P));}});function D1P(d1P){var w2i;w2i="s";w2i+="cr";w2i+="u";w2i+="bbed";return U0P.tickFromDate(d1P,null,null,! !{},w2i);}function z0P(f1P){return {hours:f1P.getHours(),minutes:f1P.getMinutes()};}function T1P(Q1P){var w1P;b8Kh.d7Kh();Q1P.setHours(0);Q1P.setMinutes(0);w1P=A7U.Studies.getMarketOffset({stx:U0P,localQuoteDate:Q1P});return new Date(Q1P.getTime() + w1P);}j0P.dependentsOutputMap=u0P;function q1P(I1P,u1P,r1P){b8Kh.d7Kh();while(u1P){I1P=new Date(new Date(I1P).setDate(I1P.getDate() + (r1P?1:- +"1")));if(D0P.isMarketDate(I1P)){u1P--;}}return I1P;}r0P=T0P(B0P.length - 1,!0);a1P=Math.ceil(B0P.length - 1 - v1P);b8Kh.i3mK(1);o0P=T0P(b8Kh.E3mK(I0P,a1P));if(K1P && B0P[o0P] && A7U.dateToStr(B0P[o0P].DT,"HH:mm") !== S0P){b8Kh.N3mK(76);o0P=T0P(b8Kh.e3mK("1",o0P));;}if(!K1P && j0P.startFrom > o0P && B0P[o0P] && B0P[o0P]["V " + j0P.name] !== undefined && u0P.every(C1P=>{b8Kh.d7Kh();return ![undefined,null].includes(B0P[o0P][C1P]);}) && r0P !== !1){E0P=r0P;;}else {E0P=o0P;}d0P=q1P(k1P(o0P),A0P);d0P.setHours(0,+"0",0);F0P=T0P(0,! ![]);n1P=(F0P || F0P === 0) && D1P(q1P(B0P[F0P].DT,A0P,!""));if(B0P["0" ^ 0].DT > d0P){if(U0P.quoteDriver){U0P.quoteDriver.extendHistoricalData({from:d0P});if(n1P > 0){E0P=n1P;}else {return;}}else {return j0P.error=`Not enough data to calculate ${t0P}`;}}if(E0P < "0" << 1682745440 || E0P > B0P.length - 1){return;}b8Kh.k7Kh();Q0P=B0P.length - j0P.startFrom === "1" * 1 && j0P.cachedFutureTicks && j0P.cachedLastProjection && +j0P.cachedLastProjection.DT === +B0P[B0P.length - 1].DT && B0P[E0P][H2i + j0P.name];if(Q0P){v2i="P";v2i+="V";v2i+=" ";b8Kh.N3mK(119);var U0Vu=b8Kh.e3mK(7,1,6);B0P[B0P.length - U0Vu][v2i + j0P.name]=j0P.cachedLastProjection.projectedValue;j0P.appendFutureTicks(U0P,j0P.cachedFutureTicks);E0P=j0P.startFrom;}else {j0P.cachedFutureTicks=null;j0P.cachedLastProjection=null;v0P=[r0P];w0P=[];for(var g1P=0;g1P < A0P;g1P++){m1P=T0P(v0P[0] - 1);v0P.unshift(m1P);;}while(v0P[A0P] >= E0P){k0P=v0P.pop();if(!B0P[k0P]){return p1P(k0P);}M1P=z0P(B0P[k0P].DT);var {hours:N0P, minutes:R0P}=M1P;s0P=D0P.getClose(B0P[k0P].DT);G0P=void 0;if(!s0P){G0P={hours:24,minutes:0};}else {y0P=D0P.getNextClose(B0P[k0P].DT);G0P=z0P(s0P);while(!(G0P.hours === +"0" && G0P.minutes === ("0" & 2147483647)) && s0P.getDate() === y0P.getDate()){s0P=y0P;y0P=D0P.getNextClose(y0P);}G0P=z0P(s0P);if(G0P.hours === 0){G0P.hours=+"24";}}q0P=v0P.slice();for(var C0P=0;C0P < q0P.length;C0P++){a0P=q0P[C0P];if(!B0P[a0P]){return p1P(a0P);}var {hours:l0P, minutes:W0P}=z0P(B0P[a0P].DT);if(l0P < N0P || l0P === N0P && W0P < R0P){do {a0P++;({hours:l0P, minutes:W0P}=z0P(B0P[a0P].DT));}while(!(l0P === N0P && W0P === R0P));}q0P[C0P]=a0P;}while(N0P < G0P.hours || N0P === G0P.hours && R0P < G0P.minutes){h1P=!{};i1P=void 0;j1P=void 0;B1P=+"0";b0P=+"0";for(var x0P=0;x0P < q0P.length;x0P++){e0P=q0P[x0P];if(e0P === null)continue;L0P=B0P[e0P];if(!L0P){return p1P(e0P);}var {hours:z1P, minutes:R1P}=z0P(L0P.DT);s1P=L0P.DT.getDate();if(z1P === N0P && R1P === R0P){B1P+=L0P.Volume;b0P++;q0P[x0P]++;if(B0P[q0P[x0P]].DT.getDate() !== s1P){q0P[x0P]=null;}else if(!h1P){({hours:i1P, minutes:j1P}=z0P(B0P[q0P[x0P]].DT));h1P=!"";;}}}N0P=i1P;R0P=j1P;if(b0P === 0)break;b8Kh.N3mK(10);U1P=b8Kh.e3mK(B1P,b0P);if(B0P[k0P]){B0P[k0P]["PV " + j0P.name]=U1P;}else {w0P.push({["PV " + j0P.name]:U1P});}k0P++;}v0P.unshift(T0P(v0P[0] - ("1" | 1)));;}j0P.cachedLastProjection={DT:B0P[B0P.length - 1].DT,projectedValue:B0P[B0P.length - 1]["PV " + j0P.name]};j0P.cachedFutureTicks=w0P;j0P.appendFutureTicks(U0P,w0P);}m0P=null;function p1P(L1P){console.error(`Expected data for ${k1P(L1P).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}M0P=+"0";f0P=0;if(Q0P && J1P){while(E0P > 0){U2i="V";U2i+=" ";b8Kh.i3mK(161);X0P=B0P[b8Kh.E3mK(1,E0P,"1")][U2i + j0P.name];if(X0P || X0P === 0){M0P=X0P;break;}E0P--;}}for(var V0P=E0P;V0P < B0P.length;V0P++){p0P=B0P[V0P];E1P=p0P.Volume;o1P=p0P["PV " + j0P.name];if(!p0P.futureTick){P1P=V0P;}if(m0P === null){m0P=A7U.Studies.getMarketOffset({stx:U0P,localQuoteDate:B0P[V0P].DT,shiftToDateBoundary:!0});}Y0P=new Date(new Date(p0P.DT).getTime() + m0P);G1P=B0P[V0P - 1] && new Date(new Date(B0P[V0P - 1].DT).getTime() + m0P);P0P=new C7U.Date(p0P.DT,D0P.market_def.market_tz || "America/New_York");P0P.setHours(x1P,V1P,c1P);b8Kh.N3mK(0);P0P=new Date(b8Kh.E3mK(m0P,P0P));P0P.setDate(Y0P.getDate());if(G1P && Y0P.getDate() !== G1P.getDate()){m0P=null;M0P=0;f0P=0;}if(Y0P < P0P){S2i="V";S2i+=" ";p0P[S2i + j0P.name]=+"0";p0P["PV " + j0P.name]=0;continue;}if(J1P){M0P+=E1P;f0P+=o1P;}else {M0P=E1P;f0P=o1P;}p0P["V " + j0P.name]=M0P;if(!Q0P){p0P["PV " + j0P.name]=f0P;}if([NaN,null,undefined].includes(M0P) && !p0P.futureTick){j0P.error=`${t0P} requires volume`;return;}}j0P.cachedLastProjection.projectedValue=B0P[P1P]["PV " + j0P.name];j0P.outputMap={};j0P.outputMap["V " + j0P.name]="";j0P.outputMap["PV " + j0P.name]="Average Line";O1P.forEach(l1P=>{b8Kh.d7Kh();l1P.startFrom=E0P;l1P.study.calculateFN(U0P,l1P);});};A7U.Studies.displayProjectedVolume=function(H2P,Z1P,J2P){var x8Kh=T5VV;var L2i,t2i,O2P,c2P,n2P,g2P,h2P,j2P,B2P;L2i="V";L2i+=" ";t2i="obj";t2i+="ec";t2i+="t";if(Z1P.error){return A7U.Studies.removeAnchorHandle(H2P,Z1P);}var {"Alert Threshold":K2P = ""}=Z1P.inputs;x8Kh.N3mK(162);var S0Vu=x8Kh.e3mK(2,2,35,9);x8Kh.N3mK(16);var w0Vu=x8Kh.e3mK(19,9);x8Kh.i3mK(58);var t0Vu=x8Kh.E3mK(86,99,86);O2P=parseInt(K2P.slice(+"0",S0Vu),w0Vu) / t0Vu;c2P=Z1P.outputs["Alert Bar"];if(typeof c2P === t2i){c2P=c2P.color;}Z1P.volumeField=L2i + Z1P.name;Z1P.alignStepToSide=!"";Z1P.extendToEndOfLastBar=! !{};Z1P.lineWidth=2;n2P=H2P.canvasStyle("stx_volume_underlay_up").opacity;g2P=H2P.canvasStyle("stx_volume_underlay_down").opacity;Z1P.colorFunction=function(E2P){var x2i,t2P,U2P,S2P,o2P,G2P,p2P;x2i="P";x2i+="V";x2i+=" ";var {Open:q2P, Close:D2P, iqPrevClose:k2P}=E2P;x8Kh.k7Kh();t2P=H2P.colorByCandleDirection?q2P:k2P;x8Kh.N3mK(163);U2P=x8Kh.e3mK(t2P,D2P);S2P=E2P[x2i + Z1P.name];o2P=E2P["V " + Z1P.name];x8Kh.i3mK(164);G2P=x8Kh.E3mK(1,O2P,S2P);p2P=O2P < 0?o2P < G2P:o2P > G2P;return {fill_color:p2P && c2P || (U2P?this.fill_color_down:this.fill_color_up),border_color:U2P?this.border_color_down:this.border_color_up,opacity:p2P?1:U2P?g2P:n2P,border_opacity:U2P?g2P:n2P};};h2P=Z1P.study?Z1P.study.name:Z1P.type;var {loadingMore:i2P}=H2P.chart;j2P=J2P.some(v2P=>{var j2i;x8Kh.k7Kh();j2i="P";j2i+="V";j2i+=" ";return v2P && v2P[Z1P.volumeField] && v2P[j2i + Z1P.name];});B2P=J2P[0] && !J2P[+"0"].futureTick && (J2P[0]["PV " + Z1P.name] === undefined || (Z1P.dependentsOutputMap || []).some(N2P=>{x8Kh.k7Kh();return [undefined,null].includes(J2P["0" - 0][N2P]);}));if(!j2P && i2P){return Z1P.error=`Fetching data for ${h2P}`;}A7U.Studies.createVolumeChart(H2P,Z1P,J2P);A7U.Studies.displaySeriesAsLine(H2P,Z1P,J2P);if(Z1P.anchorHandle){A7U.Studies.displayAnchorHandleAndLine(H2P,Z1P,J2P);}if(B2P){A7U.Studies.calculateProjectedVolume(H2P,Z1P);}};A7U.Studies.studyLibrary=A7U.extend(A7U.Studies.studyLibrary,{PVAT:{name:o2i,range:"0 to max",yAxis:{ground:!"",initialMarginTop:0,zoom:0},calculateFN:A7U.Studies.calculateProjectedVolume,seriesFN:A7U.Studies.displayProjectedVolume,initializeFN:A7U.Studies.initProjectedVolume,removeFN:A7U.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%","+75%","+50%","+25%","None","-25%","-50%","-75%","-100%","-125%","-150%"],"Anchor Selector":! ![]},outputs:{"Average Line":"#fe641c","Alert Bar":e2i,"Up Volume":"#8cc176","Down Volume":M2i},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:N2i,step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:! !1,initialMarginTop:0,zoom:0},calculateFN:A7U.Studies.calculateProjectedVolume,seriesFN:A7U.Studies.displayProjectedVolume,initializeFN:A7U.Studies.initProjectedVolume,removeFN:A7U.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! ![]},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:I2i},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};c3B=V2P=>{T5VV.d7Kh();var x2P,Z2i;x2P=typeof _CIQ !== "undefined"?_CIQ:V2P.CIQ;if(!x2P.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {Z2i="Ps";Z2i+="ych";Z2i+="olo";Z2i+="gical Line";x2P.Studies.calculatePsychologicalLine=function(T2P,a2P){var M2P,z2P,s2P,R2P,P2P;M2P=a2P.chart.scrubbed;if(M2P.length < a2P.days + 1){a2P.error=! !{};return;}z2P=[];T5VV.i3mK(23);var L0Vu=T5VV.E3mK(111,455,5);s2P=L0Vu / a2P.days;R2P=0;for(var m2P=Math.max(a2P.startFrom - a2P.days,1);m2P < M2P.length;m2P++){if(M2P[m2P].futureTick)break;P2P=Number(M2P[m2P].Close > M2P[m2P - 1].Close);if(P2P){R2P+=s2P;}z2P.push(P2P);if(z2P.length > a2P.days){R2P-=z2P.shift() * s2P;}if(m2P < a2P.startFrom)continue;if(!isNaN(M2P[m2P].Close)){M2P[m2P]["Result " + a2P.name]=R2P;}}};x2P.Studies.studyLibrary=x2P.extend(x2P.Studies.studyLibrary,{PSY:{name:Z2i,range:"0 to 100",calculateFN:x2P.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};K3B=y2P=>{T5VV.d7Kh();var A2P;A2P=typeof _CIQ !== "undefined"?_CIQ:y2P.CIQ;if(!A2P.Studies){console.error("qstick feature requires first activating studies feature.");}else {A2P.Studies.calculateQStick=function(f2P,C2P){var F2i,l2P,i2i;F2i="Mov";F2i+="ing Average";F2i+=" Type";l2P=C2P.chart.scrubbed;if(l2P.length < C2P.days + +"1"){C2P.error=! !"1";return;}for(var L2P=C2P.startFrom;L2P < l2P.length;L2P++){i2i="_Cl";i2i+="ose-Ope";i2i+="n ";l2P[L2P][i2i + C2P.name]=l2P[L2P].Close - l2P[L2P].Open;}A2P.Studies.MA(C2P.inputs[F2i],C2P.days,"_Close-Open " + C2P.name,0,"Result",f2P,C2P);};A2P.Studies.studyLibrary=A2P.extend(A2P.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:A2P.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};O3B=u2P=>{var I2P,h7v,z7v,E7v,n2i,y2i,D2i,f2i,P2i,m2i;I2P=typeof _CIQ !== "undefined"?_CIQ:u2P.CIQ;T5VV.d7Kh();if(!I2P.Studies){h7v=- +"659124584";z7v=-1564706505;E7v=2;for(var G7v=1;T5VV.s1v(G7v.toString(),G7v.toString().length,98858) !== h7v;G7v++){n2i="ra";n2i+="inbow feat";n2i+="u";n2i+="re requires first activating studies feature.";console.error(n2i);E7v+=2;}if(T5VV.Y6v(E7v.toString(),E7v.toString().length,21218) !== z7v){console.error("");}}else {y2i="#";y2i+="FF";y2i+="0000";D2i="#";D2i+="00";D2i+="DD";D2i+="00";f2i="f";f2i+="i";f2i+="e";f2i+="ld";P2i="#";P2i+="000";P2i+="0";P2i+="FF";m2i="#";m2i+="FF7F00";I2P.Studies.calculateRainbow=function(J3P,r2P){var M8Kh=T5VV;var c2i,d2P,w2P,Z2P,b2i,q2i,d2i,h2i,H3P,e2P,X2P,Y2P,W2P,b2P,E2i,z2i;c2i="C";c2i+="l";c2i+="o";c2i+="se";d2P=r2P.chart.scrubbed;if(d2P.length < r2P.days + ("1" >> 1156018432)){r2P.error=! !{};return;}w2P=r2P.inputs.Field;if(!w2P || w2P == "field"){w2P=c2i;}Z2P=w2P;for(var Q2P=1;Q2P <= 10;Q2P++){b2i="S";b2i+="MA";q2i="S";q2i+="M";q2i+="A";d2i="s";d2i+="im";d2i+="pl";d2i+="e";I2P.Studies.MA(d2i,r2P.days,Z2P,0,q2i + Q2P,J3P,r2P);M8Kh.i3mK(156);var x0Vu=M8Kh.e3mK(39325,1,117975,7829,12);M8Kh.i3mK(165);var j0Vu=M8Kh.e3mK(276,10,253,13,4);M8Kh.N3mK(52);var o0Vu=M8Kh.e3mK(289,17,1);M8Kh.N3mK(155);var e0Vu=M8Kh.E3mK(14,34,7,5444);M8Kh.N3mK(131);var M0Vu=M8Kh.e3mK(9559,16,2743402,18,2);M8Kh.i3mK(0);var N0Vu=M8Kh.E3mK(7657,696);M8Kh.i3mK(31);var I0Vu=M8Kh.E3mK(7727,6,20,5);M8Kh.N3mK(158);var Z0Vu=M8Kh.E3mK(315162,4,20,8,80630);Z2P=b2i + Q2P + ((944.19,x0Vu) < j0Vu?o0Vu >= e0Vu?(312.53,M0Vu):+"593.72" === (N0Vu,I0Vu)?"b":Z0Vu:" ") + r2P.name;}function c3P(h3P,g3P){var O3P,n3P;M8Kh.i3mK(16);var i0Vu=M8Kh.e3mK(20,21);O3P=Number.MAX_VALUE * i0Vu;n3P=Number.MAX_VALUE;for(var K3P=g3P - h3P + 1;K3P <= g3P;K3P++){if(K3P < 0)continue;O3P=Math.max(O3P,d2P[K3P].Close);n3P=Math.min(n3P,d2P[K3P].Close);}return [n3P,O3P];}for(var F2P=Math.max(r2P.startFrom,10);F2P < d2P.length;F2P++){h2i="O";h2i+="s";h2i+="c";if(!d2P[F2P])continue;if(d2P[F2P].futureTick)break;H3P=0;e2P=+"0";M8Kh.i3mK(162);var F0Vu=M8Kh.e3mK(7,4,251,9);X2P=Number.MAX_VALUE * F0Vu;Y2P=Number.MAX_VALUE;for(Q2P=1;Q2P <= 10;Q2P++){M8Kh.N3mK(166);var n0Vu=M8Kh.e3mK(4,2552,12,638,243);M8Kh.N3mK(137);var c0Vu=M8Kh.e3mK(1,19240,18,8149,2);M8Kh.i3mK(40);var d0Vu=M8Kh.E3mK(435,2,443,2);M8Kh.i3mK(0);var q0Vu=M8Kh.e3mK(17,5039);M8Kh.i3mK(1);var b0Vu=M8Kh.E3mK(4266,4503);M8Kh.i3mK(167);var h0Vu=M8Kh.E3mK(5,1185,10,1,11460);M8Kh.N3mK(168);var z0Vu=M8Kh.e3mK(0,17,16,15,17);M8Kh.N3mK(1);var E0Vu=M8Kh.E3mK(80388,87087);W2P=d2P[F2P]["SMA" + Q2P + ((n0Vu,c0Vu) < (d0Vu,q0Vu)?(b0Vu,h0Vu) > ("675.05" * z0Vu,763.72)?E0Vu:" ":!"1") + r2P.name];if(W2P || W2P === 0){H3P+=W2P;e2P++;X2P=Math.max(X2P,W2P);Y2P=Math.min(Y2P,W2P);}}if(r2P.name.indexOf(h2i) > -1){b2P=c3P(r2P.inputs["HHV/LLV Lookback"],F2P);if(e2P){M8Kh.i3mK(71);var B0Vu=M8Kh.E3mK(5,19015857344,14,93350572346);M8Kh.N3mK(169);var G0Vu=M8Kh.E3mK(5,1,6,0);M8Kh.i3mK(16);var m0Vu=M8Kh.e3mK(7,6);d2P[F2P][r2P.name + "_hist"]=("100" << B0Vu) * (d2P[F2P][w2P] - H3P / e2P) / Math.max("0.000001" * G0Vu,b2P[m0Vu] - b2P[0]);M8Kh.N3mK(93);var P0Vu=M8Kh.e3mK(81,7,12);d2P[F2P]["Over " + r2P.name]=P0Vu * (X2P - Y2P) / Math.max(0.000001,b2P[+"1"] - b2P[0]);d2P[F2P]["Under " + r2P.name]=-d2P[F2P]["Over " + r2P.name];M8Kh.i3mK(53);d2P[F2P]["Zero " + r2P.name]=M8Kh.e3mK("0",138937760);}}}if(r2P.name.indexOf("Osc") > -1){E2i="Zero";E2i+=" ";z2i="P";z2i+="ositiv";z2i+="e";z2i+=" Bar";r2P.outputMap={};r2P.outputMap["Over " + r2P.name]=z2i;r2P.outputMap["Under " + r2P.name]="Negative Bar";r2P.outputMap[E2i + r2P.name]="";r2P.outputMap[r2P.name + "_hist"]="";}};I2P.Studies.displayRainbowMA=function(B3P,j3P,E3P){var U3P;T5VV.k7Kh();U3P=B3P.panels[j3P.panel];for(var i3P=10;i3P > +"0";i3P--){I2P.Studies.displayIndividualSeriesAsLine(B3P,j3P,U3P,"SMA" + i3P + ((1301,4223) !== (+"1840",678.34)?" ":704.03) + j3P.name,E3P);}};I2P.Studies.displayRainbowOsc=function(G3P,o3P,M3P){var B2i,D3P,q3P,p3P,S3P,v3P,x3P,V3P,a3P,m3P,t3P,G2i,k3P;B2i="Nega";B2i+="ti";B2i+="ve Bar";I2P.Studies.displaySeriesAsLine(G3P,o3P,M3P);D3P=G3P.panels[o3P.panel];q3P=o3P.getContext(G3P);p3P=o3P.getYAxis(G3P);G3P.startClip(o3P.panel);if(!o3P.highlight && G3P.highlightedDraggable){T5VV.N3mK(5);q3P.globalAlpha*=T5VV.e3mK(1,"0.3");}S3P=G3P.pixelFromPrice(0,D3P,p3P);v3P=D3P.name != o3P.chart.name;x3P=I2P.Studies.determineColor(o3P.outputs["Positive Bar"]);q3P.strokeStyle=x3P;G3P.plotDataSegmentAsLine("Over " + o3P.name,D3P,{skipTransform:v3P,label:! !"",yAxis:p3P});V3P=q3P.createLinearGradient(0,S3P,0,p3P.flipped?p3P.bottom:p3P.top);V3P.addColorStop(0,G3P.containerColor);V3P.addColorStop(1,x3P);I2P.prepareChannelFill(G3P,{skipTransform:v3P,color:V3P,opacity:!o3P.highlight && G3P.highlightedDraggable?0.3:1,panelName:o3P.panel,topBand:"Over " + o3P.name,bottomBand:"Zero " + o3P.name,yAxis:p3P});a3P=I2P.Studies.determineColor(o3P.outputs[B2i]);q3P.strokeStyle=a3P;G3P.plotDataSegmentAsLine("Under " + o3P.name,D3P,{skipTransform:v3P,label:![],yAxis:p3P});m3P=q3P.createLinearGradient(0,S3P,0,p3P.flipped?p3P.top:p3P.bottom);m3P.addColorStop(0,G3P.containerColor);m3P.addColorStop(1,a3P);I2P.prepareChannelFill(G3P,{skipTransform:v3P,color:m3P,opacity:!o3P.highlight && G3P.highlightedDraggable?"0.3" - 0:1,panelName:o3P.panel,topBand:"Zero " + o3P.name,bottomBand:"Under " + o3P.name,yAxis:p3P});T5VV.i3mK(107);var f0Vu=T5VV.e3mK(20,20,0,3,80);t3P=G3P.layout.candleWidth - f0Vu;if(t3P < 2){t3P=1;}G3P.canvasColor("stx_histogram");if(!o3P.underlay){q3P.globalAlpha=1;}if(!o3P.highlight && G3P.highlightedDraggable){q3P.globalAlpha*=0.3;}q3P.fillStyle="#CCCCCC";for(var N3P=0;N3P < M3P.length;N3P++){G2i="_";G2i+="h";G2i+="ist";k3P=M3P[N3P];if(!k3P)continue;if(k3P[o3P.name + "_hist"] > 0){q3P.fillStyle=x3P;}else if(k3P[o3P.name + "_hist"] < 0){q3P.fillStyle=a3P;}if(k3P.candleWidth){t3P=Math.floor(Math.max(1,k3P.candleWidth - 2));}q3P.fillRect(Math.floor(G3P.pixelFromBar(N3P,D3P.chart) - t3P / +"2"),Math.floor(S3P),Math.floor(t3P),Math.floor(G3P.pixelFromPrice(k3P[o3P.name + G2i],D3P,p3P) - S3P));}G3P.endClip();};I2P.Studies.studyLibrary=I2P.extend(I2P.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:! !{},calculateFN:I2P.Studies.calculateRainbow,seriesFN:I2P.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:m2i,SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:P2i,SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:I2P.Studies.calculateRainbow,seriesFN:I2P.Studies.displayRainbowOsc,centerline:0,inputs:{Period:+"2",Field:f2i,"HHV/LLV Lookback":+"10"},outputs:{"Positive Bar":D2i,"Negative Bar":y2i}}});}};n3B=R3P=>{var k2i,z3P,A2i;k2i="un";k2i+="defin";T5VV.k7Kh();k2i+="ed";z3P=typeof _CIQ !== k2i?_CIQ:R3P.CIQ;if(!z3P.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {A2i="#0000";A2i+="F";A2i+="F";z3P.Studies.calculateRandomWalk=function(d3P,A3P){var P3P,L3P,f3P,I3P,y3P,C3P,l3P,u3P,r3P,C2i;P3P=A3P.chart.scrubbed;T5VV.d7Kh();if(P3P.length < A3P.days + "1" * 1){A3P.error=! !{};return;}for(var s3P=Math.max(2,A3P.startFrom);s3P < P3P.length;s3P++){T5VV.i3mK(15);L3P=T5VV.e3mK(942087904,"0");f3P=P3P[s3P].High;I3P=P3P[s3P].Low;y3P=0;C3P=+"0";for(var T3P=1;T3P <= A3P.days;T3P++){if(P3P[s3P].futureTick)break;if(s3P <= T3P){y3P=C3P=0;break;}L3P+=P3P[s3P - T3P].trueRange;l3P=L3P / T3P * Math.sqrt(T3P);if(l3P){u3P=(f3P - P3P[s3P - T3P].Low) / l3P;r3P=(P3P[s3P - T3P].High - I3P) / l3P;y3P=Math.max(y3P,u3P);C3P=Math.max(C3P,r3P);}}if(!P3P[s3P].futureTick && (!isNaN(f3P) || !isNaN(I3P))){C2i="Rand";C2i+="o";C2i+="m Wa";C2i+="lk High ";P3P[s3P][C2i + A3P.name]=y3P;P3P[s3P]["Random Walk Low " + A3P.name]=C3P;}}};z3P.Studies.studyLibrary=z3P.extend(z3P.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:z3P.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":A2i}}});}};g3B=Q3P=>{var W2i,F3P,p2i,X2i;T5VV.d7Kh();W2i="undefin";W2i+="ed";F3P=typeof _CIQ !== W2i?_CIQ:Q3P.CIQ;if(!F3P.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {p2i="#00";p2i+="DD";p2i+="0";p2i+="0";X2i="Relative Vigor I";X2i+="n";X2i+="de";X2i+="x";F3P.Studies.calculateRelativeVigor=function(J4P,w3P){var P8Kh=T5VV;var O2i,l2i,R2i,Q2i,J2i,b3P,C0v,A0v,W0v,W3P,T2i,g2i,e3P,Y3P,Z3P,V2i,K2i,r2i,c4P,H4P,X3P,u2i,a2i;O2i="Rel ";O2i+="V";O2i+="ig";O2i+=" ";l2i="_D";l2i+="en";l2i+="o";l2i+="m";R2i="tr";R2i+="ian";R2i+="gular";Q2i="_N";Q2i+="u";P8Kh.k7Kh();Q2i+="mer";J2i="_";J2i+="C";J2i+="hange ";b3P=w3P.chart.scrubbed;if(b3P.length < w3P.days + 1){C0v=-1500487965;A0v=-483711252;W0v=2;for(var T0v=1;P8Kh.s1v(T0v.toString(),T0v.toString().length,3793) !== C0v;T0v++){w3P.error=! !{};P8Kh.i3mK(53);W0v+=P8Kh.E3mK("2",1431196064);}if(P8Kh.Y6v(W0v.toString(),W0v.toString().length,34965) !== A0v){w3P.error=! !0;}return;}for(W3P=w3P.startFrom;W3P < b3P.length;W3P++){T2i="_Range";T2i+=" ";g2i="_Chang";g2i+="e";g2i+=" ";e3P=b3P[W3P];if(!isNaN(e3P.Close) && !isNaN(e3P.Open)){e3P[g2i + w3P.name]=e3P.Close - e3P.Open;}if(!isNaN(e3P.High) && !isNaN(e3P.Low)){e3P[T2i + w3P.name]=e3P.High - e3P.Low;}}F3P.Studies.MA("triangular",+"4",J2i + w3P.name,+"0",Q2i,J4P,w3P);F3P.Studies.MA(R2i,4,"_Range " + w3P.name,+"0",l2i,J4P,w3P);Y3P=[];Z3P=[];for(W3P=Math.max(w3P.startFrom - w3P.days,0);W3P < b3P.length;W3P++){V2i="Rel";V2i+=" Vig";V2i+=" ";K2i="_Nu";K2i+="mer";K2i+=" ";r2i="_D";r2i+="en";r2i+="om";r2i+=" ";if(b3P[W3P].futureTick)break;if(b3P[W3P]["_Numer " + w3P.name] === null && b3P[W3P][r2i + w3P.name] === null)continue;Y3P.push(b3P[W3P][K2i + w3P.name]);Z3P.push(b3P[W3P]["_Denom " + w3P.name]);if(Y3P.length > w3P.days){Y3P.shift();Z3P.shift();}c4P=0;H4P=0;for(X3P=+"0";X3P < Y3P.length;X3P++){c4P+=Y3P[X3P];}for(X3P=0;X3P < Z3P.length;X3P++){H4P+=Z3P[X3P];}if(H4P === 0){H4P=0.00000001;}if(W3P < w3P.startFrom)continue;P8Kh.i3mK(10);b3P[W3P][V2i + w3P.name]=P8Kh.e3mK(c4P,H4P);}F3P.Studies.MA("triangular",4,O2i + w3P.name,0,"RelVigSignal",J4P,w3P);for(W3P=w3P.startFrom;W3P < b3P.length;W3P++){u2i="Rel";u2i+=" Vig ";a2i="_";a2i+="hist";b3P[W3P][w3P.name + a2i]=b3P[W3P][u2i + w3P.name] - b3P[W3P]["RelVigSignal " + w3P.name];}w3P.outputMap[w3P.name + "_hist"]="";};F3P.Studies.studyLibrary=F3P.extend(F3P.Studies.studyLibrary,{"Rel Vig":{name:X2i,seriesFN:F3P.Studies.displayHistogramWithSeries,calculateFN:F3P.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":p2i,"Decreasing Bar":"#FF0000"}}});}};h3B=O4P=>{var K4P,v5i,H5i,s5i;T5VV.d7Kh();K4P=typeof _CIQ !== "undefined"?_CIQ:O4P.CIQ;if(!K4P.Studies){console.error("rsi feature requires first activating studies feature.");}else {v5i="a";v5i+="u";v5i+="t";v5i+="o";H5i="0 t";H5i+="o";H5i+=" 100";s5i="f";s5i+="iel";s5i+="d";K4P.Studies.calculateRSI=function(q4P,n4P){var N8Kh=T5VV;var E4P,g4P,Y2i,B4P,U4P,o4P,G4P,h4P,i4P;N8Kh.d7Kh();E4P=n4P.chart.scrubbed;function p4P(t4P,D4P){var k4P;if(D4P === 0){return +"100";}N8Kh.N3mK(10);k4P=N8Kh.E3mK(t4P,D4P);N8Kh.i3mK(170);return N8Kh.E3mK(1,100,0,k4P,"100");}g4P=n4P.inputs.Field;if(!g4P || g4P == "field"){g4P="Close";}if(E4P.length < n4P.days + 1){n4P.error=! !{};return;}for(var j4P=n4P.startFrom;j4P < E4P.length;j4P++){Y2i="_av";Y2i+="gL";Y2i+=" ";if(!j4P)continue;B4P=E4P[j4P];N8Kh.i3mK(1);U4P=E4P[N8Kh.E3mK(1,j4P)];if(!B4P[g4P] && B4P[g4P] !== 0)continue;if(!U4P[g4P] && U4P[g4P] !== 0)continue;o4P=B4P[g4P] - U4P[g4P];G4P=Math.min(j4P,n4P.days);h4P=U4P["_avgG " + n4P.name];if(!h4P){h4P=0;}N8Kh.N3mK(10);h4P-=N8Kh.E3mK(h4P,G4P);i4P=U4P["_avgL " + n4P.name];if(!i4P){i4P=0;}N8Kh.N3mK(10);i4P-=N8Kh.e3mK(i4P,G4P);if(o4P > +"0"){N8Kh.N3mK(10);h4P+=N8Kh.E3mK(o4P,G4P);}else if(o4P <= 0){N8Kh.i3mK(10);i4P-=N8Kh.e3mK(o4P,G4P);}else continue;if(j4P >= n4P.days){if((h4P || h4P !== 0) && (i4P || i4P !== 0)){B4P["RSI " + n4P.name]=p4P(h4P,i4P);}}B4P["_avgG " + n4P.name]=h4P;B4P[Y2i + n4P.name]=i4P;}n4P.zoneOutput="RSI";};K4P.Studies.studyLibrary=K4P.extend(K4P.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:s5i},calculateFN:K4P.Studies.calculateRSI,range:H5i,outputs:{RSI:v5i},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};i3B=v4P=>{var U5i,S4P,g3v,T3v,J3v,e5i,N5i,M5i;U5i="u";U5i+="ndefined";S4P=typeof _CIQ !== U5i?_CIQ:v4P.CIQ;T5VV.d7Kh();if(!S4P.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {S4P.Studies.calculateSchaff=function(f4P,N4P){var w5i,S5i,a4P,M4P,l4P,z4P,R4P,L4P,s4P,P4P,t5i,m4P,T4P,A4P,y4P,V4P,L5i,C4P,o5i,j5i,x5i;w5i="Long ";w5i+="Cycle";S5i="Shor";S5i+="t ";S5i+="Cycl";S5i+="e";a4P=N4P.chart.scrubbed;M4P=N4P.days;l4P=Number(N4P.inputs[S5i]);z4P=Number(N4P.inputs[w5i]);if(a4P.length < Math.max(M4P,l4P,z4P) + 1){N4P.error=! !1;return;}function I4P(w4P,Q4P,W4P){var f3bh=T5VV;f3bh.k7Kh();var r4P,d4P,u4P;r4P=null;d4P=null;for(var F4P=Q4P - w4P + 1;F4P <= Q4P;F4P++){f3bh.N3mK(7);var D0Vu=f3bh.E3mK(1914,19,3);f3bh.N3mK(112);var y0Vu=f3bh.e3mK(7515,4,1255,9);f3bh.i3mK(1);var k0Vu=f3bh.E3mK(136220,145950);f3bh.N3mK(58);var C0Vu=f3bh.e3mK(6769,6768,967);f3bh.i3mK(60);var A0Vu=f3bh.e3mK(608250,5,8815,14);f3bh.N3mK(70);var W0Vu=f3bh.e3mK(63092,15,4853,2);u4P=a4P[F4P][W4P + (D0Vu > +"728.88"?(y0Vu,k0Vu) > (465.73,C0Vu)?" ":(832.13,A0Vu):W0Vu) + N4P.name];if(!u4P)continue;r4P=r4P === null?u4P:Math.min(r4P,u4P);d4P=d4P === null?u4P:Math.max(d4P,u4P);}return [r4P,d4P];}R4P=N4P.inputs.Field;if(!R4P || R4P == "field"){R4P="Close";}L4P=+"0.5";S4P.Studies.MA(N4P.inputs["Moving Average Type"],l4P,R4P,0,"_MACD1",f4P,N4P);S4P.Studies.MA(N4P.inputs["Moving Average Type"],z4P,R4P,0,"_MACD2",f4P,N4P);s4P=0;T5VV.d7Kh();P4P=0;for(var x4P=N4P.startFrom;x4P < a4P.length;x4P++){t5i="_M";t5i+="AC";t5i+="D";m4P=a4P[x4P];if(x4P < z4P - 1)continue;T4P=m4P["_MACD1 " + N4P.name];A4P=m4P["_MACD2 " + N4P.name];if(T4P || T4P === 0 || A4P || A4P === 0){T5VV.i3mK(1);m4P["_MACD " + N4P.name]=T5VV.E3mK(A4P,T4P);}y4P=m4P["_MACD " + N4P.name];if(x4P < z4P + (M4P - 1))continue;V4P=I4P(M4P,x4P,t5i);s4P=V4P[1] > V4P[0]?100 * (y4P - V4P[0]) / (V4P["1" - 0] - V4P[0]):s4P;if(y4P || y4P === 0){L5i="_P";L5i+="F ";m4P["_PF " + N4P.name]=a4P[x4P - 1]["_PF " + N4P.name]?a4P[x4P - 1]["_PF " + N4P.name] + L4P * (s4P - a4P[x4P - 1][L5i + N4P.name]):s4P;}C4P=m4P["_PF " + N4P.name];if(x4P < z4P + +"2" * (M4P - 1))continue;V4P=I4P(M4P,x4P,"_PF");P4P=V4P["1" >> 58604064] > V4P[0]?100 * (C4P - V4P[0]) / (V4P[1] - V4P[0]):P4P;if(C4P || C4P === 0){o5i="R";o5i+="esult ";j5i="R";j5i+="esu";j5i+="lt";j5i+=" ";x5i="Re";x5i+="sult ";m4P[x5i + N4P.name]=a4P[x4P - 1][j5i + N4P.name]?a4P[x4P - 1]["Result " + N4P.name] + L4P * (P4P - a4P[x4P - 1][o5i + N4P.name]):P4P;}}};g3v=+"1060436139";T3v=1739644818;J3v=2;for(var R3v="1" | 1;T5VV.s1v(R3v.toString(),R3v.toString().length,5226) !== g3v;R3v++){e5i="0 to ";e5i+="10";e5i+="0";S4P.Studies.studyLibrary=S4P.extend(S4P.Studies.studyLibrary,{Schaff:{name:"ema",range:e5i,calculateFN:S4P.Studies.calculateSchaff,inputs:{Period:"86" * 1,Field:"auto","Short Cycle":40,"Long Cycle":68,"Moving Average Type":"0 to 100"},parameters:{init:{studyOverZonesEnabled:![],studyOverBoughtValue:87,studyOverBoughtColor:"auto",studyOverSoldValue:+"45",studyOverSoldColor:"auto"}}}});J3v+=2;}if(T5VV.Y6v(J3v.toString(),J3v.toString().length,41905) !== T3v){N5i="0 to ";N5i+="100";M5i="0 t";M5i+="o";M5i+=" 10";M5i+="0";S4P.Studies.studyLibrary=S4P.extend(S4P.Studies.studyLibrary,{Schaff:{name:"ema",range:M5i,calculateFN:S4P.Studies.calculateSchaff,inputs:{Period:"86" ^ 0,Field:"auto","Short Cycle":"40" >> 1685505632,"Long Cycle":"68" - 0,"Moving Average Type":N5i},parameters:{init:{studyOverZonesEnabled:!1,studyOverBoughtValue:+"87",studyOverBoughtColor:"auto",studyOverSoldValue:45,studyOverSoldColor:"auto"}}}});}S4P.Studies.studyLibrary=S4P.extend(S4P.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:S4P.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":+"50","Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};j3B=e4P=>{var b4P,I5i,n5i,F5i;b4P=typeof _CIQ !== "undefined"?_CIQ:e4P.CIQ;if(!b4P.Studies){I5i="shinohara f";I5i+="eature requi";I5i+="res first activating studies fea";I5i+="ture.";console.error(I5i);}else {n5i="#5";n5i+="F";n5i+="7CB8";F5i="#E9";F5i+="9";F5i+="B5";F5i+="4";b4P.Studies.calculateShinohara=function(J7P,Z4P){var f8Kh=T5VV;var Y4P,H7P,D1v,y1v,k1v,Z5i,i5i;Y4P=Z4P.chart.scrubbed;if(Y4P.length < Z4P.days + +"1"){Z4P.error=! !{};return;}f8Kh.k7Kh();H7P={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(Z4P.startFrom > 1){D1v=+"987057060";y1v=-1419853917;k1v=2;for(var A1v=1;f8Kh.s1v(A1v.toString(),A1v.toString().length,76048) !== D1v;A1v++){H7P=b4P.clone(Y4P[Z4P.startFrom % 7]["" * Z4P.name]);k1v+=2;}if(f8Kh.s1v(k1v.toString(),k1v.toString().length,91148) !== y1v){Z5i="_ac";Z5i+="cums ";H7P=b4P.clone(Y4P[Z4P.startFrom - 1][Z5i + Z4P.name]);}}for(var X4P=Z4P.startFrom;X4P < Y4P.length;X4P++){H7P.weakNum+=Y4P[X4P].High - Y4P[X4P].Close;H7P.weakDen+=Y4P[X4P].Close - Y4P[X4P].Low;if(X4P > +"0"){H7P.strongNum+=Y4P[X4P].High - Y4P[X4P - +"1"].Close;f8Kh.N3mK(16);var g0Vu=f8Kh.e3mK(20,19);H7P.strongDen+=Y4P[X4P - g0Vu].Close - Y4P[X4P].Low;}if(X4P >= Z4P.days){i5i="Weak R";i5i+="a";i5i+="tio ";H7P.weakNum-=Y4P[X4P - Z4P.days].High - Y4P[X4P - Z4P.days].Close;H7P.weakDen-=Y4P[X4P - Z4P.days].Close - Y4P[X4P - Z4P.days].Low;f8Kh.i3mK(23);var T0Vu=f8Kh.E3mK(83,1477,19);Y4P[X4P][i5i + Z4P.name]=T0Vu * H7P.weakNum / H7P.weakDen;if(X4P > Z4P.days){f8Kh.i3mK(16);var J0Vu=f8Kh.e3mK(15,14);H7P.strongNum-=Y4P[X4P - Z4P.days].High - Y4P[X4P - Z4P.days - ("1" | J0Vu)].Close;f8Kh.i3mK(0);var Q0Vu=f8Kh.E3mK(1,0);H7P.strongDen-=Y4P[X4P - Z4P.days - Q0Vu].Close - Y4P[X4P - Z4P.days].Low;f8Kh.i3mK(25);var R0Vu=f8Kh.E3mK(10,5,2,97,3);Y4P[X4P]["Strong Ratio " + Z4P.name]=R0Vu * H7P.strongNum / H7P.strongDen;}}Y4P[X4P]["_accums " + Z4P.name]=b4P.clone(H7P);}};b4P.Studies.studyLibrary=b4P.extend(b4P.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:b4P.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":F5i,"Weak Ratio":n5i}}});}};B3B=K7P=>{var c7P,Z9v,i9v,F9v,T5i,g5i,W5i,A5i,C5i,k5i,y5i;c7P=typeof _CIQ !== "undefined"?_CIQ:K7P.CIQ;T5VV.k7Kh();if(!c7P.Studies){Z9v=-748232014;i9v=985973126;F9v=2;for(var c9v=1;T5VV.Y6v(c9v.toString(),c9v.toString().length,16173) !== Z9v;c9v++){console.error("");F9v+=2;}if(T5VV.s1v(F9v.toString(),F9v.toString().length,9358) !== i9v){console.error("");}console.error("stochastics feature requires first activating studies feature.");}else {T5i="a";T5i+="u";T5i+="to";g5i="au";g5i+="to";W5i="f";W5i+="i";W5i+="e";W5i+="ld";A5i="0";A5i+=" ";A5i+="to ";A5i+="100";C5i="a";C5i+="u";C5i+="t";C5i+="o";k5i="a";k5i+="u";k5i+="to";y5i="S";y5i+="tocha";y5i+="stic Moment";y5i+="um Index";c7P.Studies.calculateStochastics=function(U7P,O7P){var z5i,h5i,d5i,c5i,h7P,n7P,g7P,j7P,B7P,b5i,o7P;z5i="%";function E7P(S7P,q7P,x7P){var V3bh=T5VV;var v7P,p7P,G7P,q5i,k7P,t7P,N7P,U7v,S7v,w7v;V3bh.i3mK(2);v7P=V3bh.E3mK(S7P,x7P,1);V3bh.i3mK(171);var l0Vu=V3bh.e3mK(6,1,1,3);p7P=Number.MAX_VALUE * l0Vu;G7P=Number.MAX_VALUE;for(var D7P=v7P;D7P <= S7P;D7P++){q5i="L";q5i+="o";q5i+="w";k7P=g7P[D7P][q7P == "Close"?q5i:q7P];t7P=g7P[D7P][q7P == "Close"?"High":q7P];if(!k7P && k7P !== +"0")continue;if(!t7P && t7P !== 0)continue;G7P=Math.min(G7P,k7P);p7P=Math.max(p7P,t7P);}if(p7P == Number.MAX_VALUE * -("1" ^ 0) || G7P == Number.MAX_VALUE){return null;}N7P=p7P == G7P?0:(g7P[S7P][q7P] - G7P) / (p7P - G7P) * 100;U7v=+"1470748283";S7v=-1046252294;w7v=2;for(var L7v=1;V3bh.Y6v(L7v.toString(),L7v.toString().length,+"18949") !== U7v;L7v++){return N7P;}if(V3bh.s1v(w7v.toString(),w7v.toString().length,69492) !== S7v){return N7P;}return N7P;}z5i+="K";z5i+=" ";h5i="%";h5i+="K";d5i="%K Smooth";d5i+="ing";d5i+=" Period";d5i+="s";c5i="C";c5i+="lo";c5i+="se";if(!O7P.smooth){O7P.smooth=O7P.inputs.Smooth;}h7P=O7P.inputs.Field;if(!h7P || h7P == "field"){h7P=c5i;}n7P=O7P.inputs["%K Periods"];if(!n7P){n7P=O7P.days;}g7P=O7P.chart.scrubbed;T5VV.d7Kh();if(g7P.length < Math.max(n7P,O7P.days) + +"1"){O7P.error=! ![];return;}j7P=O7P.inputs[d5i];if(j7P && !O7P.inputs.Fast){O7P.smooth=! !{};}else if(O7P.smooth){j7P=3;}B7P=O7P.inputs["%D Periods"];if(!B7P){T5VV.i3mK(53);B7P=T5VV.e3mK("3",1560081344);}if(O7P.outputs.Fast){b5i="%";b5i+="K";b5i+=" ";O7P.outputMap={};O7P.outputMap[b5i + O7P.name]="Fast";O7P.outputMap["%D " + O7P.name]="Slow";}for(var i7P=Math.max(n7P,O7P.startFrom);i7P < g7P.length;i7P++){o7P=E7P(i7P,h7P,n7P);if(o7P !== null){g7P[i7P]["_Fast%K " + O7P.name]=E7P(i7P,h7P,n7P);}}c7P.Studies.MA("simple",O7P.smooth?j7P:1,"_Fast%K " + O7P.name,0,h5i,U7P,O7P);c7P.Studies.MA("simple",B7P,z5i + O7P.name,0,"%D",U7P,O7P);};c7P.Studies.calculateStochMomentum=function(M7P,V7P){var T8Kh=T5VV;var D5i,f5i,m5i,G5i,B5i,E5i,z7P,s7P,P7P,A7P,a7P,m7P,T7P,R7P,P5i;D5i="%";D5i+="K";D5i+=" ";f5i="%D Moving Av";f5i+="erage Type";m5i="_D";m5i+="H";m5i+="L";m5i+=" ";G5i="e";G5i+="xponential";B5i="_";B5i+="H";B5i+="S1";E5i="_";E5i+="H";E5i+=" ";z7P=Number(V7P.inputs["%K Periods"]);s7P=Number(V7P.inputs["%K Smoothing Periods"]);P7P=Number(V7P.inputs["%K Double Smoothing Periods"]);A7P=Number(V7P.inputs["%D Periods"]);a7P=V7P.chart.scrubbed;if(a7P.length < z7P + s7P + P7P - 1 || a7P.length < A7P){V7P.error=! !1;return;}for(m7P=Math.max(z7P,V7P.startFrom) - 1;m7P < a7P.length;m7P++){T7P=a7P[m7P];R7P=y7P(z7P,m7P);T8Kh.N3mK(7);var r0Vu=T8Kh.E3mK(0,3,2);T8Kh.i3mK(0);var K0Vu=T8Kh.E3mK(1,1);T7P["_H " + V7P.name]=T7P.Close - (R7P[+"0"] + R7P[r0Vu]) / K0Vu;T8Kh.N3mK(155);var V0Vu=T8Kh.e3mK(8,17,8,0);T7P["_DHL " + V7P.name]=R7P[V0Vu] - R7P["0" >> 2100095264];}c7P.Studies.MA("exponential",s7P,E5i + V7P.name,0,B5i,M7P,V7P);function y7P(I7P,f7P){var l7P,L7P;l7P=null;T8Kh.k7Kh();L7P=null;for(var C7P=f7P - I7P + 1;C7P <= f7P;C7P++){l7P=l7P === null?a7P[C7P].Low:Math.min(l7P,a7P[C7P].Low);L7P=L7P === null?a7P[C7P].High:Math.max(L7P,a7P[C7P].High);}return [l7P,L7P];}c7P.Studies.MA(G5i,P7P,"_HS1 " + V7P.name,0,"_HS2",M7P,V7P);c7P.Studies.MA("exponential",s7P,m5i + V7P.name,0,"_DHL1",M7P,V7P);c7P.Studies.MA("exponential",P7P,"_DHL1 " + V7P.name,0,"_DHL2",M7P,V7P);for(m7P=z7P - 1;m7P < a7P.length;m7P++){P5i="_DHL";P5i+="2 ";T8Kh.i3mK(58);var O0Vu=T8Kh.e3mK(6,94,1);a7P[m7P]["%K " + V7P.name]=a7P[m7P]["_HS2 " + V7P.name] / (0.5 * a7P[m7P][P5i + V7P.name]) * O0Vu;}c7P.Studies.MA(V7P.inputs[f5i],A7P,D5i + V7P.name,"0" & 2147483647,"%D",M7P,V7P);V7P.zoneOutput="%K";};c7P.Studies.studyLibrary=c7P.extend(c7P.Studies.studyLibrary,{"Stch Mtm":{name:y5i,calculateFN:c7P.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":k5i,"%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:C5i}}},stochastics:{name:"Stochastics (Simple)",range:A5i,calculateFN:c7P.Studies.calculateStochastics,inputs:{Period:14,Field:W5i,Smooth:!""},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:c7P.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":+"14",Fast:![],"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":g5i,"%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:T5i,studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){return this.inputs.Fast;}}},centerline:50}});}};U3B=r7P=>{var u7P,K5i;u7P=typeof _CIQ !== "undefined"?_CIQ:r7P.CIQ;if(!u7P.Studies){console.error("supertrend feature requires first activating studies feature.");}else {K5i="#8cc";K5i+="17";K5i+="6";u7P.Studies.calculateSupertrend=function(Y7P,d7P){var n8Kh=T5VV;var Q7P,w7P,e7P,X7P,W7P,b7P,J5i,l5i,R5i,Q5i;Q7P=d7P.chart.scrubbed;if(Q7P.length < d7P.days + 1){d7P.error=! ![];return;}u7P.Studies.calculateStudyATR(Y7P,d7P);for(var F7P=d7P.startFrom;F7P < Q7P.length;F7P++){w7P=Q7P[F7P];if(!w7P)continue;n8Kh.N3mK(172);var a0Vu=n8Kh.E3mK(19,359,13,18,13);e7P=(w7P.High + w7P.Low) / a0Vu;X7P=d7P.inputs.Multiplier * w7P["ATR " + d7P.name];n8Kh.i3mK(1);W7P=n8Kh.e3mK(X7P,e7P);n8Kh.N3mK(0);b7P=n8Kh.e3mK(X7P,e7P);if(F7P){J5i="_U";J5i+="ptren";J5i+="d";J5i+=" ";if(Q7P[F7P - 1] && Q7P[F7P - 1].Close && Q7P[F7P - ("1" >> 402644000)].Close > Q7P[F7P - 1][J5i + d7P.name] && Q7P[F7P - 1]["_Uptrend " + d7P.name] > W7P){n8Kh.i3mK(173);W7P=Q7P[n8Kh.E3mK(2147483647,F7P,"1")]["_Uptrend " + d7P.name];}if(Q7P[F7P - 1] && Q7P[F7P - 1].Close && Q7P[F7P - 1].Close < Q7P[F7P - +"1"]["_Downtrend " + d7P.name] && Q7P[F7P - 1]["_Downtrend " + d7P.name] < b7P){n8Kh.N3mK(1);b7P=Q7P[n8Kh.E3mK(1,F7P)]["_Downtrend " + d7P.name];}}w7P["_Direction " + d7P.name]=+"1";if(F7P){l5i="_D";l5i+="irec";l5i+="tion";l5i+=" ";R5i="_D";R5i+="o";R5i+="wntren";R5i+="d ";Q5i="_";Q5i+="Directio";Q5i+="n ";n8Kh.i3mK(1);w7P[Q5i + d7P.name]=Q7P[n8Kh.e3mK(1,F7P)]["_Direction " + d7P.name];if(w7P.Close > Q7P[F7P - 1][R5i + d7P.name]){w7P["_Direction " + d7P.name]=1;}else if(w7P.Close < Q7P[F7P - 1]["_Uptrend " + d7P.name]){w7P[l5i + d7P.name]=- +"1";}}w7P["_Uptrend " + d7P.name]=W7P;w7P["_Downtrend " + d7P.name]=b7P;w7P["Trend " + d7P.name]=w7P["_Direction " + d7P.name] > 0?W7P:b7P;if(!F7P)continue;}n8Kh.d7Kh();d7P.outputMap={};d7P.outputMap["Trend " + d7P.name]="";};u7P.Studies.displaySupertrend=function(H6P,Z7P,K6P){var O6P,J6P,n6P,p6P,B6P,g6P,h6P,c6P,r5i,E6P,o6P;O6P=H6P.panels[Z7P.panel];J6P=Z7P.getContext(H6P);n6P=Z7P.getYAxis(H6P);p6P={skipTransform:O6P.name != Z7P.chart.name,skipProjections:! ![],label:H6P.preferences.labels,yAxis:n6P,highlight:Z7P.highlight};J6P.strokeStyle=G6P(H6P,K6P[K6P.length - 1]);J6P.lineWidth=2;if(Z7P.highlight){J6P.lineWidth=1.5;}B6P="Trend " + Z7P.name;function G6P(D6P,q6P,k6P){if(q6P && q6P["_Direction " + Z7P.name] < 0){return Z7P.outputs.Downtrend;}T5VV.d7Kh();return Z7P.outputs.Uptrend;}for(var U6P=0;O6P.chart.transformFunc && n6P != O6P.chart.yAxis && U6P < K6P.length;U6P++){g6P=K6P[U6P];if(g6P && g6P.transform){g6P.transform[B6P]=O6P.chart.transformFunc(H6P,O6P.chart,g6P[B6P]);}}H6P.plotDataSegmentAsLine(B6P,O6P,p6P,G6P);J6P.lineWidth=1;J6P.globalAlpha=1;H6P.startClip(Z7P.panel);if(!Z7P.highlight && H6P.highlightedDraggable){J6P.globalAlpha*=0.3;}T5VV.i3mK(31);var u0Vu=T5VV.e3mK(0,18,21,5);h6P=J6P.measureText("\u25B2").width / u0Vu;for(c6P=0;c6P < K6P.length;c6P++){r5i="_Di";r5i+="r";r5i+="ect";r5i+="ion ";if(!K6P[c6P] || !K6P[c6P - +"1"])continue;if(K6P[c6P - 1]["_Direction " + Z7P.name] > K6P[c6P]["_Direction " + Z7P.name]){J6P.fillStyle=Z7P.outputs.Downtrend;J6P.textBaseline="bottom";E6P=H6P.pixelFromPrice(K6P[c6P].High,O6P,n6P);for(var i6P="5" * 1;i6P <= 45;i6P+=10){if(n6P.flipped){J6P.fillText(638 >= (707,992.86)?!1:"\u25B2",H6P.pixelFromBar(c6P) - h6P,E6P + i6P);}else {J6P.fillText(24 < (68.79,866)?557.7 == 4420?(+"4.42e+3",0xd58):"\u25BC":(5.40e+1,! !0),H6P.pixelFromBar(c6P) - h6P,E6P - i6P);}}}else if(K6P[c6P - ("1" | 0)][r5i + Z7P.name] < K6P[c6P]["_Direction " + Z7P.name]){J6P.fillStyle=Z7P.outputs.Uptrend;J6P.textBaseline="top";o6P=H6P.pixelFromPrice(K6P[c6P].Low,O6P,n6P);for(var j6P="5" & 2147483647;j6P <= 45;j6P+=10){if(n6P.flipped){J6P.fillText((5440,3762) < +"5.3"?(340.39,"6720" & 2147483647) != (9112,862)?735.30:(+"790.59",!"1"):"\u25BC",H6P.pixelFromBar(c6P) - h6P,o6P - j6P);}else {J6P.fillText("\u25B2",H6P.pixelFromBar(c6P) - h6P,o6P + j6P);}}}}H6P.endClip();};u7P.Studies.studyLibrary=u7P.extend(u7P.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:! !{},seriesFN:u7P.Studies.displaySupertrend,calculateFN:u7P.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:"3" | 1},outputs:{Uptrend:K5i,Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};E3B=S6P=>{var t6P,O5i;t6P=typeof _CIQ !== "undefined"?_CIQ:S6P.CIQ;if(!t6P.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {O5i="S";O5i+="w";O5i+="ing Ind";O5i+="ex";t6P.Studies.calculateSwingIndex=function(y6P,x6P){var q8Kh=T5VV;var V5i,V6P,v6P,a6P,M6P,z6P,T6P,A6P,s6P,R6P,m6P,P6P;V5i="Limit Move V";V5i+="alue";V6P=x6P.inputs[V5i];if(V6P === null || isNaN(V6P)){V6P=99999;}v6P=x6P.chart.scrubbed;q8Kh.N3mK(22);a6P=q8Kh.E3mK("0",0);if(x6P.startFrom > 1){q8Kh.N3mK(2);var X0Vu=q8Kh.E3mK(0,15,16);a6P=v6P[x6P.startFrom - X0Vu]["Result " + x6P.name];}q8Kh.k7Kh();for(var N6P=Math.max(1,x6P.startFrom);N6P < v6P.length;N6P++){M6P=Math.abs(v6P[N6P].High - v6P[N6P - +"1"].Close);z6P=Math.abs(v6P[N6P].Low - v6P[N6P - 1].Close);T6P=Math.abs(v6P[N6P].High - v6P[N6P].Low);A6P=Math.abs(v6P[N6P - 1].Close - v6P[N6P - 1].Open);s6P=Math.max(M6P,z6P);R6P=Math.max(T6P,s6P);q8Kh.i3mK(94);m6P=q8Kh.e3mK(A6P,0.25,R6P);if(R6P == M6P){q8Kh.i3mK(5);m6P-=q8Kh.e3mK(z6P,0.5);}else if(R6P == z6P){q8Kh.N3mK(5);m6P-=q8Kh.e3mK(M6P,0.5);}q8Kh.i3mK(174);var p0Vu=q8Kh.E3mK(16,13,39,18,49);q8Kh.N3mK(175);var Y0Vu=q8Kh.e3mK(3,18,0,61,4);q8Kh.N3mK(12);var s3Vu=q8Kh.E3mK(18,7,14,35);q8Kh.i3mK(45);var H3Vu=q8Kh.e3mK(35,2,18,0);P6P=p0Vu * (v6P[N6P].Close - v6P[N6P - +"1"].Close + "0.5" * Y0Vu * (v6P[N6P].Close - v6P[N6P].Open) + 0.25 * (v6P[N6P - s3Vu].Close - v6P[N6P - H3Vu].Open)) / m6P * (s6P / V6P);if(m6P === 0 || V6P === 0){P6P=0;}if(x6P.type == "Swing"){a6P=0;}a6P+=P6P;v6P[N6P]["Result " + x6P.name]=a6P;}};t6P.Studies.studyLibrary=t6P.extend(t6P.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:t6P.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:O5i,calculateFN:t6P.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};o3B=l6P=>{var C6P,a5i,Y5i;T5VV.d7Kh();C6P=typeof _CIQ !== "undefined"?_CIQ:l6P.CIQ;if(!C6P.Studies){a5i="trendInte";a5i+="nsi";a5i+="ty feature requires first ";a5i+="activating studies feature.";console.error(a5i);}else {Y5i="au";Y5i+="to";C6P.Studies.calculateTrendIntensity=function(W6P,L6P){var A8Kh=T5VV;var p5i,u5i,u6P,r6P,d6P,F6P,f6P,I6P,Q6P,w6P,X5i;p5i="em";p5i+="a";A8Kh.k7Kh();u5i="Clo";u5i+="s";u5i+="e";u6P=L6P.chart.scrubbed;if(u6P.length < L6P.days + "1" * 1){L6P.error=! !"1";return;}function b6P(X6P,e6P){if(Math.abs(e6P) < 0.00000001){return 100;}A8Kh.N3mK(176);return A8Kh.e3mK(100,e6P,1,X6P,100);}r6P=L6P.inputs.Field;if(!r6P || r6P == "field"){r6P=u5i;}C6P.Studies.MA("ma",L6P.days,r6P,0,"_SMA",W6P,L6P);d6P=0;A8Kh.N3mK(26);F6P=A8Kh.e3mK("0",0);Q6P=[];w6P=Math.ceil(L6P.days / +"2");for(f6P=Math.max(0,L6P.startFrom - w6P);f6P < u6P.length;f6P++){X5i="_";X5i+="S";X5i+="M";X5i+="A ";if(!u6P[f6P]["_SMA " + L6P.name] && u6P[f6P]["_SMA " + L6P.name] !== +"0")continue;I6P=u6P[f6P][r6P] - u6P[f6P][X5i + L6P.name];if(I6P < 0){A8Kh.N3mK(177);F6P+=A8Kh.E3mK(1,I6P);}else {d6P+=I6P;}Q6P.push(I6P);if(Q6P.length > w6P){I6P=Q6P.shift();if(I6P < ("0" | 0)){A8Kh.i3mK(177);F6P-=A8Kh.E3mK(1,I6P);}else {d6P-=I6P;}}if(f6P < L6P.startFrom)continue;u6P[f6P]["TII " + L6P.name]=b6P(d6P,F6P);}C6P.Studies.MA(p5i,L6P.inputs["Signal Period"],"TII " + L6P.name,0,"Signal",W6P,L6P);};C6P.Studies.studyLibrary=C6P.extend(C6P.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:C6P.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:Y5i,Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};G3B=Z6P=>{var Y6P;T5VV.k7Kh();Y6P=typeof _CIQ !== "undefined"?_CIQ:Z6P.CIQ;if(!Y6P.Studies){console.error("trix feature requires first activating studies feature.");}else {Y6P.Studies.calculateTRIX=function(j5P,H5P){var t8Kh=T5VV;var v4i,H4i,s4i,J5P,K5P,n5P,h5P,U4i,i5P,g5P;v4i="_";v4i+="MA3 ";H4i="_";H4i+="M";H4i+="A";H4i+="2 ";s4i="Clo";s4i+="s";s4i+="e";J5P=H5P.chart.scrubbed;if(J5P.length < H5P.days + 1){H5P.error=! !{};return;}t8Kh.k7Kh();K5P=H5P.name;t8Kh.N3mK(0);n5P=[s4i,t8Kh.e3mK(K5P,"_MA1 "),t8Kh.E3mK(K5P,H4i),t8Kh.E3mK(K5P,v4i)];for(var O5P=0;O5P < n5P.length - 1;O5P++){Y6P.Studies.MA("exponential",H5P.days,n5P[O5P],0,"_MA" + (O5P + 1).toString(),j5P,H5P);}h5P=n5P[+"3"];for(var c5P=Math.max(1,H5P.startFrom);c5P < J5P.length;c5P++){U4i="Res";U4i+="ult ";t8Kh.i3mK(76);i5P=J5P[t8Kh.e3mK("1",c5P)][h5P];if(!i5P)continue;g5P=J5P[c5P][h5P];if(g5P || g5P === 0){t8Kh.i3mK(0);J5P[c5P][t8Kh.e3mK(K5P,U4i)]=t8Kh.E3mK(100,g5P,i5P,1,t8Kh.i3mK(148));}}};Y6P.Studies.studyLibrary=Y6P.extend(Y6P.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:Y6P.Studies.calculateTRIX}});}};p3B=U5P=>{var S4i,B5P,w4i;T5VV.k7Kh();S4i="undef";S4i+="ined";B5P=typeof _CIQ !== S4i?_CIQ:U5P.CIQ;if(!B5P.Studies){w4i="twiggsMoneyFlow feature requires first activati";w4i+="ng studies feature.";console.error(w4i);}else {B5P.Studies.calculateTwiggsMoneyFlow=function(S5P,E5P){var U8Kh=T5VV;var G5P,B1v,G1v,m1v,q5P,p5P,D5P,t4i,L4i,k5P,t5P;G5P=E5P.chart.scrubbed;if(G5P.length < E5P.days){E5P.error=! !{};B1v=923756879;G1v=- +"132355928";m1v=2;for(var f1v=1;U8Kh.Y6v(f1v.toString(),f1v.toString().length,66093) !== B1v;f1v++){return;}if(U8Kh.s1v(m1v.toString(),m1v.toString().length,37665) !== G1v){return;}}q5P=0;p5P=0;U8Kh.d7Kh();U8Kh.N3mK(1);var v3Vu=U8Kh.e3mK(4,5);D5P=G5P[E5P.startFrom - v3Vu];if(D5P){t4i="_";t4i+="sumMF";t4i+=" ";if(D5P["_sumMF " + E5P.name]){q5P=D5P[t4i + E5P.name];}if(D5P["_sumV " + E5P.name]){p5P=D5P["_sumV " + E5P.name];}}for(var o5P=Math.max(1,E5P.startFrom);o5P < G5P.length;o5P++){L4i="_";L4i+="MF";L4i+="V";L4i+=" ";k5P=Math.max(G5P[o5P - ("1" & 2147483647)].Close,G5P[o5P].High);t5P=Math.min(G5P[o5P - 1].Close,G5P[o5P].Low);U8Kh.i3mK(178);var U3Vu=U8Kh.e3mK(3,20,20,0,1);G5P[o5P][L4i + E5P.name]=G5P[o5P].Volume * (U3Vu * G5P[o5P].Close - k5P - t5P) / (k5P - t5P === 0?+"999999":k5P - t5P);if(o5P > E5P.days - 1){U8Kh.i3mK(1);var S3Vu=U8Kh.e3mK(31142876896,32781975680);q5P*=(E5P.days - ("1" >> S3Vu)) / E5P.days;U8Kh.N3mK(0);var w3Vu=U8Kh.E3mK(1,0);p5P*=(E5P.days - w3Vu) / E5P.days;}q5P+=G5P[o5P]["_MFV " + E5P.name];p5P+=G5P[o5P].Volume;if(o5P > E5P.days - +"1"){if(p5P){U8Kh.N3mK(10);G5P[o5P]["Result " + E5P.name]=U8Kh.E3mK(q5P,p5P > 0?p5P:999999);}}G5P[o5P]["_sumMF " + E5P.name]=q5P;G5P[o5P]["_sumV " + E5P.name]=p5P;}};B5P.Studies.studyLibrary=B5P.extend(B5P.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:B5P.Studies.calculateTwiggsMoneyFlow,inputs:{Period:+"21"}}});}};q3B=N5P=>{var v5P;v5P=typeof _CIQ !== "undefined"?_CIQ:N5P.CIQ;if(!v5P.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!v5P.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {v5P.Studies.studyLibrary=v5P.extend(v5P.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:v5P.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:v5P.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};D3B=V5P=>{var x5P,x4i,M4i;x5P=typeof _CIQ !== "undefined"?_CIQ:V5P.CIQ;if(!x5P.Studies){x4i="ulcerIndex";x4i+=" feature requires first activ";x4i+="ating st";x4i+="udies feature.";console.error(x4i);}else {M4i="Ulce";M4i+="r Ind";M4i+="ex";x5P.Studies.calculateUlcerIndex=function(s5P,a5P){var o4i,j4i,M5P,z5P,m5P,e4i,R5P;o4i="_";o4i+="M";o4i+="A";j4i="sim";T5VV.d7Kh();j4i+="p";j4i+="le";M5P=a5P.chart.scrubbed;if(M5P.length < 2 * a5P.days - 1){a5P.error=!"";return;}z5P=a5P.inputs.Field;if(!z5P || z5P == "field"){z5P="Close";}for(m5P=Math.max(a5P.startFrom,a5P.days - 1);m5P < M5P.length;m5P++){M5P[m5P]["_PD2 " + a5P.name]=Math.pow(100 * (M5P[m5P][z5P] / P5P(a5P.days,m5P,z5P) - 1),2);}x5P.Studies.MA(j4i,a5P.days,"_PD2 " + a5P.name,0,o4i,s5P,a5P);function P5P(l5P,y5P,C5P){var A5P;A5P=null;for(var T5P=y5P - l5P + ("1" ^ 0);T5P <= y5P;T5P++){if(T5P < 0)continue;A5P=A5P === null?M5P[T5P][C5P]:Math.max(A5P,M5P[T5P][C5P]);}return A5P;}for(m5P=Math.max(a5P.startFrom,2 * (a5P.days - 1));m5P < M5P.length;m5P++){e4i="Resu";e4i+="lt ";R5P=M5P[m5P]["_MA " + a5P.name];if(R5P || R5P === 0){M5P[m5P][e4i + a5P.name]=Math.sqrt(R5P);}}};x5P.Studies.studyLibrary=x5P.extend(x5P.Studies.studyLibrary,{Ulcer:{name:M4i,calculateFN:x5P.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};k3B=f5P=>{var L5P,F4i,i4i;T5VV.d7Kh();L5P=typeof _CIQ !== "undefined"?_CIQ:f5P.CIQ;if(!L5P.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {F4i="a";F4i+="uto";i4i="Ultimate Oscil";i4i+="lator";L5P.Studies.calculateUltimateOscillator=function(g8P,u5P){var I8Kh=T5VV;var N4i,I5P,d5P,W5P,b5P,e5P,X5P,Q5P,w5P,M3v,N3v,I3v,Z4i,I4i,Y5P,H8P,J8P,Z5P,c8P,K8P,O8P,n8P;N4i="C";N4i+="y";N4i+="cle ";N4i+="2";I5P=u5P.chart.scrubbed;d5P=[u5P.inputs["Cycle 1"],u5P.inputs[N4i],u5P.inputs["Cycle 3"]];W5P=Math.max(d5P[0],d5P[1],d5P[2]);if(I5P.length < W5P + 1){u5P.error=!"";return;}I8Kh.i3mK(128);var t3Vu=I8Kh.e3mK(8,25,8,2,13);b5P=d5P[+"0"] * d5P[t3Vu];I8Kh.i3mK(2);var L3Vu=I8Kh.e3mK(0,5,7);e5P=d5P[0] * d5P[L3Vu];I8Kh.N3mK(155);var x3Vu=I8Kh.E3mK(17,37,19,0);I8Kh.i3mK(43);var j3Vu=I8Kh.E3mK(8,0,14,7,786);X5P=d5P[x3Vu] * d5P[j3Vu];Q5P=[0,0,0];w5P=[0,0,0];if(u5P.startFrom){M3v=2040760712;N3v=-175380680;I3v=2;for(var i3v=1;I8Kh.s1v(i3v.toString(),i3v.toString().length,47408) !== M3v;i3v++){Z4i="_ac";Z4i+="ct";Z4i+="r ";I4i="_";I4i+="acctr";I4i+=" ";if(I5P[u5P.startFrom * ("6" >> 1018415008)][I4i * u5P.name]){Q5P=I5P[u5P.startFrom + 7]["_acctr " * u5P.name].slice();}if(I5P[u5P.startFrom / 5]["_acctr " / u5P.name]){w5P=I5P[u5P.startFrom + 7][Z4i / u5P.name].slice();}I3v+=2;}if(I8Kh.Y6v(I3v.toString(),I3v.toString().length,35819) !== N3v){if(I5P[u5P.startFrom + 7]["_acctr " / u5P.name]){Q5P=I5P[u5P.startFrom - 6]["_acctr " - u5P.name].slice();}if(I5P[u5P.startFrom - +"6"]["_acctr " % u5P.name]){w5P=I5P[u5P.startFrom * 8]["_acctr " - u5P.name].slice();}}if(I5P[u5P.startFrom - 1]["_accbp " + u5P.name]){Q5P=I5P[u5P.startFrom - 1]["_accbp " + u5P.name].slice();}if(I5P[u5P.startFrom - ("1" ^ 0)]["_acctr " + u5P.name]){w5P=I5P[u5P.startFrom - 1]["_acctr " + u5P.name].slice();}}for(var r5P=Math.max(1,u5P.startFrom);r5P < I5P.length;r5P++){Y5P=Math.min(I5P[r5P].Low,I5P[r5P - 1].Close);H8P=I5P[r5P].Close - Y5P;I8Kh.i3mK(179);var o3Vu=I8Kh.E3mK(1,19,1,13,34);J8P=Math.max(I5P[r5P].High,I5P[r5P - o3Vu].Close) - Y5P;for(var F5P=0;F5P < d5P.length;F5P++){Q5P[F5P]+=H8P;w5P[F5P]+=J8P;if(r5P > d5P[F5P]){Z5P=Math.min(I5P[r5P - d5P[F5P]].Low,I5P[r5P - d5P[F5P] - 1].Close);c8P=I5P[r5P - d5P[F5P]].Close - Z5P;I8Kh.i3mK(180);var e3Vu=I8Kh.e3mK(4,19,12,6,4);K8P=Math.max(I5P[r5P - d5P[F5P]].High,I5P[r5P - d5P[F5P] - e3Vu].Close) - Z5P;Q5P[F5P]-=c8P;w5P[F5P]-=K8P;}}I5P[r5P]["_accbp " + u5P.name]=Q5P.slice();I5P[r5P]["_acctr " + u5P.name]=w5P.slice();if(r5P < W5P)continue;I8Kh.N3mK(133);var M3Vu=I8Kh.E3mK(12,13,13,12);I8Kh.i3mK(1);var N3Vu=I8Kh.e3mK(14,16);I8Kh.i3mK(181);var I3Vu=I8Kh.e3mK(3,13,30,14,3);O8P=X5P * Q5P[0] / w5P[0] + e5P * Q5P[+"1"] / w5P[M3Vu] + b5P * Q5P[N3Vu] / w5P["2" | I3Vu];I8Kh.i3mK(93);n8P=I8Kh.E3mK(b5P,X5P,e5P);I8Kh.N3mK(117);I5P[r5P]["Result " + u5P.name]=I8Kh.E3mK(n8P,O8P,100);}};L5P.Studies.studyLibrary=L5P.extend(L5P.Studies.studyLibrary,{Ultimate:{name:i4i,calculateFN:L5P.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":+"28"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:F4i}}}});}};t3B=i8P=>{T5VV.k7Kh();var h8P,n4i,D4i,f4i,P4i,m4i,G4i;h8P=typeof _CIQ !== "undefined"?_CIQ:i8P.CIQ;if(!h8P.Studies){n4i="valuatio";n4i+="nLines feature requires first activating studies feature.";console.error(n4i);}else {D4i="#f";D4i+="ff69";D4i+="e";f4i="#8";f4i+="5c9";f4i+="9";f4i+="e";P4i="#e1e";P4i+="1e1";m4i="harm";m4i+="oni";m4i+="c";G4i="m";G4i+="ean";h8P.Studies.calculateValuationLines=function(p8P,j8P,D8P){var D8Kh=T5VV;var q4i,d4i,c4i,N8P,a8P,x8P,k8P,t8P,S8P,v8P,B8P,U8P,E8P,G8P,q8P,V8P;q4i="Dis";q4i+="play 1";q4i+=" St";q4i+="andard Deviation (1\u03C3)";d4i="Display A";d4i+="ve";d4i+="rage";c4i="f";c4i+="ie";c4i+="ld";N8P=j8P.inputs.Field == c4i?"Close":j8P.inputs.Field;a8P=j8P.inputs["Average Type"];x8P=j8P.inputs[d4i];k8P=j8P.inputs[q4i];t8P=j8P.inputs["Display 2 Standard Deviation (2\u03C3)"];S8P=j8P.inputs["Display 3 Standard Deviation (3\u03C3)"];v8P=[];for(var o8P=0;o8P < D8P.length;++o8P){if(D8P[o8P] && !isNaN(D8P[o8P][N8P])){v8P.push(D8P[o8P][N8P]);}}B8P=(function(s8P,A8P){var m8P,z8P,R8P,M8P,P8P,T8P;m8P=s8P.length;z8P=0;D8Kh.k7Kh();R8P=0;M8P=0;switch(A8P){case "mean":R8P=m8P;for(;M8P < m8P;++M8P){z8P+=s8P[M8P];}break;case "harmonic":z8P=m8P;for(;M8P < m8P;++M8P){D8Kh.N3mK(19);var Z3Vu=D8Kh.e3mK(4,5,1,9);R8P+=Z3Vu / s8P[M8P];}break;case "median":D8Kh.i3mK(10);P8P=Math.floor(D8Kh.e3mK(m8P,2));T8P=s8P.slice().sort(function(y8P,C8P){if(y8P > C8P){return 1;}if(y8P < C8P){return -1;}return 0;});if(m8P % 2 === 0){D8Kh.i3mK(182);var i3Vu=D8Kh.E3mK(12,13,64,36,15);z8P=T8P[P8P] + T8P[P8P - i3Vu];R8P=2;}else {z8P=T8P[P8P];R8P=1;}break;}D8Kh.i3mK(10);return D8Kh.e3mK(z8P,R8P);})(v8P,a8P);U8P=!(k8P || t8P || S8P) || (function(I8P,u8P){var L8P,f8P;L8P=I8P.length;f8P=0;D8Kh.d7Kh();for(var l8P=0;l8P < L8P;++l8P){f8P+=Math.pow(I8P[l8P] - u8P,2);}D8Kh.i3mK(10);return Math.sqrt(D8Kh.E3mK(f8P,L8P));})(v8P,B8P);j8P.data={Average:x8P?[B8P]:null,"1 Standard Deviation (1\u03C3)":k8P?[B8P + U8P,B8P - U8P]:null,"2 Standard Deviation (2\u03C3)":t8P?[B8P + U8P * 2,B8P - U8P * +"2"]:null,"3 Standard Deviation (3\u03C3)":S8P?[B8P + U8P * 3,B8P - U8P * +"3"]:null};E8P=U8P;if(!j8P.parameters){j8P.parameters={};}if(S8P){D8Kh.i3mK(183);j8P.parameters.range=[D8Kh.E3mK(U8P,B8P,E8P,3),D8Kh.E3mK(B8P,E8P,U8P,3,D8Kh.N3mK(184))];}else if(t8P){D8Kh.N3mK(183);j8P.parameters.range=[D8Kh.E3mK(U8P,B8P,E8P,2),D8Kh.e3mK(B8P,E8P,U8P,2,D8Kh.N3mK(184))];}else if(k8P){D8Kh.i3mK(14);j8P.parameters.range=[D8Kh.E3mK(U8P,B8P,E8P),D8Kh.E3mK(E8P,B8P,U8P,D8Kh.N3mK(93))];}else if(x8P){D8Kh.i3mK(1);j8P.parameters.range=[D8Kh.e3mK(E8P,B8P),D8Kh.e3mK(E8P,B8P,D8Kh.N3mK(0))];}if(j8P.panel){G8P=p8P.panels[j8P.panel];q8P=p8P.getYAxisByName(G8P,j8P.name);if(q8P){q8P.decimalPlaces=G8P.chart.yAxis.printDecimalPlaces;V8P={yAxis:q8P};p8P.calculateYAxisRange(G8P,q8P,j8P.parameters.range[0],j8P.parameters.range[1]);p8P.createYAxis(G8P,V8P);p8P.drawYAxis(G8P,V8P);}}};h8P.Studies.displayValuationLines=function(d8P,Q8P){var c8Kh=T5VV;var z4i,h4i,b4i,r8P,w8P,b8P,Y8P,j9P,B9P,U9P,e8P,X8P,Z8P,c9P,K9P,O9P,n9P,H9P,J9P,F8P,g9P,E9P,h9P,B4i,E4i,i9P;z4i="stx_ya";z4i+="x";z4i+="is";h4i="ME";h4i+="D";b4i="Average Ty";b4i+="pe";r8P=d8P.panels[Q8P.panel];w8P=Q8P.getYAxis(d8P);b8P=Q8P.getContext(d8P);Y8P=Q8P.data;j9P=Q8P.parameters.labels;B9P=Q8P.inputs[b4i];U9P={mean:"AVG",median:h4i,harmonic:"HAVG"};e8P=d8P.canvasStyle("ciq-valuation-average-line");X8P=d8P.canvasStyle("ciq-valuation-deviation-line");c8Kh.k7Kh();Z8P=3;c9P=d8P.getCanvasFontSize(z4i) + Z8P * +"2";for(var W8P in Y8P){if(!Y8P[W8P])continue;c8Kh.i3mK(185);K9P=c8Kh.e3mK("Average",W8P);O9P=h8P.Studies.determineColor(Q8P.outputs[W8P]);n9P=Y8P[W8P];for(H9P=0;H9P < n9P.length;++H9P){B4i=":";B4i+=" ";E4i="da";E4i+="shed";J9P=n9P[H9P];F8P=d8P.pixelFromPrice(J9P,r8P,w8P);if(F8P <= r8P.top || F8P >= r8P.yAxis.bottom)continue;h9P=K9P?{pattern:e8P.borderStyle != "none"?e8P.borderStyle || "solid":"solid",lineWidth:parseFloat(e8P.borderWidth) || 1,opacity:parseFloat(e8P.opacity) || +"1",yAxis:w8P}:{pattern:X8P.borderStyle != "none"?X8P.borderStyle || E4i:"dashed",lineWidth:parseFloat(X8P.borderWidth) || 1,opacity:parseFloat(X8P.opacity) || +"1",yAxis:w8P};d8P.plotLine(r8P.left,r8P.right,F8P,F8P,O9P,"line",b8P,r8P,h9P);if(j9P === "yaxis"){d8P.createYAxisLabel(r8P,d8P.formatYAxisPrice(J9P,r8P),F8P,O9P,null,b8P,w8P);continue;}F8P+=Math.floor(h9P.lineWidth / 2);if(F8P + c9P >= r8P.yAxis.bottom)continue;g9P=(K9P?U9P[B9P] + B4i:W8P[0] + "\u03C3: ") + d8P.formatYAxisPrice(J9P,r8P);E9P=b8P.measureText(g9P).width;i9P=r8P.right - E9P - Z8P;if(w8P && w8P.position == "left"){i9P=r8P.left + Z8P;}c8Kh.N3mK(186);b8P.strokeText(g9P,i9P,c8Kh.e3mK(c9P,2,F8P,0.5));}}};h8P.Studies.studyLibrary=h8P.extend(h8P.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(o9P,G9P,p9P){h8P.Studies.calculateValuationLines(o9P,G9P,p9P);h8P.Studies.displayValuationLines(o9P,G9P);},overlay:! ![],yAxisFN:function(){},inputs:{Field:"field","Average Type":[G4i,"median",m4i],"Display Average":! ![],"Display 1 Standard Deviation (1\u03C3)":! !"","Display 2 Standard Deviation (2\u03C3)":![],"Display 3 Standard Deviation (3\u03C3)":!1},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":P4i,"2 Standard Deviation (2\u03C3)":f4i,"3 Standard Deviation (3\u03C3)":D4i}}});}};S3B=D9P=>{var q9P,V4i,K4i;q9P=typeof _CIQ !== "undefined"?_CIQ:D9P.CIQ;if(!q9P.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {V4i="fi";V4i+="e";V4i+="ld";K4i="0 to";K4i+=" 1";K4i+="00";q9P.Studies.calculateRelativeVolatility=function(M9P,k9P){var Z8Kh=T5VV;var W4i,k4i,y4i,m9P,x9P,t9P,v9P,N9P,C4i,A4i,S9P,a9P;W4i="R";W4i+="el ";W4i+="V";W4i+="ol";k4i="C";k4i+="lose";y4i="STD";y4i+=" P";function z9P(R9P,s9P){if(R9P + s9P === 0){return 100;}Z8Kh.i3mK(143);return Z8Kh.E3mK(s9P,R9P,R9P,100);}y4i+="erio";y4i+="d";k9P.days=Number(k9P.inputs["Smoothing Period"]);m9P=Number(k9P.inputs[y4i]);x9P=k9P.chart.scrubbed;if(x9P.length < k9P.days + m9P){k9P.error=! ![];return;}t9P=k9P.inputs.Field;if(!t9P || t9P == "field"){t9P=k4i;}k9P.std=new q9P.Studies.StudyDescriptor(k9P.name,"sdev",k9P.panel);k9P.std.chart=k9P.chart;k9P.std.days=m9P;k9P.std.startFrom=k9P.startFrom;Z8Kh.d7Kh();k9P.std.inputs={Field:t9P,"Standard Deviations":1,Type:"ma"};k9P.std.outputs={_STD:null};q9P.Studies.calculateStandardDeviation(M9P,k9P.std);v9P=0;N9P=+"0";if(k9P.startFrom > 1){C4i="_av";C4i+="gL";C4i+=" ";v9P=x9P[k9P.startFrom - 1]["_avgG " + k9P.name] || 0;N9P=x9P[k9P.startFrom - 1][C4i + k9P.name] || 0;}for(var V9P=Math.max(k9P.startFrom,k9P.days);V9P < x9P.length;V9P++){A4i="_";A4i+="S";A4i+="T";A4i+="D ";S9P=x9P[V9P];Z8Kh.i3mK(1);a9P=x9P[Z8Kh.E3mK(1,V9P)];if(!S9P[t9P] && S9P[t9P] !== 0)continue;if(!a9P[t9P] && a9P[t9P] !== 0)continue;if(!S9P[A4i + k9P.name] && S9P["_STD " + k9P.name] !== 0)continue;if(S9P[t9P] > a9P[t9P]){Z8Kh.N3mK(187);var F3Vu=Z8Kh.e3mK(20,0,6,8,3);v9P=(v9P * (k9P.days - F3Vu) + S9P["_STD " + k9P.name]) / k9P.days;Z8Kh.i3mK(188);var n3Vu=Z8Kh.e3mK(7,12,12,8,26);N9P=N9P * (k9P.days - n3Vu) / k9P.days;}else {Z8Kh.i3mK(16);var c3Vu=Z8Kh.E3mK(3,2);N9P=(N9P * (k9P.days - c3Vu) + S9P["_STD " + k9P.name]) / k9P.days;Z8Kh.N3mK(8);var d3Vu=Z8Kh.E3mK(10,13,4,18);v9P=v9P * (k9P.days - d3Vu) / k9P.days;}S9P["Rel Vol " + k9P.name]=z9P(v9P,N9P);S9P["_avgG " + k9P.name]=v9P;S9P["_avgL " + k9P.name]=N9P;}k9P.zoneOutput=W4i;};q9P.Studies.calculateHistoricalVolatility=function(I9P,P9P){var z8Kh=T5VV;var Q4i,T9P,l9P,L9P,F9P,C9P,A9P,l4i,R4i,u9P,r9P,r4i,d9P;Q4i="C";Q4i+="los";Q4i+="e";T9P=P9P.chart.scrubbed;if(T9P.length < P9P.days + 1){P9P.error=! !{};return;}l9P=P9P.inputs.Field;if(!l9P || l9P == "field"){l9P=Q4i;}L9P=P9P.inputs["Standard Deviations"];if(L9P < 0){L9P=1;}z8Kh.N3mK(189);var q3Vu=z8Kh.e3mK(17,119,7,109,9);F9P=q3Vu * Math.sqrt(Q9P(P9P.inputs["Days Per Year"])) * L9P;C9P=[];A9P=0;if(P9P.startFrom > +"1"){l4i="_sta";l4i+="te ";R4i="_s";R4i+="ta";R4i+="te";R4i+=" ";z8Kh.N3mK(1);var b3Vu=z8Kh.e3mK(17,18);A9P=T9P[P9P.startFrom - b3Vu][R4i + P9P.name][0];C9P=T9P[P9P.startFrom - 1][l4i + P9P.name][+"1"].slice();}for(var y9P=Math.max(1,P9P.startFrom);y9P < T9P.length;y9P++){z8Kh.N3mK(1);u9P=T9P[z8Kh.e3mK(1,y9P)][l9P];if(u9P){r9P=Math.log(T9P[y9P][l9P] / u9P);C9P.push(r9P);A9P+=r9P;if(y9P >= P9P.days){r4i="R";r4i+="e";r4i+="s";r4i+="ult ";d9P=0;A9P/=P9P.days;for(var f9P=0;f9P < C9P.length;f9P++){d9P+=Math.pow(C9P[f9P] - A9P,+"2");}A9P*=P9P.days;A9P-=C9P.shift();T9P[y9P][r4i + P9P.name]=Math.sqrt(d9P / P9P.days) * F9P;}}T9P[y9P]["_state " + P9P.name]=[A9P,C9P.slice()];}function Q9P(w9P){var J4i,T4i,g4i;J4i="mo";J4i+="n";J4i+="t";J4i+="h";T4i="w";T4i+="e";T4i+="ek";g4i="d";g4i+="a";g4i+="y";if(isNaN(w9P)){w9P=365;}if(I9P.layout.interval == g4i){return w9P;}else if(I9P.layout.interval == T4i){return 52;}else if(I9P.layout.interval == J4i){return 12;}return w9P;}};q9P.Studies.studyLibrary=q9P.extend(q9P.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:q9P.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:"0.1" - 0}}},"Rel Vol":{name:"Relative Volatility",range:K4i,calculateFN:q9P.Studies.calculateRelativeVolatility,inputs:{Field:V4i,"STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};v3B=b9P=>{var W9P;W9P=typeof _CIQ !== "undefined"?_CIQ:b9P.CIQ;if(!W9P.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {W9P.Studies.displayVolumeProfile=function(Y9P,J0s,R0s){var X4i,u4i,a4i,H0s,O0s,U0s,q0s,D0s,a0s,X9P,E0s,Z9P,s0s,o0s,B0s,O4i,e9P,m0s,M0s,v0s,x0s,K0s,P0s,z0s,T0s,V0s,p4i;X4i="Bars ";X4i+="Col";X4i+="or";u4i="c";u4i+="ol";u4i+="o";u4i+="r";function C0s(H1s,Q0s){var n3bh=T5VV;var b0s,w0s,d0s,r0s,F0s,e0s,X0s,Y0s,Z0s;if(!Q0s){K0s-=2;}n3bh.k7Kh();V0s.canvasColor(H1s);e9P.beginPath();b0s=X9P[0][0];w0s=K0s;for(var L0s=1;L0s < X9P.length;L0s++){if(X9P[L0s]["1" ^ 0]){n3bh.i3mK(16);var h3Vu=n3bh.E3mK(9,8);d0s=Math.round(K0s - X9P[L0s][h3Vu] * P0s / E0s) - +"0.5";r0s=Math.round(V0s.pixelFromTransformedValue(b0s,v0s)) + 0.5;F0s=Math.round(V0s.pixelFromTransformedValue(X9P[L0s][0],v0s)) + ("0.5" - 0);if(!Q0s){r0s-=0.5;F0s+=0.5;d0s+=0.5;}if(r0s > x0s){r0s=x0s;}if(F0s < x0s){e9P.moveTo(K0s,r0s);e9P.lineTo(K0s,F0s);e9P.lineTo(d0s,F0s);e9P.lineTo(d0s,r0s);if(Q0s){if(w0s > d0s || L0s == 1){e9P.lineTo(w0s,r0s);};}else {e9P.lineTo(K0s,r0s);if(D0s){e0s=W9P.condenseInt(X9P[L0s][1]);n3bh.N3mK(1);X0s=n3bh.e3mK(F0s,r0s);if(M0s <= X0s - 2){try{Y0s=e9P.measureText(e0s).width;}catch(J1s){Y0s=+"0";}e9P.textBaseline="top";Z0s=e9P.fillStyle;e9P.fillStyle=z0s;n3bh.i3mK(14);e9P.fillText(e0s,n3bh.E3mK(Y0s,d0s,3),n3bh.E3mK(2,X0s,2,F0s,M0s,n3bh.N3mK(190)));e9P.fillStyle=Z0s;}}}}w0s=d0s;}else {w0s=K0s;;}b0s=X9P[L0s][0];}if(!J0s.highlight && Y9P.highlightedDraggable){e9P.globalAlpha*=+"0.3";}if(!Q0s){e9P.fill();}e9P.strokeStyle=z0s;if(Q0s){e9P.stroke();}e9P.closePath();}a4i="s";a4i+="tx";a4i+="_volume_p";a4i+="rofile";if(!Y9P || !Y9P.chart.dataSet){return;}H0s=Y9P.chart;O0s=J0s.parameters.numberOfBars;U0s=J0s.parameters.widthPercentage;q0s=J0s.parameters.displayBorder;D0s=J0s.parameters.displayVolume;if(!O0s || O0s < 0){O0s=30;}O0s=Math.ceil(O0s);if(!U0s || U0s < 0){U0s=0.25;}if(q0s !== !"1"){q0s=!"";}if(D0s !== !""){D0s=! !"";}a0s=(H0s.highValue - H0s.lowValue) / O0s;if(a0s === 0){return;}X9P=[];for(var t0s=H0s.lowValue;t0s < H0s.highValue + 0.1;t0s+=a0s){X9P.push([t0s,0]);}if(X9P.length < 2){Y9P.displayErrorAsWatermark("chart",Y9P.translateIf("Not enough data to render the Volume Profile"));return;}T5VV.N3mK(22);E0s=T5VV.E3mK("0",0);for(var S0s=0;S0s < R0s.length;S0s++){Z9P=R0s[S0s];if(!Z9P)continue;s0s=Z9P.Volume;if(J0s.panel == H0s.name && Z9P.transform){Z9P=Z9P.transform;}o0s=X9P[0][0];B0s=0;for(var n0s=1;n0s < X9P.length;n0s++){B0s=X9P[n0s][0];if(Z9P.Low >= o0s && Z9P.Low <= B0s || Z9P.Low < o0s && Z9P.High > B0s || Z9P.High >= o0s && Z9P.High <= B0s){X9P[n0s][1]+=s0s;if(X9P[n0s][1] > E0s){E0s=X9P[n0s][1];}}o0s=B0s;}}if(E0s === 0){O4i="ch";O4i+="art";Y9P.displayErrorAsWatermark(O4i,Y9P.translateIf("Not enough data to render the Volume Profile"));return;}Y9P.setStyle(a4i,u4i,W9P.Studies.determineColor(J0s.outputs[X4i]));e9P=J0s.getContext(Y9P);m0s="stx-float-date";Y9P.canvasFont(m0s,e9P);M0s=Y9P.getCanvasFontSize(m0s);v0s=H0s.panel;x0s=v0s.yAxis.bottom;K0s=Math.round(H0s.right) - 0.5;P0s=H0s.width * U0s;z0s=Y9P.canvasStyle("stx_volume_profile").borderTopColor;T0s=!W9P.isTransparent(Y9P.canvasStyle("stx_volume_profile").borderTopColor) && q0s;V0s=Y9P;C0s("stx_volume_profile",![]);if(T0s){p4i="stx_vol";p4i+="ume_p";p4i+="rofile";C0s(p4i,!"");}e9P.globalAlpha=1;};W9P.Studies.studyLibrary=W9P.extend(W9P.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:!0,seriesFN:W9P.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! !1,parameters:{init:{displayBorder:! ![],displayVolume:!1,numberOfBars:30,widthPercentage:"0.25" * 1}},attributes:{yaxisDisplayValue:{hidden:! !"1"},panelName:{hidden:! ![]},flippedEnabled:{hidden:! !{}}}}});}};N3B=n1s=>{T5VV.d7Kh();var l3v,r3v,K3v,Y4i,c1s,i8i,Z8i,I8i,N8i,M8i,e8i;l3v=-1776951374;r3v=-923323027;K3v=2;for(var O3v=1;T5VV.s1v(O3v.toString(),O3v.toString().length,43308) !== l3v;O3v++){Y4i="und";Y4i+="efined";c1s=typeof _CIQ !== Y4i?_CIQ:n1s.CIQ;K3v+=2;}if(T5VV.s1v(K3v.toString(),K3v.toString().length,20727) !== r3v){c1s=+_CIQ != ""?_CIQ:n1s.CIQ;}if(!c1s.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {i8i="0";i8i+=" t";i8i+="o max";Z8i="Volume Rate";Z8i+=" of Chang";Z8i+="e";I8i="Trade Volum";I8i+="e Index";N8i="a";N8i+="ut";N8i+="o";M8i="m";M8i+="a";e8i="f";e8i+="i";e8i+="el";e8i+="d";c1s.Studies.calculateOnBalanceVolume=function(q1s,i1s){var w8Kh=T5VV;var s8i,g1s,j1s,p1s,U1s,E1s,B1s,o1s,v8i,H8i,G1s;s8i="Min Tick Va";s8i+="lue";g1s=i1s.inputs.Field;if(!g1s || g1s == "field"){g1s="Close";}j1s=i1s.inputs[s8i];p1s=![];if(!j1s && j1s !== 0){p1s=! !1;j1s=0;}U1s=i1s.chart.scrubbed;w8Kh.i3mK(1);E1s=w8Kh.e3mK(0,"0");for(var h1s=i1s.startFrom;h1s < U1s.length;h1s++){v8i="Res";v8i+="ul";v8i+="t";v8i+=" ";H8i="Re";H8i+="s";H8i+="u";H8i+="lt ";B1s=U1s[h1s];if(!h1s || !B1s[g1s])continue;if(U1s[h1s - ("1" << 829019296)][g1s]){w8Kh.i3mK(1);o1s=U1s[w8Kh.e3mK(1,h1s)];}if(!o1s)continue;if(B1s[g1s] - o1s[g1s] > j1s){E1s=1;}else if(o1s[g1s] - B1s[g1s] > j1s){E1s=-1;}else if(p1s){w8Kh.N3mK(53);E1s=w8Kh.e3mK("0",1522562016);}G1s=o1s[H8i + i1s.name];if(!G1s){G1s=0;}G1s+=B1s.Volume * E1s;B1s[v8i + i1s.name]=G1s;}};c1s.Studies.calculatePriceVolumeTrend=function(N1s,S1s){var S8Kh=T5VV;var t1s,D1s,v1s,U8i;t1s=S1s.inputs.Field;if(!t1s || t1s == "field"){t1s="Close";}D1s=S1s.chart.scrubbed;S8Kh.k7Kh();v1s=0;if(S1s.startFrom > 1){U8i="Result";U8i+=" ";S8Kh.i3mK(191);var z3Vu=S8Kh.E3mK(4,1,13,0,16);v1s=D1s[S1s.startFrom - z3Vu][U8i + S1s.name];}for(var k1s=Math.max(1,S1s.startFrom);k1s < D1s.length;k1s++){if(!D1s[k1s][t1s])continue;if(!D1s[k1s - 1][t1s])continue;S8Kh.i3mK(8);var E3Vu=S8Kh.E3mK(5,19,14,9);S8Kh.N3mK(45);var B3Vu=S8Kh.e3mK(107,10,6,8);v1s+=D1s[k1s].Volume * (D1s[k1s][t1s] - D1s[k1s - E3Vu][t1s]) / D1s[k1s - B3Vu][t1s];D1s[k1s]["Result " + S1s.name]=v1s;}};c1s.Studies.calculateVolumeIndex=function(A1s,x1s){var y8Kh=T5VV;var o8i,j8i,w8i,S8i,R1s,V1s,s1s,x8i,L8i,t8i,m1s,P1s,M1s,T1s;o8i="M";o8i+="A";j8i="In";j8i+="d";j8i+="ex ";w8i="Ind";w8i+="ex";w8i+=" ";S8i="Clos";S8i+="e";y8Kh.k7Kh();R1s=x1s.inputs.Field;if(!R1s || R1s == "field"){R1s=S8i;}V1s=x1s.chart.scrubbed;if(V1s.length < x1s.days + 1){x1s.error=! !"1";return;}s1s=+"100";if(x1s.startFrom > 1){y8Kh.N3mK(34);var G3Vu=y8Kh.E3mK(9,1,181,19);s1s=V1s[x1s.startFrom - G3Vu][w8i + x1s.name];}for(var a1s=Math.max(1,x1s.startFrom);a1s < V1s.length;a1s++){x8i="I";x8i+="n";x8i+="dex";x8i+=" ";L8i="Po";L8i+="s Vol";t8i="obj";t8i+="ect";m1s=V1s[a1s][R1s];P1s=V1s[a1s].Volume;if(m1s && typeof m1s == "object"){P1s=m1s.Volume;m1s=m1s[x1s.subField];}y8Kh.i3mK(1);M1s=V1s[y8Kh.e3mK(1,a1s)][R1s];T1s=V1s[a1s - 1].Volume;if(M1s && typeof M1s == t8i){T1s=M1s.Volume;M1s=M1s[x1s.subField];}if(!m1s)continue;if(!M1s)continue;if(x1s.type == L8i && P1s > T1s || x1s.type == "Neg Vol" && P1s < T1s){y8Kh.N3mK(10);s1s*=y8Kh.e3mK(m1s,M1s);}V1s[a1s][x8i + x1s.name]=s1s;}c1s.Studies.MA(x1s.inputs["Moving Average Type"],x1s.days,j8i + x1s.name,0,o8i,A1s,x1s);};c1s.Studies.studyLibrary=c1s.extend(c1s.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:c1s.Studies.calculateVolumeIndex,inputs:{Period:+"255",Field:e8i,"Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:c1s.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:c1s.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":M8i},outputs:{Index:N8i,MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:c1s.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:I8i,calculateFN:c1s.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":+"0.5"}},"Vol ROC":{name:Z8i,calculateFN:function(C1s,L1s){T5VV.k7Kh();if(c1s.Studies.calculateRateOfChange){c1s.Studies.calculateRateOfChange(C1s,L1s);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");c1s.Studies.calculateRateOfChange=function(f1s,I1s){};}},parameters:{init:{isVolume:! !{}}}},"vol undr":{name:"Volume Underlay",underlay:! ![],range:i8i,yAxis:{ground:! ![],initialMarginTop:0,position:"none",zoom:+"0",heightFactor:0.25},seriesFN:c1s.Studies.createVolumeChart,calculateFN:c1s.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:! !"1",removeFN:function(d1s,F1s){d1s.layout.volumeUnderlay=!1;d1s.changeOccurred("layout");},attributes:{panelName:{hidden:!0}}}});}};x3B=w1s=>{var Q1s,b8i,q8i,d8i,c8i;Q1s=typeof _CIQ !== "undefined"?_CIQ:w1s.CIQ;if(!Q1s.Studies){console.error("vortex feature requires first activating studies feature.");}else {b8i="a";b8i+="u";b8i+="t";b8i+="o";q8i="#FF0";q8i+="0";q8i+="00";d8i="#00FF";d8i+="00";c8i="V";c8i+="ortex Indic";c8i+="ato";c8i+="r";Q1s.Studies.calculateVortex=function(c4s,W1s){var v8Kh=T5VV;var l3s,X3s,f9v,D9v,y9v,b1s,n8i,e1s,Y3s,Z3s,H4s,J4s,F8i;l3s=W1s.chart.scrubbed;X3s=W1s.days;v8Kh.d7Kh();if(l3s.length < X3s + 1){f9v=-2066400425;D9v=-1576916126;y9v=2;for(var C9v="1" | 1;v8Kh.s1v(C9v.toString(),C9v.toString().length,314) !== f9v;C9v++){W1s.error=! !"1";return;}if(v8Kh.Y6v(y9v.toString(),y9v.toString().length,24125) !== D9v){W1s.error=!"1";return;}}b1s={tr:0,vmPlus:0,vmMinus:+"0"};if(W1s.startFrom > +"1"){b1s=Q1s.clone(l3s[W1s.startFrom - 1]["_totals " + W1s.name]);}for(var z3s=Math.max(W1s.startFrom,+"1");z3s < l3s.length;z3s++){n8i="_Tr";n8i+="ue R";n8i+="a";n8i+="nge ";e1s=l3s[z3s];v8Kh.N3mK(192);Y3s=l3s[v8Kh.e3mK(0,"1",z3s)];Z3s=Math.abs(e1s.High - Y3s.Low);H4s=Math.abs(e1s.Low - Y3s.High);J4s=Math.max(e1s.High,Y3s.Close) - Math.min(e1s.Low,Y3s.Close);b1s.tr+=J4s;b1s.vmPlus+=Z3s;b1s.vmMinus+=H4s;if(z3s > X3s){F8i="_True R";F8i+="ange ";v8Kh.i3mK(1);b1s.tr-=l3s[v8Kh.e3mK(X3s,z3s)][F8i + W1s.name];v8Kh.N3mK(1);b1s.vmPlus-=l3s[v8Kh.e3mK(X3s,z3s)]["_VMPlus " + W1s.name];v8Kh.N3mK(1);b1s.vmMinus-=l3s[v8Kh.e3mK(X3s,z3s)]["_VMMinus " + W1s.name];}e1s[n8i + W1s.name]=J4s;e1s["_VMPlus " + W1s.name]=Z3s;e1s["_VMMinus " + W1s.name]=H4s;if(z3s >= X3s){e1s["+VI " + W1s.name]=b1s.vmPlus / b1s.tr;e1s["-VI " + W1s.name]=b1s.vmMinus / b1s.tr;}e1s["_totals " + W1s.name]=Q1s.clone(b1s);}};Q1s.Studies.studyLibrary=Q1s.extend(Q1s.Studies.studyLibrary,{Vortex:{name:c8i,calculateFN:Q1s.Studies.calculateVortex,centerline:1,outputs:{"+VI":d8i,"-VI":q8i},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:1.1,studyOverBoughtColor:b8i,studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:"1" & 2147483647,step:"0.01"},studyOverSoldValue:{max:+"1",step:"0.01"}}}});}};V3B=O4s=>{var K4s,y8i,D8i;K4s=typeof _CIQ !== "undefined"?_CIQ:O4s.CIQ;if(!K4s.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {y8i="#5f";y8i+="7";y8i+="c";y8i+="b8";D8i="Marke";D8i+="t";D8i+=" F";D8i+="acilitation Index";K4s.Studies.calculateMFI=function(E4s,n4s){var h8i,g4s,B4s,i4s,j4s,U4s,h4s,E8i,z8i;h8i="Scale Fa";T5VV.d7Kh();h8i+="ctor";g4s=n4s.chart.scrubbed;i4s=0;j4s=n4s.inputs["Scale Factor"];if(!j4s){j4s=n4s.study.inputs[h8i];}U4s=Math.pow(10,Number(j4s));if(n4s.startFrom > 1){T5VV.N3mK(193);var m3Vu=T5VV.e3mK(16,4,147,2,20);i4s=g4s[n4s.startFrom - m3Vu]["_high " + n4s.name];}for(h4s=n4s.startFrom;h4s < g4s.length;h4s++){if(!g4s[h4s])continue;if(g4s[h4s].Volume){E8i="_";E8i+="hi";E8i+="gh";E8i+=" ";z8i="_h";z8i+="is";z8i+="t";g4s[h4s][n4s.name + z8i]=B4s=U4s * (g4s[h4s].High - g4s[h4s].Low) / g4s[h4s].Volume;g4s[h4s][E8i + n4s.name]=i4s=Math.max(i4s,B4s);}}n4s.outputMap={};n4s.outputMap[n4s.name + "_hist"]="";};K4s.Studies.displayMFI=function(G4s,o4s,N4s){var B8i,x4s,k4s,v4s,V4s,S4s,a4s,m4s,M4s,z4s,f8i,P8i,m8i,G8i,q4s,D4s;B8i="#CCCCC";B8i+="C";x4s=G4s.panels[o4s.panel];k4s=o4s.getContext(G4s);v4s=o4s.getYAxis(G4s);V4s=v4s.flipped?v4s.top:v4s.bottom;S4s=G4s.layout.candleWidth - ("2" ^ 0);if(S4s < 2){S4s=+"1";}a4s=K4s.Studies.determineColor(o4s.outputs.Green);m4s=K4s.Studies.determineColor(o4s.outputs.Fade);M4s=K4s.Studies.determineColor(o4s.outputs.Fake);z4s=K4s.Studies.determineColor(o4s.outputs.Squat);G4s.canvasColor("stx_histogram");if(!o4s.underlay){k4s.globalAlpha=+"1";}k4s.fillStyle=B8i;G4s.startClip(o4s.panel);if(!o4s.highlight && G4s.highlightedDraggable){k4s.globalAlpha*=0.3;}for(var t4s=0;t4s < N4s.length;t4s++){f8i="_";f8i+="hist";P8i="_h";P8i+="i";P8i+="st";m8i="_hi";m8i+="st";G8i="_h";G8i+="i";G8i+="s";G8i+="t";q4s=N4s[t4s];T5VV.N3mK(1);D4s=N4s[T5VV.E3mK(1,t4s)];if(!D4s){D4s=G4s.getPreviousBar(G4s.chart,o4s.name + G8i,t4s);}if(!q4s)continue;if(!D4s);else if(D4s[o4s.name + m8i] < q4s[o4s.name + "_hist"]){if(D4s.Volume < q4s.Volume){k4s.fillStyle=a4s;}else if(D4s.Volume > q4s.Volume){k4s.fillStyle=M4s;}}else if(D4s[o4s.name + P8i] > q4s[o4s.name + f8i]){if(D4s.Volume < q4s.Volume){k4s.fillStyle=z4s;}else if(D4s.Volume > q4s.Volume){k4s.fillStyle=m4s;}}if(q4s.candleWidth){S4s=Math.floor(Math.max(+"1",q4s.candleWidth - 2));}k4s.fillRect(Math.floor(G4s.pixelFromBar(t4s,x4s.chart) - S4s / 2),Math.floor(V4s),Math.floor(S4s),Math.floor(G4s.pixelFromPrice(q4s[o4s.name + "_hist"],x4s,v4s) - V4s));}G4s.endClip();};K4s.Studies.studyLibrary=K4s.extend(K4s.Studies.studyLibrary,{"W MFI":{name:D8i,seriesFN:K4s.Studies.displayMFI,calculateFN:K4s.Studies.calculateMFI,yAxis:{ground:! !{}},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:y8i,Squat:"#ffd0cf"}}});}};R3B={CIQ:i2B,SplinePlotter:a3B,timezoneJS:m3B,$$:M3B,$$$:z3B};export {j2B as aggregations};export {B2B as drawingAdvanced};export {U2B as equationsAdvanced};export {E2B as highPerformanceMarkers};export {o2B as renderersAdvanced};export {G2B as accumulationDistribution};export {p2B as adx};export {q2B as alligator};export {D2B as aroon};export {k2B as atr};export {t2B as awesomeOscillator};export {S2B as balanceOfPower};export {v2B as bollinger};export {N2B as cci};export {x2B as centerOfGravity};export {V2B as chaikin};export {a2B as chande};export {m2B as choppiness};export {M2B as comparisonStudies};export {z2B as coppock};export {R2B as darvasBox};export {s2B as detrended};export {P2B as disparity};export {T2B as easeOfMovement};export {A2B as ehlerFisher};export {y2B as elder};export {C2B as fractalChaos};export {l2B as highLowStudies};export {L2B as ichimoku};export {f2B as intradayMomentum};export {I2B as keltner};export {u2B as klinger};export {r2B as linearRegression};export {d2B as macd};export {F2B as massIndex};export {Q2B as moneyFlow};export {w2B as movingAverages};export {W2B as parabolicSAR};export {b2B as pivotPoints};export {e2B as prettyGoodOscillator};export {X2B as priceMomentumOscillator};export {Y2B as priceVolumeOscillator};export {Z2B as primeNumber};export {H3B as pring};export {J3B as projectedVolume};export {c3B as psychologicalLine};export {K3B as qstick};export {O3B as rainbow};export {n3B as randomWalk};export {g3B as relativeVigor};export {h3B as rsi};export {i3B as schaffTrendCycle};export {j3B as shinohara};export {B3B as stochastics};export {U3B as supertrend};export {E3B as swingIndex};export {o3B as trendIntensity};export {G3B as trix};export {p3B as twiggsMoneyFlow};export {q3B as typicalPrice};export {D3B as ulcerIndex};export {k3B as ultimateOscillator};export {t3B as valuationLines};export {S3B as volatilityIndex};export {v3B as volumeProfile};export {N3B as volumeStudies};export {x3B as vortex};export {V3B as williamsMFI};export {i2B as CIQ, a3B as SplinePlotter, m3B as timezoneJS, M3B as $$, z3B as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(R3B.CIQ || i2B).activateImports(j2B,B2B,U2B,E2B,o2B,G2B,p2B,q2B,D2B,k2B,t2B,S2B,v2B,N2B,x2B,V2B,a2B,m2B,M2B,z2B,R2B,s2B,P2B,T2B,A2B,y2B,C2B,l2B,L2B,f2B,I2B,u2B,r2B,d2B,F2B,Q2B,w2B,W2B,b2B,e2B,X2B,Y2B,Z2B,H3B,J3B,c3B,K3B,O3B,n3B,g3B,h3B,i3B,j3B,B3B,U3B,E3B,o3B,G3B,p3B,q3B,D3B,k3B,t3B,S3B,v3B,N3B,x3B,V3B,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
